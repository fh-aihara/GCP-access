{"ast":null,"code":"import api from \"../api/api.js\";\nexport default {\n  name: \"externalConnect\",\n  components: {},\n  data: function data() {\n    return {\n      discord_guild: null,\n      discord_disconnect_loading: null\n    };\n  },\n  mounted: function mounted() {\n    this.getDiscordInfo();\n  },\n  computed: {},\n  watch: {},\n  methods: {\n    getDiscordInfo: function getDiscordInfo() {\n      var _this = this;\n      api.getItemsDiscord().then(function (response) {\n        console.log(response);\n        _this.discord_guild = response.data[0];\n      })[\"catch\"](function (error) {\n        console.log(\"error\", error);\n        _this.$toast.show(\"Discordのデータ取得に失敗しました\", {\n          type: \"error\",\n          position: \"top\",\n          duration: 5000\n        });\n      });\n    },\n    deleteDiscordInfo: function deleteDiscordInfo() {\n      var _this2 = this;\n      api.deleteItemsDiscord().then(function (response) {\n        console.log(response);\n        _this2.discord_guild = null;\n        _this2.$toast.show(\"Discordの連携解除に成功しました。サーバーからのBotの削除は別途実施してください\", {\n          type: \"success\",\n          position: \"top\",\n          duration: 3000\n        });\n      })[\"catch\"](function (error) {\n        console.log(\"error\", error);\n        _this2.$toast.show(\"Discordの連携解除に失敗しました\", {\n          type: \"error\",\n          position: \"top\",\n          duration: 5000\n        });\n      });\n    }\n  }\n};","map":{"version":3,"mappings":"AA8DA,OAAOA,GAAE,MAAO,eAAe;AAE/B,eAAe;EACbC,IAAI,EAAE,iBAAiB;EACvBC,UAAU,EAAE,CAAC,CAAC;EACdC,IAAI,kBAAG;IACL,OAAO;MACLC,aAAa,EAAE,IAAI;MACnBC,0BAA0B,EAAE;IAC9B,CAAC;EACH,CAAC;EACDC,OAAO,qBAAG;IACR,IAAI,CAACC,cAAc,EAAE;EACvB,CAAC;EACDC,QAAQ,EAAE,CAAC,CAAC;EACZC,KAAK,EAAE,CAAC,CAAC;EACTC,OAAO,EAAE;IACPH,cAAc,4BAAG;MAAA;MACfP,GAAE,CACCW,eAAe,EAAC,CAChBC,IAAI,CAAC,UAACC,QAAQ,EAAK;QAClBC,OAAO,CAACC,GAAG,CAACF,QAAQ,CAAC;QACrB,KAAI,CAACT,aAAY,GAAIS,QAAQ,CAACV,IAAI,CAAC,CAAC,CAAC;MACvC,CAAC,UACK,CAAC,UAACa,KAAK,EAAK;QAChBF,OAAO,CAACC,GAAG,CAAC,OAAO,EAAEC,KAAK,CAAC;QAC3B,KAAI,CAACC,MAAM,CAACC,IAAI,CAAC,sBAAsB,EAAE;UACvCC,IAAI,EAAE,OAAO;UACbC,QAAQ,EAAE,KAAK;UACfC,QAAQ,EAAE;QACZ,CAAC,CAAC;MACJ,CAAC,CAAC;IACN,CAAC;IACDC,iBAAiB,+BAAG;MAAA;MAClBtB,GAAE,CACCuB,kBAAkB,EAAC,CACnBX,IAAI,CAAC,UAACC,QAAQ,EAAK;QAClBC,OAAO,CAACC,GAAG,CAACF,QAAQ,CAAC;QACrB,MAAI,CAACT,aAAY,GAAI,IAAI;QACzB,MAAI,CAACa,MAAM,CAACC,IAAI,CACd,8CAA8C,EAC9C;UACEC,IAAI,EAAE,SAAS;UACfC,QAAQ,EAAE,KAAK;UACfC,QAAQ,EAAE;QACZ,EACD;MACH,CAAC,UACK,CAAC,UAACL,KAAK,EAAK;QAChBF,OAAO,CAACC,GAAG,CAAC,OAAO,EAAEC,KAAK,CAAC;QAC3B,MAAI,CAACC,MAAM,CAACC,IAAI,CAAC,qBAAqB,EAAE;UACtCC,IAAI,EAAE,OAAO;UACbC,QAAQ,EAAE,KAAK;UACfC,QAAQ,EAAE;QACZ,CAAC,CAAC;MACJ,CAAC,CAAC;IACN;EACF;AACF,CAAC","names":["api","name","components","data","discord_guild","discord_disconnect_loading","mounted","getDiscordInfo","computed","watch","methods","getItemsDiscord","then","response","console","log","error","$toast","show","type","position","duration","deleteDiscordInfo","deleteItemsDiscord"],"sourceRoot":"","sources":["/Users/kazuaki.aihara/Documents/hanabi-admin/src/views/ExternalConnect.vue"],"sourcesContent":["<template>\n  <div class=\"campaignAddConditions\">\n    <!-- side var  -->\n    <SideVar />\n    <!-- input panel -->\n    <RightColumnOutline>\n      <PageTitle>External Connect</PageTitle>\n      <div class=\"flex justify-left items-center my-4 text-white text-lg\">\n        <img\n          class=\"w-8 mx-4\"\n          src=\"https://sociama-product-image.s3.ap-northeast-1.amazonaws.com/discord_icon_130958.png\"\n          alt=\"discord_icon\"\n        />\n        <div class=\"mr-2\">Discord</div>\n        <div v-if=\"discord_guild\" class=\"flex justify-left items-center w-auto\">\n          <img\n            :src=\"\n              'https://cdn.discordapp.com/icons/' +\n              discord_guild.item_data_1 +\n              '/' +\n              discord_guild.item_data_3\n            \"\n            alt=\"discord_icon\"\n            class=\"w-8 mx-4\"\n          />\n          <div class=\"w-1/2\">\n            {{ discord_guild.item_data_2 }}\n          </div>\n          <button\n            class=\"text-lg py-1 px-3 mx-2 text-white font-semibold rounded-xl focus:ring focus:ring-gray-300 transition ease-in-out duration-200\"\n            :class=\"\n              discord_disconnect_loading\n                ? 'bg-red-700 hover:bg-red-800'\n                : 'bg-red-500 hover:bg-red-600'\n            \"\n            type=\"button\"\n            @click=\"deleteDiscordInfo\"\n          >\n            <i\n              class=\"pi pi-spin pi-spinner text-sm mx-1\"\n              v-if=\"discord_disconnect_loading\"\n            ></i\n            >Disconnect\n          </button>\n        </div>\n        <div v-else>\n          <a\n            href=\"https://discord.com/api/oauth2/authorize?client_id=1120705399532826754&permissions=269552672&redirect_uri=https%3A%2F%2Fsocial-marketing.io%2Fsetting%2Fexternal-connect%2Fdiscord-bot-added&response_type=code&scope=identify%20bot\"\n            ><button\n              class=\"text-lg py-1 px-3 text-white font-semibold rounded-xl focus:ring focus:ring-blue-300 transition ease-in-out duration-200 bg-blue-600 hover:bg-blue-700\"\n              type=\"button\"\n            >\n              Connect\n            </button></a\n          >\n        </div>\n      </div>\n    </RightColumnOutline>\n  </div>\n</template>\n\n<script>\nimport api from \"../api/api.js\";\n\nexport default {\n  name: \"externalConnect\",\n  components: {},\n  data() {\n    return {\n      discord_guild: null,\n      discord_disconnect_loading: null,\n    };\n  },\n  mounted() {\n    this.getDiscordInfo();\n  },\n  computed: {},\n  watch: {},\n  methods: {\n    getDiscordInfo() {\n      api\n        .getItemsDiscord()\n        .then((response) => {\n          console.log(response);\n          this.discord_guild = response.data[0];\n        })\n        .catch((error) => {\n          console.log(\"error\", error);\n          this.$toast.show(\"Discordのデータ取得に失敗しました\", {\n            type: \"error\",\n            position: \"top\",\n            duration: 5000,\n          });\n        });\n    },\n    deleteDiscordInfo() {\n      api\n        .deleteItemsDiscord()\n        .then((response) => {\n          console.log(response);\n          this.discord_guild = null;\n          this.$toast.show(\n            \"Discordの連携解除に成功しました。サーバーからのBotの削除は別途実施してください\",\n            {\n              type: \"success\",\n              position: \"top\",\n              duration: 3000,\n            }\n          );\n        })\n        .catch((error) => {\n          console.log(\"error\", error);\n          this.$toast.show(\"Discordの連携解除に失敗しました\", {\n            type: \"error\",\n            position: \"top\",\n            duration: 5000,\n          });\n        });\n    },\n  },\n};\n</script>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}