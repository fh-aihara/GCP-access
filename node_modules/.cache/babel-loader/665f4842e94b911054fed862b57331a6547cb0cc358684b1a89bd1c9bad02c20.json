{"ast":null,"code":"import _defineProperty from \"/Users/kazuaki.aihara/Documents/hanabi-admin/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _regeneratorRuntime from \"/Users/kazuaki.aihara/Documents/hanabi-admin/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/kazuaki.aihara/Documents/hanabi-admin/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nvar _methods;\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.string.replace.js\";\nimport SideVar from \"@/components/SideVar.vue\";\nimport api from \"../api/api\";\nexport default {\n  data: function data() {\n    return {\n      birthday: null,\n      personalPic: null\n    };\n  },\n  components: {\n    SideVar: SideVar\n  },\n  mounted: function mounted() {\n    // this.campaign_id = this.$route.params.id;\n    // this.getInstantwin();\n  },\n  computed: {},\n  methods: (_methods = {\n    getage_verification: function getage_verification() {\n      var _this = this;\n      api.getage_verification({\n        id: this.$route.params.id\n      }).then(function (response) {\n        _this.birthday = response.data[0].birthday;\n      })[\"catch\"](function (error) {\n        this.$toast.show(\"データの取得に失敗しました。システム管理者にお問合せください。\", {\n          type: \"error\",\n          position: \"top-right\",\n          duration: 5000\n        });\n        console.log(error);\n      });\n    }\n  }, _defineProperty(_methods, \"getage_verification\", function getage_verification() {\n    var _this2 = this;\n    api.getage_verification({\n      id: this.$route.params.id\n    }).then(function (response) {\n      _this2.birthday = response.data[0].birthday;\n    })[\"catch\"](function (error) {\n      this.$toast.show(\"データの取得に失敗しました。システム管理者にお問合せください。\", {\n        type: \"error\",\n        position: \"top-right\",\n        duration: 5000\n      });\n      console.log(error);\n    });\n  }), _defineProperty(_methods, \"selectedHeader\", function selectedHeader(e) {\n    e.preventDefault();\n    var files = e.target.files;\n    this.headerPic = files[0];\n    this.createHeader(files[0]);\n  }), _defineProperty(_methods, \"selectedWin\", function selectedWin(e) {\n    e.preventDefault();\n    var files = e.target.files;\n    this.winPic = files[0];\n    this.createWin(files[0]);\n  }), _defineProperty(_methods, \"selectedLose\", function selectedLose(e) {\n    e.preventDefault();\n    var files = e.target.files;\n    this.losePic = files[0];\n    this.createLose(files[0]);\n  }), _defineProperty(_methods, \"createHeader\", function createHeader(file) {\n    var _this3 = this;\n    var reader = new FileReader();\n    reader.onload = function (e) {\n      _this3.headerPreview = e.target.result;\n    };\n    reader.readAsDataURL(file);\n  }), _defineProperty(_methods, \"removeHeader\", function removeHeader() {\n    this.headerPreview = false;\n  }), _defineProperty(_methods, \"createWin\", function createWin(file) {\n    var _this4 = this;\n    var reader = new FileReader();\n    reader.onload = function (e) {\n      _this4.winPreview = e.target.result;\n    };\n    reader.readAsDataURL(file);\n  }), _defineProperty(_methods, \"removeWin\", function removeWin() {\n    this.winPreview = false;\n  }), _defineProperty(_methods, \"createLose\", function createLose(file) {\n    var _this5 = this;\n    var reader = new FileReader();\n    reader.onload = function (e) {\n      _this5.losePreview = e.target.result;\n    };\n    reader.readAsDataURL(file);\n  }), _defineProperty(_methods, \"removeLose\", function removeLose() {\n    this.losePreview = false;\n  }), _defineProperty(_methods, \"postPics\", function () {\n    var _postPics = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      var config, header, win, lose;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            this.regist_loading = true;\n            config = {\n              headers: {\n                \"content-type\": \"multipart/form-data\"\n              }\n            };\n            header = new FormData();\n            header.append(\"file\", this.headerPic);\n            win = new FormData();\n            win.append(\"file\", this.winPic);\n            lose = new FormData();\n            lose.append(\"file\", this.losePic);\n            // 順次アップロード判断＋アップロード\n            if (!this.serviceSiteURL) {\n              _context.next = 11;\n              break;\n            }\n            _context.next = 11;\n            return api.updateInstantWin({\n              campaign_id: this.$route.params.id,\n              landing_page_url: this.serviceSiteURL\n            }).then(function (response) {\n              console.log(response);\n            })[\"catch\"](function (error) {\n              this.$toast.show(\"サービスサイトURLの登録に失敗しました\", {\n                type: \"error\",\n                position: \"top-right\",\n                duration: 5000\n              });\n              console.log(error);\n              this.regist_loading = false;\n            });\n          case 11:\n            if (!this.headerPic) {\n              _context.next = 14;\n              break;\n            }\n            _context.next = 14;\n            return api.uploadHeader({\n              campaign_id: this.$route.params.id,\n              form: header\n            }, config).then(function (response) {\n              console.log(response);\n            })[\"catch\"](function (error) {\n              this.$toast.show(\"ヘッダー画像の登録に失敗しました\", {\n                type: \"error\",\n                position: \"top-right\",\n                duration: 5000\n              });\n              console.log(error);\n              this.regist_loading = false;\n            });\n          case 14:\n            if (!this.winPic) {\n              _context.next = 17;\n              break;\n            }\n            _context.next = 17;\n            return api.uploadWin({\n              campaign_id: this.$route.params.id,\n              form: win\n            }, config).then(function (response) {\n              console.log(response);\n            })[\"catch\"](function (error) {\n              this.$toast.show(\"当選画像の登録に失敗しました\", {\n                type: \"error\",\n                position: \"top-right\",\n                duration: 5000\n              });\n              console.log(error);\n              this.regist_loading = false;\n            });\n          case 17:\n            if (!this.losePic) {\n              _context.next = 20;\n              break;\n            }\n            _context.next = 20;\n            return api.uploadLose({\n              campaign_id: this.$route.params.id,\n              form: lose\n            }, config).then(function (response) {\n              console.log(response);\n            })[\"catch\"](function (error) {\n              this.$toast.show(\"落選画像の登録に失敗しました\", {\n                type: \"error\",\n                position: \"top-right\",\n                duration: 5000\n              });\n              console.log(error);\n              this.regist_loading = false;\n            });\n          case 20:\n            _context.next = 22;\n            return api.updateInstantWin({\n              campaign_id: this.$route.params.id,\n              win_text: this.winText,\n              lose_text: this.loseText\n            }, config).then(function (response) {\n              console.log(response);\n            })[\"catch\"](function (error) {\n              this.$toast.show(\"テキストの登録に失敗しました\", {\n                type: \"error\",\n                position: \"top-right\",\n                duration: 5000\n              });\n              console.log(error);\n              this.regist_loading = true;\n            });\n          case 22:\n            this.regist_loading = false;\n            this.$toast.show(\"画像・テキストの登録が完了しました\", {\n              type: \"success\",\n              position: \"top-right\",\n              duration: 3000\n            });\n            this.$router.replace(\"/campaigns\");\n          case 25:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee, this);\n    }));\n    function postPics() {\n      return _postPics.apply(this, arguments);\n    }\n    return postPics;\n  }()), _methods)\n};","map":{"version":3,"mappings":"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","names":["SideVar","api","data","birthday","personalPic","components","mounted","computed","methods","getage_verification","id","$route","params","then","response","error","$toast","show","type","position","duration","console","log","e","preventDefault","files","target","headerPic","createHeader","winPic","createWin","losePic","createLose","file","reader","FileReader","onload","headerPreview","result","readAsDataURL","winPreview","losePreview","regist_loading","config","headers","header","FormData","append","win","lose","serviceSiteURL","updateInstantWin","campaign_id","landing_page_url","uploadHeader","form","uploadWin","uploadLose","win_text","winText","lose_text","loseText","$router","replace"],"sourceRoot":"","sources":["/Users/kazuaki.aihara/Documents/hanabi-admin/src/views/KycCheck.vue"],"sourcesContent":["<template>\n  <!-- <input @change=\"selectedFile\" type=\"file\" name=\"file\" />\n  <button @click=\"upload\" type=\"submit\">アップロード</button> -->\n  <div class=\"KyCheck\">\n    <div>\n      <!-- side var  -->\n      <SideVar />\n      <!-- input panel -->\n      <RightColumnOutline>\n        <PageTitle>KYC審査</PageTitle>\n        <div class=\"flex justify-between items-center\">\n          <div class=\"text-white text-left ml-4 text-sm\">申請者情報</div>\n        </div>\n        <div class=\"flex justify-between items-center\">\n          <div class=\"text-white text-left ml-4 text-sm\">生年月日：</div>\n          <div class=\"text-white text-left ml-4 text-sm\">{{ birthday }}</div>\n        </div>\n      </RightColumnOutline>\n    </div>\n  </div>\n</template>\n\n<script>\nimport SideVar from \"@/components/SideVar.vue\";\nimport api from \"../api/api\";\nexport default {\n  data: function () {\n    return {\n      birthday: null,\n      personalPic: null,\n    };\n  },\n  components: {\n    SideVar,\n  },\n  mounted() {\n    // this.campaign_id = this.$route.params.id;\n    // this.getInstantwin();\n  },\n  computed: {},\n  methods: {\n    getage_verification: function () {\n      api\n        .getage_verification({ id: this.$route.params.id })\n        .then((response) => {\n          this.birthday = response.data[0].birthday;\n        })\n        .catch(function (error) {\n          this.$toast.show(\n            \"データの取得に失敗しました。システム管理者にお問合せください。\",\n            {\n              type: \"error\",\n              position: \"top-right\",\n              duration: 5000,\n            }\n          );\n          console.log(error);\n        });\n    },\n    getage_verification: function () {\n      api\n        .getage_verification({ id: this.$route.params.id })\n        .then((response) => {\n          this.birthday = response.data[0].birthday;\n        })\n        .catch(function (error) {\n          this.$toast.show(\n            \"データの取得に失敗しました。システム管理者にお問合せください。\",\n            { type: \"error\", position: \"top-right\", duration: 5000 }\n          );\n          console.log(error);\n        });\n    },\n    selectedHeader: function (e) {\n      e.preventDefault();\n      let files = e.target.files;\n      this.headerPic = files[0];\n      this.createHeader(files[0]);\n    },\n    selectedWin: function (e) {\n      e.preventDefault();\n      let files = e.target.files;\n      this.winPic = files[0];\n      this.createWin(files[0]);\n    },\n    selectedLose: function (e) {\n      e.preventDefault();\n      let files = e.target.files;\n      this.losePic = files[0];\n      this.createLose(files[0]);\n    },\n    createHeader(file) {\n      const reader = new FileReader();\n      reader.onload = (e) => {\n        this.headerPreview = e.target.result;\n      };\n      reader.readAsDataURL(file);\n    },\n    removeHeader() {\n      this.headerPreview = false;\n    },\n    createWin(file) {\n      const reader = new FileReader();\n      reader.onload = (e) => {\n        this.winPreview = e.target.result;\n      };\n      reader.readAsDataURL(file);\n    },\n    removeWin() {\n      this.winPreview = false;\n    },\n    createLose(file) {\n      const reader = new FileReader();\n      reader.onload = (e) => {\n        this.losePreview = e.target.result;\n      };\n      reader.readAsDataURL(file);\n    },\n    removeLose() {\n      this.losePreview = false;\n    },\n    postPics: async function () {\n      this.regist_loading = true;\n      let config = {\n        headers: {\n          \"content-type\": \"multipart/form-data\",\n        },\n      };\n      let header = new FormData();\n      header.append(\"file\", this.headerPic);\n      let win = new FormData();\n      win.append(\"file\", this.winPic);\n      let lose = new FormData();\n      lose.append(\"file\", this.losePic);\n      // 順次アップロード判断＋アップロード\n      if (this.serviceSiteURL) {\n        await api\n          .updateInstantWin({\n            campaign_id: this.$route.params.id,\n            landing_page_url: this.serviceSiteURL,\n          })\n          .then(function (response) {\n            console.log(response);\n          })\n          .catch(function (error) {\n            this.$toast.show(\"サービスサイトURLの登録に失敗しました\", {\n              type: \"error\",\n              position: \"top-right\",\n              duration: 5000,\n            });\n            console.log(error);\n            this.regist_loading = false;\n          });\n      }\n      if (this.headerPic) {\n        await api\n          .uploadHeader(\n            { campaign_id: this.$route.params.id, form: header },\n            config\n          )\n          .then(function (response) {\n            console.log(response);\n          })\n          .catch(function (error) {\n            this.$toast.show(\"ヘッダー画像の登録に失敗しました\", {\n              type: \"error\",\n              position: \"top-right\",\n              duration: 5000,\n            });\n            console.log(error);\n            this.regist_loading = false;\n          });\n      }\n      if (this.winPic) {\n        await api\n          .uploadWin({ campaign_id: this.$route.params.id, form: win }, config)\n          .then(function (response) {\n            console.log(response);\n          })\n          .catch(function (error) {\n            this.$toast.show(\"当選画像の登録に失敗しました\", {\n              type: \"error\",\n              position: \"top-right\",\n              duration: 5000,\n            });\n            console.log(error);\n            this.regist_loading = false;\n          });\n      }\n      if (this.losePic) {\n        await api\n          .uploadLose(\n            { campaign_id: this.$route.params.id, form: lose },\n            config\n          )\n          .then(function (response) {\n            console.log(response);\n          })\n          .catch(function (error) {\n            this.$toast.show(\"落選画像の登録に失敗しました\", {\n              type: \"error\",\n              position: \"top-right\",\n              duration: 5000,\n            });\n            console.log(error);\n            this.regist_loading = false;\n          });\n      }\n      await api\n        .updateInstantWin(\n          {\n            campaign_id: this.$route.params.id,\n            win_text: this.winText,\n            lose_text: this.loseText,\n          },\n          config\n        )\n        .then(function (response) {\n          console.log(response);\n        })\n        .catch(function (error) {\n          this.$toast.show(\"テキストの登録に失敗しました\", {\n            type: \"error\",\n            position: \"top-right\",\n            duration: 5000,\n          });\n          console.log(error);\n          this.regist_loading = true;\n        });\n      this.regist_loading = false;\n      this.$toast.show(\"画像・テキストの登録が完了しました\", {\n        type: \"success\",\n        position: \"top-right\",\n        duration: 3000,\n      });\n      this.$router.replace(\"/campaigns\");\n    },\n  },\n};\n</script>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}