{"ast":null,"code":"import \"core-js/modules/es.function.name.js\";\nimport { createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, resolveDirective as _resolveDirective, createElementVNode as _createElementVNode, withDirectives as _withDirectives, toDisplayString as _toDisplayString, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, normalizeClass as _normalizeClass } from \"vue\";\nvar _hoisted_1 = {\n  \"class\": \"campaign_analize\"\n};\nvar _hoisted_2 = {\n  \"class\": \"px-4\"\n};\nvar _hoisted_3 = {\n  \"class\": \"container px-4 mx-auto\"\n};\nvar _hoisted_4 = {\n  \"class\": \"max-w-none mx-auto bg-gray-600 rounded-xl\"\n};\nvar _hoisted_5 = {\n  \"class\": \"flex flex-wrap\"\n};\nvar _hoisted_6 = {\n  \"class\": \"w-full sm:w-1/2 lg:w-1/4 pl-4 md:pl-8 xl:pl-10 border-b lg:border-b-0 sm:border-r border-gray-700\"\n};\nvar _hoisted_7 = {\n  \"class\": \"py-5 px-6\"\n};\nvar _hoisted_8 = {\n  \"class\": \"text-sm font-semibold text-gray-300 mb-6 leading-normal tracking-wide\"\n};\nvar _hoisted_9 = {\n  \"class\": \"pi pi-question-circle mx-1\"\n};\nvar _hoisted_10 = {\n  \"class\": \"flex flex-wrap justify-center mb-1 -m-2\"\n};\nvar _hoisted_11 = {\n  \"class\": \"w-auto p-2\"\n};\nvar _hoisted_12 = {\n  \"class\": \"text-2xl text-gray-100 font-bold tracking-wide\"\n};\nvar _hoisted_13 = {\n  \"class\": \"w-auto p-2\"\n};\nvar _hoisted_14 = {\n  \"class\": \"inline-flex px-2 h-7 items-center justify-center text-green-500 bg-green-900 rounded-full\"\n};\nvar _hoisted_15 = /*#__PURE__*/_createElementVNode(\"i\", {\n  \"class\": \"text-xs mr-1 pi pi-arrow-up\"\n}, null, -1 /* HOISTED */);\nvar _hoisted_16 = {\n  \"class\": \"text-xs font-medium\"\n};\nvar _hoisted_17 = {\n  \"class\": \"w-full sm:w-1/2 lg:w-1/4 pl-4 md:pl-8 xl:pl-10 border-b lg:border-b-0 lg:border-r border-gray-700\"\n};\nvar _hoisted_18 = {\n  \"class\": \"py-5 px-6\"\n};\nvar _hoisted_19 = {\n  \"class\": \"text-sm font-semibold text-gray-300 mb-6 leading-normal tracking-wide\"\n};\nvar _hoisted_20 = {\n  \"class\": \"pi pi-question-circle mx-1\"\n};\nvar _hoisted_21 = {\n  \"class\": \"flex flex-wrap justify-center mb-1 -m-2\"\n};\nvar _hoisted_22 = {\n  \"class\": \"w-auto p-2\"\n};\nvar _hoisted_23 = {\n  \"class\": \"text-2xl text-gray-100 font-bold tracking-wide\"\n};\nvar _hoisted_24 = {\n  \"class\": \"w-auto p-2\"\n};\nvar _hoisted_25 = {\n  \"class\": \"inline-flex px-2 h-7 items-center justify-center text-green-500 bg-green-900 rounded-full\"\n};\nvar _hoisted_26 = /*#__PURE__*/_createElementVNode(\"i\", {\n  \"class\": \"text-xs mr-1 pi pi-arrow-up\"\n}, null, -1 /* HOISTED */);\nvar _hoisted_27 = {\n  \"class\": \"text-xs font-medium\"\n};\nvar _hoisted_28 = {\n  \"class\": \"w-full sm:w-1/2 lg:w-1/4 pl-4 md:pl-8 xl:pl-10 border-b md:border-b-0 sm:border-r border-gray-700\"\n};\nvar _hoisted_29 = {\n  \"class\": \"py-5 px-6\"\n};\nvar _hoisted_30 = {\n  \"class\": \"text-sm font-semibold text-gray-300 mb-6 leading-normal tracking-wide\"\n};\nvar _hoisted_31 = {\n  \"class\": \"pi pi-question-circle mx-1\"\n};\nvar _hoisted_32 = {\n  \"class\": \"flex flex-wrap justify-center mb-1 -m-2\"\n};\nvar _hoisted_33 = {\n  \"class\": \"w-auto p-2\"\n};\nvar _hoisted_34 = {\n  \"class\": \"text-2xl text-gray-100 font-bold tracking-wide\"\n};\nvar _hoisted_35 = {\n  \"class\": \"w-full sm:w-1/2 lg:w-1/4 pl-4 md:pl-8 xl:pl-10\"\n};\nvar _hoisted_36 = {\n  \"class\": \"py-5 px-6\"\n};\nvar _hoisted_37 = {\n  \"class\": \"text-sm font-semibold text-gray-300 mb-6 leading-normal tracking-wide\"\n};\nvar _hoisted_38 = {\n  \"class\": \"pi pi-question-circle mx-1\"\n};\nvar _hoisted_39 = {\n  \"class\": \"flex flex-wrap justify-center mb-1 -m-2\"\n};\nvar _hoisted_40 = {\n  \"class\": \"w-auto p-2\"\n};\nvar _hoisted_41 = {\n  \"class\": \"text-2xl text-gray-100 font-bold tracking-wide\"\n};\nvar _hoisted_42 = {\n  \"class\": \"text-left grid grid-cols-3 mt-3\"\n};\nvar _hoisted_43 = {\n  \"class\": \"text-lg text-gray-200 font-semibold mb-3 mt-3\"\n};\nvar _hoisted_44 = {\n  key: 0\n};\nvar _hoisted_45 = /*#__PURE__*/_createElementVNode(\"div\", null, null, -1 /* HOISTED */);\nvar _hoisted_46 = {\n  \"class\": \"col-span-3\"\n};\nvar _hoisted_47 = /*#__PURE__*/_createElementVNode(\"p\", {\n  \"class\": \"text-lg text-gray-100 font-semibold mb-6 mt-6\"\n}, \" Score distribution(top 20) \", -1 /* HOISTED */);\nvar _hoisted_48 = /*#__PURE__*/_createElementVNode(\"p\", {\n  \"class\": \"text-xs text-gray-200 font-semibold mb-6\"\n}, \" ※速報値：2倍期間や同一コンテンツの非加点は考慮していない \", -1 /* HOISTED */);\nvar _hoisted_49 = {\n  key: 0\n};\nvar _hoisted_50 = {\n  \"class\": \"mt-6 col-span-3\"\n};\nvar _hoisted_51 = /*#__PURE__*/_createElementVNode(\"p\", {\n  \"class\": \"text-lg text-gray-100 font-semibold mb-6 mt-6\"\n}, \" Get Ranking CSV \", -1 /* HOISTED */);\nvar _hoisted_52 = {\n  \"class\": \"w-2/5\"\n};\nvar _hoisted_53 = [\"disabled\"];\nvar _hoisted_54 = {\n  key: 0,\n  \"class\": \"pi pi-spin pi-spinner text-xs mr-1\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_SideVar = _resolveComponent(\"SideVar\");\n  var _component_PageTitle = _resolveComponent(\"PageTitle\");\n  var _component_apexchart = _resolveComponent(\"apexchart\");\n  var _component_Datepicker = _resolveComponent(\"Datepicker\");\n  var _component_RightColumnOutline = _resolveComponent(\"RightColumnOutline\");\n  var _directive_tippy = _resolveDirective(\"tippy\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createCommentVNode(\" side var  \"), _createVNode(_component_SideVar), _createCommentVNode(\" main div \"), _createVNode(_component_RightColumnOutline, null, {\n    \"default\": _withCtx(function () {\n      return [_createVNode(_component_PageTitle, null, {\n        \"default\": _withCtx(function () {\n          return [_createTextVNode(\"Campaign Analisys \")];\n        }),\n        _: 1 /* STABLE */\n      }), _createElementVNode(\"div\", _hoisted_2, [_createCommentVNode(\" summary seciton \"), _createElementVNode(\"div\", _hoisted_3, [_createCommentVNode(\" max-w-xs\\tmax-width: 20rem; /* 320px */ \"), _createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"h5\", _hoisted_8, [_createTextVNode(\" Count tweets\"), _withDirectives(_createElementVNode(\"i\", _hoisted_9, null, 512 /* NEED_PATCH */), [[_directive_tippy, {\n        content: 'ツイートが作成されてから約15分以内に反映されます。tweetが作成されてから24時間が経過するとエンゲージメントとスコアが確定します。増加率はUTC 00:00を基準にした前日比です。'\n      }]])]), _createElementVNode(\"div\", _hoisted_10, [_createElementVNode(\"div\", _hoisted_11, [_createElementVNode(\"h4\", _hoisted_12, _toDisplayString($data.tweetCount.toLocaleString()), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_13, [_createElementVNode(\"div\", _hoisted_14, [_hoisted_15, _createElementVNode(\"span\", _hoisted_16, _toDisplayString(Math.floor(($data.tweetCount / $data.tweetCount_yesterday - 1) * 100)) + \"% \", 1 /* TEXT */)])])])])]), _createElementVNode(\"div\", _hoisted_17, [_createElementVNode(\"div\", _hoisted_18, [_createElementVNode(\"h5\", _hoisted_19, [_createTextVNode(\" Engagements\"), _withDirectives(_createElementVNode(\"i\", _hoisted_20, null, 512 /* NEED_PATCH */), [[_directive_tippy, {\n        content: 'ツイート作成後24時間が経過したtweetのエンゲージメントの合計です。増加率はUTC 00:00を基準にした前日比です。'\n      }]])]), _createElementVNode(\"div\", _hoisted_21, [_createElementVNode(\"div\", _hoisted_22, [_createElementVNode(\"h4\", _hoisted_23, _toDisplayString($data.engagementCount.toLocaleString()), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_24, [_createElementVNode(\"div\", _hoisted_25, [_hoisted_26, _createElementVNode(\"span\", _hoisted_27, _toDisplayString(Math.floor(($data.engagementCount / $data.engagementCount_yesterday - 1) * 100)) + \"%\", 1 /* TEXT */)])])])])]), _createElementVNode(\"div\", _hoisted_28, [_createElementVNode(\"div\", _hoisted_29, [_createElementVNode(\"h5\", _hoisted_30, [_createTextVNode(\" Participants\"), _withDirectives(_createElementVNode(\"i\", _hoisted_31, null, 512 /* NEED_PATCH */), [[_directive_tippy, {\n        content: 'TweetやLike、Retweet、QTでキャンペーンに参加した人数です'\n      }]])]), _createElementVNode(\"div\", _hoisted_32, [_createElementVNode(\"div\", _hoisted_33, [_createElementVNode(\"h4\", _hoisted_34, _toDisplayString($data.paricipantsCount.toLocaleString()), 1 /* TEXT */)]), _createCommentVNode(\" <div class=\\\"w-auto p-2\\\">\\n                            <div\\n                              class=\\\"inline-flex px-2 h-7 items-center justify-center text-green-500 bg-green-900 rounded-full\\\"\\n                            >\\n                              <i class=\\\"text-xs mr-1 pi pi-arrow-up\\\"></i>\\n                              <span class=\\\"text-xs font-medium\\\">-%</span>\\n                            </div>\\n                          </div> \")])])]), _createElementVNode(\"div\", _hoisted_35, [_createElementVNode(\"div\", _hoisted_36, [_createElementVNode(\"h5\", _hoisted_37, [_createTextVNode(\" Score\"), _withDirectives(_createElementVNode(\"i\", _hoisted_38, null, 512 /* NEED_PATCH */), [[_directive_tippy, {\n        content: '全参加者が獲得したスコアの合計です。２倍期間を設定している場合や、参加者の中に非公開ユーザーが含まれる場合、最終的なランキングのスコアの合計とは一致しない場合があります。'\n      }]])]), _createElementVNode(\"div\", _hoisted_39, [_createElementVNode(\"div\", _hoisted_40, [_createElementVNode(\"h4\", _hoisted_41, _toDisplayString($data.scoreCount.toLocaleString()), 1 /* TEXT */)]), _createCommentVNode(\" <div class=\\\"w-auto p-2\\\">\\n                            <div\\n                              class=\\\"inline-flex px-2 h-7 items-center justify-center text-green-500 bg-green-900 rounded-full\\\"\\n                            >\\n                              <i class=\\\"text-xs mr-1 pi pi-arrow-up\\\"></i>\\n                              <span class=\\\"text-xs font-medium\\\">-%</span>\\n                            </div>\\n                          </div> \")])])])])])]), _createElementVNode(\"div\", _hoisted_42, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.dailycountSeries, function (dailycount) {\n        return _openBlock(), _createElementBlock(\"div\", {\n          key: dailycount\n        }, [_createElementVNode(\"p\", _hoisted_43, _toDisplayString(dailycount[\"name\"]), 1 /* TEXT */), $data.dailycountOptions.xaxis.categories.length > 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_44, [_createVNode(_component_apexchart, {\n          width: _ctx.full,\n          height: $data.chart_height,\n          title: dailycount.name,\n          options: $data.dailycountOptions,\n          series: [dailycount]\n        }, null, 8 /* PROPS */, [\"width\", \"height\", \"title\", \"options\", \"series\"])])) : _createCommentVNode(\"v-if\", true)]);\n      }), 128 /* KEYED_FRAGMENT */)), _hoisted_45, _createElementVNode(\"div\", _hoisted_46, [_hoisted_47, _hoisted_48, $data.scoreOptions.labels.length > 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_49, [_createVNode(_component_apexchart, {\n        width: _ctx.full,\n        height: \"400\",\n        type: \"donut\",\n        options: $data.scoreOptions,\n        series: $data.scoreSeries\n      }, null, 8 /* PROPS */, [\"width\", \"options\", \"series\"])])) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", _hoisted_50, [_hoisted_51, _createElementVNode(\"div\", _hoisted_52, [_createVNode(_component_Datepicker, {\n        modelValue: $data.date,\n        \"onUpdate:modelValue\": _cache[0] || (_cache[0] = function ($event) {\n          return $data.date = $event;\n        }),\n        range: \"\"\n      }, null, 8 /* PROPS */, [\"modelValue\"]), _createElementVNode(\"button\", {\n        \"class\": _normalizeClass([\"mt-6 inline-block py-2 px-4 text-sm text-center font-semibold leading-normal rounded-lg transition duration-200 text-blue-50\", !$data.downloading ? 'bg-blue-500 hover:bg-blue-600' : 'bg-blue-700 hover:bg-blue-800']),\n        disabled: $data.downloading,\n        onClick: _cache[1] || (_cache[1] = function () {\n          return $options.downlordranking && $options.downlordranking.apply($options, arguments);\n        })\n      }, [$data.downloading ? (_openBlock(), _createElementBlock(\"i\", _hoisted_54)) : _createCommentVNode(\"v-if\", true), _createTextVNode(\" Download \")], 10 /* CLASS, PROPS */, _hoisted_53)])])])])];\n    }),\n    _: 1 /* STABLE */\n  })]);\n}","map":{"version":3,"mappings":"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","names":["_createElementVNode","_createElementBlock","_hoisted_1","_createCommentVNode","_createVNode","_component_SideVar","_component_RightColumnOutline","_component_PageTitle","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","$data","toLocaleString","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","Math","floor","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_36","_hoisted_37","_hoisted_38","_hoisted_39","_hoisted_40","_hoisted_41","_hoisted_42","_Fragment","dailycount","key","_hoisted_43","xaxis","categories","length","_component_apexchart","width","_ctx","height","title","name","options","series","_hoisted_45","_hoisted_46","_hoisted_47","_hoisted_48","labels","type","_hoisted_50","_hoisted_51","_hoisted_52","_component_Datepicker","range","_normalizeClass","disabled","onClick","$options","_hoisted_54"],"sourceRoot":"","sources":["/Users/kazuaki.aihara/Documents/fuelcrypto-organizer/src/views/CampaignAnalitics.vue"],"sourcesContent":["<template>\n  <div class=\"campaign_analize\">\n    <!-- side var  -->\n    <SideVar />\n    <!-- main div -->\n    <RightColumnOutline>\n      <PageTitle>Campaign Analisys </PageTitle>\n      <div class=\"px-4\">\n        <!-- summary seciton -->\n        <div class=\"container px-4 mx-auto\">\n          <!-- max-w-xs\tmax-width: 20rem; /* 320px */ -->\n          <div class=\"max-w-none mx-auto bg-gray-600 rounded-xl\">\n            <div class=\"flex flex-wrap\">\n              <div\n                class=\"w-full sm:w-1/2 lg:w-1/4 pl-4 md:pl-8 xl:pl-10 border-b lg:border-b-0 sm:border-r border-gray-700\"\n              >\n                <div class=\"py-5 px-6\">\n                  <h5\n                    class=\"text-sm font-semibold text-gray-300 mb-6 leading-normal tracking-wide\"\n                  >\n                    Count tweets<i\n                      class=\"pi pi-question-circle mx-1\"\n                      v-tippy=\"{\n                        content:\n                          'ツイートが作成されてから約15分以内に反映されます。tweetが作成されてから24時間が経過するとエンゲージメントとスコアが確定します。増加率はUTC 00:00を基準にした前日比です。',\n                      }\"\n                    ></i>\n                  </h5>\n                  <div class=\"flex flex-wrap justify-center mb-1 -m-2\">\n                    <div class=\"w-auto p-2\">\n                      <h4\n                        class=\"text-2xl text-gray-100 font-bold tracking-wide\"\n                      >\n                        {{ tweetCount.toLocaleString() }}\n                      </h4>\n                    </div>\n                    <div class=\"w-auto p-2\">\n                      <div\n                        class=\"inline-flex px-2 h-7 items-center justify-center text-green-500 bg-green-900 rounded-full\"\n                      >\n                        <i class=\"text-xs mr-1 pi pi-arrow-up\"></i>\n                        <span class=\"text-xs font-medium\"\n                          >{{\n                            Math.floor(\n                              (tweetCount / tweetCount_yesterday - 1) * 100\n                            )\n                          }}%\n                        </span>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <div\n                class=\"w-full sm:w-1/2 lg:w-1/4 pl-4 md:pl-8 xl:pl-10 border-b lg:border-b-0 lg:border-r border-gray-700\"\n              >\n                <div class=\"py-5 px-6\">\n                  <h5\n                    class=\"text-sm font-semibold text-gray-300 mb-6 leading-normal tracking-wide\"\n                  >\n                    Engagements<i\n                      class=\"pi pi-question-circle mx-1\"\n                      v-tippy=\"{\n                        content:\n                          'ツイート作成後24時間が経過したtweetのエンゲージメントの合計です。増加率はUTC 00:00を基準にした前日比です。',\n                      }\"\n                    ></i>\n                  </h5>\n                  <div class=\"flex flex-wrap justify-center mb-1 -m-2\">\n                    <div class=\"w-auto p-2\">\n                      <h4\n                        class=\"text-2xl text-gray-100 font-bold tracking-wide\"\n                      >\n                        {{ engagementCount.toLocaleString() }}\n                      </h4>\n                    </div>\n                    <div class=\"w-auto p-2\">\n                      <div\n                        class=\"inline-flex px-2 h-7 items-center justify-center text-green-500 bg-green-900 rounded-full\"\n                      >\n                        <i class=\"text-xs mr-1 pi pi-arrow-up\"></i>\n                        <span class=\"text-xs font-medium\"\n                          >{{\n                            Math.floor(\n                              (engagementCount / engagementCount_yesterday -\n                                1) *\n                                100\n                            )\n                          }}%</span\n                        >\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <div\n                class=\"w-full sm:w-1/2 lg:w-1/4 pl-4 md:pl-8 xl:pl-10 border-b md:border-b-0 sm:border-r border-gray-700\"\n              >\n                <div class=\"py-5 px-6\">\n                  <h5\n                    class=\"text-sm font-semibold text-gray-300 mb-6 leading-normal tracking-wide\"\n                  >\n                    Participants<i\n                      class=\"pi pi-question-circle mx-1\"\n                      v-tippy=\"{\n                        content:\n                          'TweetやLike、Retweet、QTでキャンペーンに参加した人数です',\n                      }\"\n                    ></i>\n                  </h5>\n                  <div class=\"flex flex-wrap justify-center mb-1 -m-2\">\n                    <div class=\"w-auto p-2\">\n                      <h4\n                        class=\"text-2xl text-gray-100 font-bold tracking-wide\"\n                      >\n                        {{ paricipantsCount.toLocaleString() }}\n                      </h4>\n                    </div>\n                    <!-- <div class=\"w-auto p-2\">\n                            <div\n                              class=\"inline-flex px-2 h-7 items-center justify-center text-green-500 bg-green-900 rounded-full\"\n                            >\n                              <i class=\"text-xs mr-1 pi pi-arrow-up\"></i>\n                              <span class=\"text-xs font-medium\">-%</span>\n                            </div>\n                          </div> -->\n                  </div>\n                </div>\n              </div>\n              <div class=\"w-full sm:w-1/2 lg:w-1/4 pl-4 md:pl-8 xl:pl-10\">\n                <div class=\"py-5 px-6\">\n                  <h5\n                    class=\"text-sm font-semibold text-gray-300 mb-6 leading-normal tracking-wide\"\n                  >\n                    Score<i\n                      class=\"pi pi-question-circle mx-1\"\n                      v-tippy=\"{\n                        content:\n                          '全参加者が獲得したスコアの合計です。２倍期間を設定している場合や、参加者の中に非公開ユーザーが含まれる場合、最終的なランキングのスコアの合計とは一致しない場合があります。',\n                      }\"\n                    ></i>\n                  </h5>\n                  <div class=\"flex flex-wrap justify-center mb-1 -m-2\">\n                    <div class=\"w-auto p-2\">\n                      <h4\n                        class=\"text-2xl text-gray-100 font-bold tracking-wide\"\n                      >\n                        {{ scoreCount.toLocaleString() }}\n                      </h4>\n                    </div>\n                    <!-- <div class=\"w-auto p-2\">\n                            <div\n                              class=\"inline-flex px-2 h-7 items-center justify-center text-green-500 bg-green-900 rounded-full\"\n                            >\n                              <i class=\"text-xs mr-1 pi pi-arrow-up\"></i>\n                              <span class=\"text-xs font-medium\">-%</span>\n                            </div>\n                          </div> -->\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"text-left grid grid-cols-3 mt-3\">\n          <div v-for=\"dailycount in dailycountSeries\" :key=\"dailycount\">\n            <p class=\"text-lg text-gray-200 font-semibold mb-3 mt-3\">\n              {{ dailycount[\"name\"] }}\n            </p>\n            <div v-if=\"dailycountOptions.xaxis.categories.length > 0\">\n              <apexchart\n                :width=\"full\"\n                :height=\"chart_height\"\n                :title=\"dailycount.name\"\n                :options=\"dailycountOptions\"\n                :series=\"[dailycount]\"\n              ></apexchart>\n            </div>\n          </div>\n          <div></div>\n          <div class=\"col-span-3\">\n            <p class=\"text-lg text-gray-100 font-semibold mb-6 mt-6\">\n              Score distribution(top 20)\n            </p>\n            <p class=\"text-xs text-gray-200 font-semibold mb-6\">\n              ※速報値：2倍期間や同一コンテンツの非加点は考慮していない\n            </p>\n            <div v-if=\"scoreOptions.labels.length > 0\">\n              <apexchart\n                :width=\"full\"\n                height=\"400\"\n                type=\"donut\"\n                :options=\"scoreOptions\"\n                :series=\"scoreSeries\"\n              ></apexchart>\n            </div>\n          </div>\n          <div class=\"mt-6 col-span-3\">\n            <p class=\"text-lg text-gray-100 font-semibold mb-6 mt-6\">\n              Get Ranking CSV\n            </p>\n            <div class=\"w-2/5\">\n              <Datepicker v-model=\"date\" range />\n              <button\n                class=\"mt-6 inline-block py-2 px-4 text-sm text-center font-semibold leading-normal rounded-lg transition duration-200 text-blue-50\"\n                :class=\"\n                  !downloading\n                    ? 'bg-blue-500 hover:bg-blue-600'\n                    : 'bg-blue-700 hover:bg-blue-800'\n                \"\n                :disabled=\"downloading\"\n                @click=\"downlordranking\"\n              >\n                <i\n                  class=\"pi pi-spin pi-spinner text-xs mr-1\"\n                  v-if=\"downloading\"\n                ></i>\n                Download\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </RightColumnOutline>\n  </div>\n</template>\n\n<script>\nimport SideVar from \"@/components/SideVar.vue\";\nimport api from \"../api/api.js\";\nimport { useRoute } from \"vue-router\";\nimport VueApexCharts from \"vue3-apexcharts\";\nimport Datepicker from \"@vuepic/vue-datepicker\";\n\nexport default {\n  name: \"Campaign_regit\",\n  components: {\n    SideVar,\n    apexchart: VueApexCharts,\n    Datepicker,\n  },\n  async mounted() {\n    const route = useRoute();\n    await api\n      .getdailyTweetCount({ campaign_id: route.params.id })\n      .then((response) => {\n        this.dailycountOptions.xaxis.categories =\n          response[\"data\"][\"categories\"];\n        console.log(response[\"data\"]);\n        for (let i = 0; i < response[\"data\"][\"name\"].length; i++) {\n          this.dailycountSeries.push({\n            name: response[\"data\"][\"name\"][i],\n            data: response[\"data\"][\"data\"][i],\n          });\n        }\n        this.tweetCount = response[\"data\"][\"data\"][0].reduce(function (a, b) {\n          return a + b;\n        });\n        this.tweetCount_yesterday =\n          this.tweetCount - response[\"data\"][\"data\"][0].slice(-1)[0];\n        this.engagementCount = 0;\n        this.engagementCount += response[\"data\"][\"data\"][1].reduce(function (\n          a,\n          b\n        ) {\n          return a + b;\n        });\n        this.engagementCount += response[\"data\"][\"data\"][2].reduce(function (\n          a,\n          b\n        ) {\n          return a + b;\n        });\n        this.engagementCount += response[\"data\"][\"data\"][3].reduce(function (\n          a,\n          b\n        ) {\n          return a + b;\n        });\n        this.engagementCount += response[\"data\"][\"data\"][4].reduce(function (\n          a,\n          b\n        ) {\n          return a + b;\n        });\n        this.engagementCount_yesterday =\n          this.engagementCount -\n          response[\"data\"][\"data\"][1].slice(-2)[0] -\n          response[\"data\"][\"data\"][2].slice(-2)[0] -\n          response[\"data\"][\"data\"][3].slice(-2)[0] -\n          response[\"data\"][\"data\"][4].slice(-2)[0];\n      })\n      .catch(() => {\n        this.$toast.show(\"分析データの取得に失敗しました\", {\n          type: \"error\",\n          position: \"top-right\",\n          duration: 5000,\n        });\n      });\n    await api\n      .getScore({ campaign_id: route.params.id })\n      .then((response) => {\n        this.scoreSeries = response[\"data\"][\"series\"].slice(0, 21);\n        this.scoreOptions.labels = response[\"data\"][\"labels\"].slice(0, 21);\n        this.paricipantsCount = response[\"data\"][\"labels\"].length;\n        if (this.paricipantsCount != 0) {\n          this.scoreCount = response[\"data\"][\"series\"].reduce(function (a, b) {\n            return a + b;\n          });\n        } else this.scoreCount = 0;\n      })\n      .catch((error) => {\n        console.log(error);\n        this.$toast.show(\"スコアデータの取得に失敗しました\", {\n          type: \"error\",\n          position: \"top-right\",\n          duration: 5000,\n        });\n      });\n    await api\n      .getCampaign({ id: route.params.id })\n      .then((response) => {\n        this.campaign = response[\"data\"][0];\n        let start_date = new Date(this.campaign[\"start_time\"]);\n        start_date.setHours(start_date.getHours() + 9);\n        let end_date = new Date(this.campaign[\"end_time\"]);\n        end_date.setHours(end_date.getHours() + 9);\n        this.date = [start_date, end_date];\n      })\n      .catch((error) => {\n        console.log(error);\n        this.$toast.show(\"キャンペーンデータの取得に失敗しました\", {\n          type: \"error\",\n          position: \"top-right\",\n          duration: 5000,\n        });\n      });\n  },\n  data() {\n    return {\n      campaign_name: null,\n      keyword: null,\n      campaign: null,\n      date: [],\n      tweetCount: \"-\",\n      engagementCount: \"-\",\n      paricipantsCount: \"-\",\n      scoreCount: \"-\",\n      tweetCount_yesterday: 1,\n      engagementCount_yesterday: 1,\n      paricipantsCount_yesterday: 1,\n      scoreCount_yesterday: 1,\n      chart_height: window.innerHeight / 3,\n      chart_width: window.innerWidth / 3,\n      downloading: false,\n      dailycountOptions: {\n        chart: {\n          id: \"Daily_Counts\",\n          type: \"area\",\n        },\n        title: {\n          text: \"\",\n          align: \"left\",\n        },\n        dataLabels: {\n          enabled: false,\n        },\n        xaxis: {\n          type: \"datetime\",\n          categories: [],\n          labels: {\n            style: {\n              colors: \"#C4BBAF\",\n            },\n          },\n        },\n        yaxis: {\n          // type: \"datetime\",\n          labels: {\n            style: {\n              colors: \"#C4BBAF\",\n            },\n          },\n        },\n        legend: {\n          show: true,\n          labels: {\n            colors: \"#C4BBAF\",\n          },\n        },\n        grid: {\n          xaxis: {\n            lines: {\n              show: false,\n            },\n          },\n          yaxis: {\n            lines: {\n              show: false,\n            },\n          },\n        },\n      },\n      dailycountSeries: [],\n      scoreOptions: {\n        labels: [],\n        legend: {\n          show: true,\n          labels: {\n            colors: \"#C4BBAF\",\n          },\n        },\n        title: {\n          text: \"\",\n        },\n      },\n      scoreSeries: [],\n    };\n  },\n  computed: {},\n  methods: {\n    downlordranking() {\n      this.downloading = true;\n      let csv = \"\\ufeff\";\n      api\n        .getRanking({\n          campaign_id: this.$route.params.id,\n          start: this.date[0],\n          end: this.date[1],\n        })\n        .then((response) => {\n          csv += response[\"data\"];\n          let blob = new Blob([csv], { type: \"text/csv\" });\n          let link = document.createElement(\"a\");\n          link.href = window.URL.createObjectURL(blob);\n          link.download = \"sociama_ranking.csv\";\n          link.click();\n          this.$toast.show(\"ランキングファイルが完了しました\", {\n            type: \"success\",\n            position: \"top-right\",\n            duration: 3000,\n          });\n          this.downloading = false;\n        })\n        .catch((error) => {\n          this.$toast.show(\"ランキングファイルの取得に失敗しました\", {\n            type: \"error\",\n            position: \"top-right\",\n            duration: 5000,\n          });\n          console.log(\"error: \", error);\n          this.downloading = false;\n        });\n    },\n  },\n};\n</script>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}