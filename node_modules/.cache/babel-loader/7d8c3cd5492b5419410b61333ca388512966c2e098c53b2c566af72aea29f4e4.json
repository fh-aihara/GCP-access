{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, normalizeClass as _normalizeClass, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nimport _imports_0 from '../assets/sociama_01@4x.png';\nvar _hoisted_1 = {\n  \"class\": \"login_page\"\n};\nvar _hoisted_2 = {\n  \"class\": \"relative pt-12\"\n};\nvar _hoisted_3 = {\n  \"class\": \"container px-4 mx-auto\"\n};\nvar _hoisted_4 = {\n  \"class\": \"h-full\"\n};\nvar _hoisted_5 = {\n  \"class\": \"relative max-w-xs mx-auto text-center\"\n};\nvar _hoisted_6 = /*#__PURE__*/_createElementVNode(\"a\", {\n  \"class\": \"w-24 inline-block mx-auto mb-10\",\n  href: \"#\"\n}, [/*#__PURE__*/_createElementVNode(\"img\", {\n  \"class\": \"block\",\n  src: _imports_0,\n  alt: \"\"\n})], -1 /* HOISTED */);\nvar _hoisted_7 = /*#__PURE__*/_createElementVNode(\"h2\", {\n  \"class\": \"text-2xl text-gray-500 font-semibold mb-2\"\n}, \" Log in to your account \", -1 /* HOISTED */);\nvar _hoisted_8 = /*#__PURE__*/_createElementVNode(\"p\", {\n  \"class\": \"text-gray-400 font-medium mb-10\"\n}, \" Welcome back! Please enter your account. \", -1 /* HOISTED */);\nvar _hoisted_9 = {\n  action: \"\"\n};\nvar _hoisted_10 = {\n  \"class\": \"relative w-full h-14 py-4 px-3 mb-8 border border-gray-400 hover:border-blue focus-within:border-green-500 rounded-lg\"\n};\nvar _hoisted_11 = /*#__PURE__*/_createElementVNode(\"span\", {\n  \"class\": \"absolute bottom-full left-0 ml-3 -mb-1 transform translate-y-0.5 text-xs font-semibold text-gray-600 px-1 bg-gray-200\"\n}, \"Email\", -1 /* HOISTED */);\nvar _hoisted_12 = {\n  \"class\": \"relative w-full h-14 py-4 px-3 mb-3 border border-gray-400 hover:border-blue focus-within:border-green-500 rounded-lg\"\n};\nvar _hoisted_13 = /*#__PURE__*/_createElementVNode(\"span\", {\n  \"class\": \"absolute bottom-full left-0 ml-3 -mb-1 transform translate-y-0.5 text-xs font-semibold text-gray-600 px-1 bg-gray-200\"\n}, \"Password\", -1 /* HOISTED */);\nvar _hoisted_14 = [\"disabled\"];\nvar _hoisted_15 = {\n  \"class\": \"font-medium\"\n};\nvar _hoisted_16 = /*#__PURE__*/_createElementVNode(\"span\", {\n  \"class\": \"text-gray-300\"\n}, \"Don’t have an account?\", -1 /* HOISTED */);\nvar _hoisted_17 = /*#__PURE__*/_createElementVNode(\"a\", {\n  \"class\": \"inline-block text-blue-500 hover:underline\",\n  href: \"#\"\n}, \" Sign up\", -1 /* HOISTED */);\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"section\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [_hoisted_6, _hoisted_7, _hoisted_8, _createElementVNode(\"form\", _hoisted_9, [_createElementVNode(\"div\", _hoisted_10, [_hoisted_11, _withDirectives(_createElementVNode(\"input\", {\n    \"class\": \"block w-full outline-none text-sm text-gray-600 font-medium\",\n    id: \"email\",\n    type: \"email\",\n    placeholder: \"mail-address@example.com\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = function ($event) {\n      return $data.email = $event;\n    })\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.email]])]), _createElementVNode(\"div\", _hoisted_12, [_hoisted_13, _withDirectives(_createElementVNode(\"input\", {\n    \"class\": \"block w-full outline-none bg-transparent text-sm text-gray-600 font-medium\",\n    id: \"password\",\n    type: \"password\",\n    placeholder: \"password\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = function ($event) {\n      return $data.password = $event;\n    })\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.password]])])]), _createElementVNode(\"button\", {\n    \"class\": _normalizeClass([\"mt-6 block w-full py-4 mb-4 leading-6 text-white font-semibold rounded-lg transition duration-200\", $data.email != '' && this.password != '' ? 'bg-blue-500 hover:bg-blue-600' : 'bg-gray-500 hover:bg-gray-600']),\n    disabled: !$data.email || !$data.password,\n    onClick: _cache[2] || (_cache[2] = function () {\n      return $options.signIn && $options.signIn.apply($options, arguments);\n    })\n  }, \" Sign In \", 10 /* CLASS, PROPS */, _hoisted_14), _createElementVNode(\"p\", _hoisted_15, [_createVNode(_component_router_link, {\n    to: \"/sign-up\"\n  }, {\n    \"default\": _withCtx(function () {\n      return [_hoisted_16, _hoisted_17];\n    }),\n    _: 1 /* STABLE */\n  })])])])])])]);\n}","map":{"version":3,"mappings":";OAOiCA,UAAiC;;EAN3D,SAAM;AAAY;;EACZ,SAAM;AAAgB;;EACxB,SAAM;AAAwB;;EAC5B,SAAM;AAAQ;;EACZ,SAAM;AAAuC;8BAChDC,oBAEI;EAFD,SAAM,iCAAiC;EAACC,IAAI,EAAC;iBAC9CD,oBAA8D;EAAzD,SAAM,OAAO;EAACE,GAAiC,EAAjCH,UAAiC;EAACI,GAAG,EAAC;;8BAE3DH,oBAEK;EAFD,SAAM;AAA2C,GAAC,0BAEtD;8BACAA,oBAEI;EAFD,SAAM;AAAiC,GAAC,4CAE3C;;EACMI,MAAM,EAAC;AAAE;;EAEX,SAAM;AAAuH;+BAE7HJ,oBAGC;EAFC,SAAM;AAAuH,GAC5H,OAAK;;EAWR,SAAM;AAAuH;+BAE7HA,oBAGC;EAFC,SAAM;AAAuH,GAC5H,UAAQ;;;EAuBZ,SAAM;AAAa;+BAElBA,oBAAyD;EAAnD,SAAM;AAAe,GAAC,wBAAsB;+BAClDA,oBAEC;EAFE,SAAM,4CAA4C;EAACC,IAAI,EAAC;GAAI,UACtD;;;;uBA9DvBI,oBAsEM,OAtENC,UAsEM,GArEJN,oBAoEU,WApEVO,UAoEU,GAnERP,oBAkEM,OAlENQ,UAkEM,GAjEJR,oBAgEM,OAhENS,UAgEM,GA/DJT,oBA8DM,OA9DNU,UA8DM,GA7DJC,UAEI,EACJC,UAEK,EACLC,UAEI,EACJb,oBA+BO,QA/BPc,UA+BO,GA9BLd,oBAcM,OAdNe,WAcM,GAXJC,WAGC,kBACDhB,oBAME;IALA,SAAM,6DAA6D;IACnEiB,EAAE,EAAC,OAAO;IACVC,IAAI,EAAC,OAAO;IACZC,WAAW,EAAC,0BAA0B;;aAC7BC,WAAK;IAAA;iDAALA,WAAK,OAGlBpB,oBAcM,OAdNqB,WAcM,GAXJC,WAGC,kBACDtB,oBAME;IALA,SAAM,4EAA4E;IAClFiB,EAAE,EAAC,UAAU;IACbC,IAAI,EAAC,UAAU;IACfC,WAAW,EAAC,UAAU;;aACbC,cAAQ;IAAA;iDAARA,cAAQ,SAIvBpB,oBAWS;IAVP,SAAKuB,iBAAC,mGAAmG,EAChFH,WAAK,eAAeI,QAAQ;IAKpDC,QAAQ,GAAGL,WAAK,KAAKA,cAAQ;IAC7BM,OAAK;MAAA,OAAEC,6DAAM;IAAA;KACf,WAED,uCACA3B,oBAOI,KAPJ4B,WAOI,GANFC,aAKcC;IALDC,EAAE,EAAC;EAAU;wBACxB;MAAA,OAAyD,CAAzDC,WAAyD,EACzDC,WAEC","names":["_imports_0","_createElementVNode","href","src","alt","action","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","id","type","placeholder","$data","_hoisted_12","_hoisted_13","_normalizeClass","password","disabled","onClick","$options","_hoisted_15","_createVNode","_component_router_link","to","_hoisted_16","_hoisted_17"],"sourceRoot":"","sources":["/Users/kazuaki.aihara/Documents/fuelcrypto-organizer/src/views/LoginPage.vue"],"sourcesContent":["<template>\n  <div class=\"login_page\">\n    <section class=\"relative pt-12\">\n      <div class=\"container px-4 mx-auto\">\n        <div class=\"h-full\">\n          <div class=\"relative max-w-xs mx-auto text-center\">\n            <a class=\"w-24 inline-block mx-auto mb-10\" href=\"#\">\n              <img class=\"block\" src=\"../assets/sociama_01@4x.png\" alt=\"\" />\n            </a>\n            <h2 class=\"text-2xl text-gray-500 font-semibold mb-2\">\n              Log in to your account\n            </h2>\n            <p class=\"text-gray-400 font-medium mb-10\">\n              Welcome back! Please enter your account.\n            </p>\n            <form action=\"\">\n              <div\n                class=\"relative w-full h-14 py-4 px-3 mb-8 border border-gray-400 hover:border-blue focus-within:border-green-500 rounded-lg\"\n              >\n                <span\n                  class=\"absolute bottom-full left-0 ml-3 -mb-1 transform translate-y-0.5 text-xs font-semibold text-gray-600 px-1 bg-gray-200\"\n                  >Email</span\n                >\n                <input\n                  class=\"block w-full outline-none text-sm text-gray-600 font-medium\"\n                  id=\"email\"\n                  type=\"email\"\n                  placeholder=\"mail-address@example.com\"\n                  v-model=\"email\"\n                />\n              </div>\n              <div\n                class=\"relative w-full h-14 py-4 px-3 mb-3 border border-gray-400 hover:border-blue focus-within:border-green-500 rounded-lg\"\n              >\n                <span\n                  class=\"absolute bottom-full left-0 ml-3 -mb-1 transform translate-y-0.5 text-xs font-semibold text-gray-600 px-1 bg-gray-200\"\n                  >Password</span\n                >\n                <input\n                  class=\"block w-full outline-none bg-transparent text-sm text-gray-600 font-medium\"\n                  id=\"password\"\n                  type=\"password\"\n                  placeholder=\"password\"\n                  v-model=\"password\"\n                />\n              </div>\n            </form>\n            <button\n              class=\"mt-6 block w-full py-4 mb-4 leading-6 text-white font-semibold rounded-lg transition duration-200\"\n              :class=\"\n                email != '' && this.password != ''\n                  ? 'bg-blue-500 hover:bg-blue-600'\n                  : 'bg-gray-500 hover:bg-gray-600'\n              \"\n              :disabled=\"!email || !password\"\n              @click=\"signIn\"\n            >\n              Sign In\n            </button>\n            <p class=\"font-medium\">\n              <router-link to=\"/sign-up\">\n                <span class=\"text-gray-300\">Don’t have an account?</span>\n                <a class=\"inline-block text-blue-500 hover:underline\" href=\"#\">\n                  Sign up</a\n                >\n              </router-link>\n            </p>\n          </div>\n        </div>\n      </div>\n    </section>\n  </div>\n</template>\n\n<script>\nimport api from \"../api/api.js\";\nimport {\n  getAuth,\n  sendEmailVerification,\n  signInWithEmailAndPassword,\n} from \"@firebase/auth\";\nimport store from \"@/store\";\nimport \"../firebase_config\";\n\nconst auth = getAuth();\n\nexport default {\n  data() {\n    return {\n      email: \"\",\n      password: \"\",\n      error_message: \"\",\n    };\n  },\n  computed: {\n    user() {\n      return this.$store.getters[\"user\"];\n    },\n    idToken() {\n      return this.$store.getters[\"idToken\"];\n    },\n  },\n  methods: {\n    signIn: async function () {\n      let user = null;\n      await signInWithEmailAndPassword(auth, this.email, this.password)\n        .then((userCredential) => {\n          user = userCredential.user;\n          if (user.emailVerified == false) {\n            this.error_message =\n              \"メール認証が未済です。送付したメールから認証を完了してください\";\n            sendEmailVerification(user, {\n              url: \"https://social-marketing.io/login\",\n            });\n          } else {\n            store.commit(\"updateUser\", user);\n            api\n              .getAccounts()\n              .then(() => {\n                api\n                  .checkSubscribe()\n                  .then((response) => {\n                    console.log(response);\n                    store.commit(\"updateSubscribePlan\", response[\"data\"]);\n                    this.$router.replace(\"/campaigns\");\n                  })\n                  .catch((error) => {\n                    console.log(\"subscribe check error:\", error);\n                    this.$router.replace(\"/campaigns\");\n                  });\n                this.$router.replace(\"/campaigns\");\n              })\n              .catch((error) => {\n                console.log(\"login getAccounts error:\", error);\n              });\n          }\n        })\n        .catch((error) => {\n          console.log(error.code + \" \" + error.message);\n          this.error_message = \"EmailかPasswordが間違っています\";\n        });\n    },\n    refresh_error: function () {\n      this.error_message = \"\";\n    },\n  },\n};\n</script>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}