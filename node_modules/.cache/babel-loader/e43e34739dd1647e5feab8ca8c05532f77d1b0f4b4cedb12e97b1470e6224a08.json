{"ast":null,"code":"import \"core-js/modules/es.array.slice.js\";\nimport \"core-js/modules/es.date.to-iso-string.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport api from \"../api/api.js\";\nimport { ref, onMounted } from \"vue\";\nexport default {\n  name: \"tableView\",\n  components: {},\n  setup: function setup() {\n    var sortBy = \"event_id\";\n    var sortType = \"asc\";\n    var headers = [{\n      text: \"event_id\",\n      value: \"event_id\",\n      sortable: true\n    }, {\n      text: \"theme\",\n      value: \"theme\",\n      sortable: true\n    }, {\n      text: \"states\",\n      value: \"states\",\n      sortable: true\n    }, {\n      text: \"area\",\n      value: \"area\",\n      sortable: true\n    }, {\n      text: \"start_at\",\n      value: \"start_at\",\n      sortable: true\n    }, {\n      text: \"name\",\n      value: \"name\",\n      sortable: true\n    }, {\n      text: \"status\",\n      value: \"status\",\n      sortable: true\n    }, {\n      text: \"states\",\n      value: \"states\",\n      sortable: true\n    }, {\n      text: \"payment_ratio\",\n      value: \"payment_ratio\",\n      sortable: true\n    }, {\n      text: \"male_estimated_payment\",\n      value: \"male_estimated_payment\",\n      sortable: true\n    }, {\n      text: \"female_estimated_payment\",\n      value: \"female_estimated_payment\",\n      sortable: true\n    }, {\n      text: \"message_from_owner\",\n      value: \"message_from_owner\",\n      sortable: true\n    }, {\n      text: \"owner_user_id\",\n      value: \"owner_user_id\",\n      sortable: true\n    }, {\n      text: \"participants_pattern\",\n      value: \"participants_pattern\",\n      sortable: true\n    }, {\n      text: \"restaurant_url\",\n      value: \"restaurant_url\",\n      sortable: true\n    }, {\n      text: \"male_participants_number\",\n      value: \"male_participants_number\",\n      sortable: true\n    }, {\n      text: \"female_participants_number\",\n      value: \"female_participants_number\",\n      sortable: true\n    }, {\n      text: \"deleted_at\",\n      value: \"deleted_at\",\n      sortable: true\n    }, {\n      text: \"created_at\",\n      value: \"created_at\",\n      sortable: true\n    }, {\n      text: \"updated_at\",\n      value: \"updated_at\",\n      sortable: true\n    }];\n    var items = ref([]);\n    onMounted(function () {});\n    return {\n      headers: headers,\n      items: items,\n      sortBy: sortBy,\n      sortType: sortType\n    };\n  },\n  mounted: function mounted() {\n    this.show_flag = true;\n  },\n  watch: {\n    selectedTable: {\n      handler: function handler(newVal) {\n        switch (newVal) {\n          case \"events\":\n            console.log(this.selectedTable);\n            this.sortBy = \"event_id\";\n            this.sortType = \"asc\";\n            this.headers = [{\n              text: \"event_id\",\n              value: \"event_id\",\n              sortable: true\n            }, {\n              text: \"theme\",\n              value: \"theme\",\n              sortable: true\n            }, {\n              text: \"states\",\n              value: \"states\",\n              sortable: true\n            }, {\n              text: \"area\",\n              value: \"area\",\n              sortable: true\n            }, {\n              text: \"start_at\",\n              value: \"start_at\",\n              sortable: true\n            }, {\n              text: \"name\",\n              value: \"name\",\n              sortable: true\n            }, {\n              text: \"status\",\n              value: \"status\",\n              sortable: true\n            }, {\n              text: \"states\",\n              value: \"states\",\n              sortable: true\n            }, {\n              text: \"payment_ratio\",\n              value: \"payment_ratio\",\n              sortable: true\n            }, {\n              text: \"male_estimated_payment\",\n              value: \"male_estimated_payment\",\n              sortable: true\n            }, {\n              text: \"female_estimated_payment\",\n              value: \"female_estimated_payment\",\n              sortable: true\n            }, {\n              text: \"message_from_owner\",\n              value: \"message_from_owner\",\n              sortable: true\n            }, {\n              text: \"owner_user_id\",\n              value: \"owner_user_id\",\n              sortable: true\n            }, {\n              text: \"participants_pattern\",\n              value: \"participants_pattern\",\n              sortable: true\n            }, {\n              text: \"restaurant_url\",\n              value: \"restaurant_url\",\n              sortable: true\n            }, {\n              text: \"male_participants_number\",\n              value: \"male_participants_number\",\n              sortable: true\n            }, {\n              text: \"female_participants_number\",\n              value: \"female_participants_number\",\n              sortable: true\n            }, {\n              text: \"deleted_at\",\n              value: \"deleted_at\",\n              sortable: true\n            }, {\n              text: \"created_at\",\n              value: \"created_at\",\n              sortable: true\n            }, {\n              text: \"updated_at\",\n              value: \"updated_at\",\n              sortable: true\n            }];\n            break;\n          case \"friends\":\n            console.log(this.selectedTable);\n            this.sortBy = \"from_user_id\";\n            this.sortType = \"asc\";\n            this.headers = [{\n              text: \"from_user_id\",\n              value: \"from_user_id\",\n              sortable: true\n            }, {\n              text: \"to_user_id\",\n              value: \"to_user_id\",\n              sortable: true\n            }, {\n              text: \"deleted_at\",\n              value: \"deleted_at\",\n              sortable: true\n            }, {\n              text: \"created_at\",\n              value: \"created_at\",\n              sortable: true\n            }];\n            break;\n          case \"friends\":\n            console.log(this.selectedTable);\n            this.sortBy = \"from_user_id\";\n            this.sortType = \"asc\";\n            this.headers = [{\n              text: \"from_user_id\",\n              value: \"from_user_id\",\n              sortable: true\n            }, {\n              text: \"to_user_id\",\n              value: \"to_user_id\",\n              sortable: true\n            }, {\n              text: \"deleted_at\",\n              value: \"deleted_at\",\n              sortable: true\n            }, {\n              text: \"created_at\",\n              value: \"created_at\",\n              sortable: true\n            }];\n            break;\n        }\n        // this.dailycountSeries = [];\n        // this.getDiscordSummary();\n      },\n\n      deep: true\n    }\n  },\n  data: function data() {\n    return {\n      show_flag: false,\n      selectedTable: \"events\",\n      optionTables: [{\n        id: 1,\n        name: \"events\"\n      }, {\n        id: 2,\n        name: \"users\"\n      }, {\n        id: 3,\n        name: \"age_verifications\"\n      }, {\n        id: 4,\n        name: \"user_photos\"\n      }, {\n        id: 5,\n        name: \"chat_rooms\"\n      }, {\n        id: 6,\n        name: \"chat_room_user\"\n      }, {\n        id: 7,\n        name: \"friends\"\n      }, {\n        id: 8,\n        name: \"messages\"\n      }, {\n        id: 9,\n        name: \"areas\"\n      }, {\n        id: 10,\n        name: \"theme\"\n      }, {\n        id: 11,\n        name: \"participants\"\n      }, {\n        id: 12,\n        name: \"user_opinions\"\n      }, {\n        id: 13,\n        name: \"blocks\"\n      }]\n    };\n  },\n  computed: {},\n  methods: {\n    getDiscordChannels: function getDiscordChannels() {\n      var _this = this;\n      api.getDiscordChannels({\n        data_from: this.date[0].toISOString().slice(0, 10),\n        data_to: this.date[1].toISOString().slice(0, 10)\n      }).then(function (response) {\n        console.log(response);\n        for (var i = 0; i < response[\"data\"].length; i++) {\n          _this.items.push({\n            channel_name: response[\"data\"][i][\"channel_name\"],\n            count_actions: response[\"data\"][i][\"count_messages\"] + response[\"data\"][i][\"count_reactions\"],\n            count_messages: response[\"data\"][i][\"count_messages\"],\n            count_reactions: response[\"data\"][i][\"count_reactions\"],\n            count_message_users: response[\"data\"][i][\"count_message_users\"],\n            count_reaction_users: response[\"data\"][i][\"count_reaction_users\"]\n          });\n        }\n      })[\"catch\"](function () {\n        _this.$toast.show(\"分析データの取得に失敗しました\", {\n          type: \"error\",\n          position: \"top-right\",\n          duration: 5000\n        });\n      });\n    }\n  }\n};","map":{"version":3,"mappings":"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","names":["api","ref","onMounted","name","components","setup","sortBy","sortType","headers","text","value","sortable","items","mounted","show_flag","watch","selectedTable","handler","newVal","console","log","deep","data","optionTables","id","computed","methods","getDiscordChannels","data_from","date","toISOString","slice","data_to","then","response","i","length","push","channel_name","count_actions","count_messages","count_reactions","count_message_users","count_reaction_users","$toast","show","type","position","duration"],"sourceRoot":"","sources":["/Users/kazuaki.aihara/Documents/hanabi-admin/src/views/TableView.vue"],"sourcesContent":["<template>\n  <div class=\"campaign_analize\">\n    <!-- side var  -->\n    <SideVar />\n    <!-- main div -->\n    <RightColumnOutline>\n      <PageTitle>Table View</PageTitle>\n      <div class=\"flex justify-between items-center\">\n        <div class=\"text-white text-left ml-4 text-sm\">\n          データベースの中身を参照・更新することができます。現状作成・削除の機能はありません。\n        </div>\n      </div>\n      <div class=\"flex justify-left items-center py-5\">\n        <div class=\"text-white text-left ml-4 text-sm\">操作対象テーブル：</div>\n        <select v-model=\"selectedTable\">\n          <option\n            v-for=\"table in optionTables\"\n            v-bind:value=\"table.name\"\n            v-bind:key=\"table.id\"\n          >\n            {{ table.name }}\n          </option>\n        </select>\n      </div>\n      <div class=\"m-4 p-2\">\n        <EasyDataTable\n          :headers=\"headers\"\n          :items=\"items\"\n          :sort-by=\"sortBy\"\n          :sort-type=\"sortType\"\n        />\n      </div>\n    </RightColumnOutline>\n  </div>\n</template>\n\n<script>\nimport api from \"../api/api.js\";\nimport { ref, onMounted } from \"vue\";\n\nexport default {\n  name: \"tableView\",\n  components: {},\n  setup() {\n    const sortBy = \"event_id\";\n    const sortType = \"asc\";\n    const headers = [\n      { text: \"event_id\", value: \"event_id\", sortable: true },\n      {\n        text: \"theme\",\n        value: \"theme\",\n        sortable: true,\n      },\n      {\n        text: \"states\",\n        value: \"states\",\n        sortable: true,\n      },\n      { text: \"area\", value: \"area\", sortable: true },\n      { text: \"start_at\", value: \"start_at\", sortable: true },\n      { text: \"name\", value: \"name\", sortable: true },\n      { text: \"status\", value: \"status\", sortable: true },\n\n      { text: \"states\", value: \"states\", sortable: true },\n      { text: \"payment_ratio\", value: \"payment_ratio\", sortable: true },\n      {\n        text: \"male_estimated_payment\",\n        value: \"male_estimated_payment\",\n        sortable: true,\n      },\n      {\n        text: \"female_estimated_payment\",\n        value: \"female_estimated_payment\",\n        sortable: true,\n      },\n      {\n        text: \"message_from_owner\",\n        value: \"message_from_owner\",\n        sortable: true,\n      },\n      { text: \"owner_user_id\", value: \"owner_user_id\", sortable: true },\n      {\n        text: \"participants_pattern\",\n        value: \"participants_pattern\",\n        sortable: true,\n      },\n      { text: \"restaurant_url\", value: \"restaurant_url\", sortable: true },\n      {\n        text: \"male_participants_number\",\n        value: \"male_participants_number\",\n        sortable: true,\n      },\n      {\n        text: \"female_participants_number\",\n        value: \"female_participants_number\",\n        sortable: true,\n      },\n      { text: \"deleted_at\", value: \"deleted_at\", sortable: true },\n      { text: \"created_at\", value: \"created_at\", sortable: true },\n      { text: \"updated_at\", value: \"updated_at\", sortable: true },\n    ];\n\n    let items = ref([]);\n\n    onMounted(() => {});\n    return {\n      headers,\n      items,\n      sortBy,\n      sortType,\n    };\n  },\n  mounted() {\n    this.show_flag = true;\n  },\n  watch: {\n    selectedTable: {\n      handler(newVal) {\n        switch (newVal) {\n          case \"events\":\n            console.log(this.selectedTable);\n            this.sortBy = \"event_id\";\n            this.sortType = \"asc\";\n            this.headers = [\n              { text: \"event_id\", value: \"event_id\", sortable: true },\n              { text: \"theme\", value: \"theme\", sortable: true },\n              { text: \"states\", value: \"states\", sortable: true },\n              { text: \"area\", value: \"area\", sortable: true },\n              { text: \"start_at\", value: \"start_at\", sortable: true },\n              { text: \"name\", value: \"name\", sortable: true },\n              { text: \"status\", value: \"status\", sortable: true },\n              { text: \"states\", value: \"states\", sortable: true },\n              { text: \"payment_ratio\", value: \"payment_ratio\", sortable: true },\n              {\n                text: \"male_estimated_payment\",\n                value: \"male_estimated_payment\",\n                sortable: true,\n              },\n              {\n                text: \"female_estimated_payment\",\n                value: \"female_estimated_payment\",\n                sortable: true,\n              },\n              {\n                text: \"message_from_owner\",\n                value: \"message_from_owner\",\n                sortable: true,\n              },\n              { text: \"owner_user_id\", value: \"owner_user_id\", sortable: true },\n              {\n                text: \"participants_pattern\",\n                value: \"participants_pattern\",\n                sortable: true,\n              },\n              {\n                text: \"restaurant_url\",\n                value: \"restaurant_url\",\n                sortable: true,\n              },\n              {\n                text: \"male_participants_number\",\n                value: \"male_participants_number\",\n                sortable: true,\n              },\n              {\n                text: \"female_participants_number\",\n                value: \"female_participants_number\",\n                sortable: true,\n              },\n              { text: \"deleted_at\", value: \"deleted_at\", sortable: true },\n              { text: \"created_at\", value: \"created_at\", sortable: true },\n              { text: \"updated_at\", value: \"updated_at\", sortable: true },\n            ];\n            break;\n          case \"friends\":\n            console.log(this.selectedTable);\n            this.sortBy = \"from_user_id\";\n            this.sortType = \"asc\";\n            this.headers = [\n              { text: \"from_user_id\", value: \"from_user_id\", sortable: true },\n              { text: \"to_user_id\", value: \"to_user_id\", sortable: true },\n              { text: \"deleted_at\", value: \"deleted_at\", sortable: true },\n              { text: \"created_at\", value: \"created_at\", sortable: true },\n            ];\n            break;\n          case \"friends\":\n            console.log(this.selectedTable);\n            this.sortBy = \"from_user_id\";\n            this.sortType = \"asc\";\n            this.headers = [\n              { text: \"from_user_id\", value: \"from_user_id\", sortable: true },\n              { text: \"to_user_id\", value: \"to_user_id\", sortable: true },\n              { text: \"deleted_at\", value: \"deleted_at\", sortable: true },\n              {\n                text: \"created_at\",\n                value: \"created_at\",\n                sortable: true,\n              },\n            ];\n            break;\n        }\n        // this.dailycountSeries = [];\n        // this.getDiscordSummary();\n      },\n      deep: true,\n    },\n  },\n  data() {\n    return {\n      show_flag: false,\n      selectedTable: \"events\",\n      optionTables: [\n        { id: 1, name: \"events\" },\n        { id: 2, name: \"users\" },\n        { id: 3, name: \"age_verifications\" },\n        { id: 4, name: \"user_photos\" },\n        { id: 5, name: \"chat_rooms\" },\n        { id: 6, name: \"chat_room_user\" },\n        { id: 7, name: \"friends\" },\n        { id: 8, name: \"messages\" },\n        { id: 9, name: \"areas\" },\n        { id: 10, name: \"theme\" },\n        { id: 11, name: \"participants\" },\n        { id: 12, name: \"user_opinions\" },\n        { id: 13, name: \"blocks\" },\n      ],\n    };\n  },\n  computed: {},\n  methods: {\n    getDiscordChannels() {\n      api\n        .getDiscordChannels({\n          data_from: this.date[0].toISOString().slice(0, 10),\n          data_to: this.date[1].toISOString().slice(0, 10),\n        })\n        .then((response) => {\n          console.log(response);\n          for (let i = 0; i < response[\"data\"].length; i++) {\n            this.items.push({\n              channel_name: response[\"data\"][i][\"channel_name\"],\n              count_actions:\n                response[\"data\"][i][\"count_messages\"] +\n                response[\"data\"][i][\"count_reactions\"],\n              count_messages: response[\"data\"][i][\"count_messages\"],\n              count_reactions: response[\"data\"][i][\"count_reactions\"],\n              count_message_users: response[\"data\"][i][\"count_message_users\"],\n              count_reaction_users: response[\"data\"][i][\"count_reaction_users\"],\n            });\n          }\n        })\n        .catch(() => {\n          this.$toast.show(\"分析データの取得に失敗しました\", {\n            type: \"error\",\n            position: \"top-right\",\n            duration: 5000,\n          });\n        });\n    },\n  },\n};\n</script>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}