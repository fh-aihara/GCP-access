{"ast":null,"code":"import _regeneratorRuntime from \"/Users/kazuaki.aihara/Documents/fuelcrypto-organizer/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/kazuaki.aihara/Documents/fuelcrypto-organizer/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport axios from \"axios\";\nimport mock from \"./mock/api\";\nimport store from \"@/store\";\n// import \"../firebase_config\";\n// import { initFirebaseAuth } from \"../firebase_config\";\n\nvar base = \"\";\nif (JSON.parse(process.env.VUE_APP_ENDPOINT_USE_PROD)) {\n  base = \"https://social-marketing.io/api/v1\";\n} else {\n  base = \"http://127.0.0.1:8081/api/v1/instantwins\";\n}\nexport var client = axios.create({\n  baseURL: base\n});\nclient.interceptors.request.use( /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(config) {\n    var twitterId, twitterAccessToken, twitterAccessSecret;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          twitterId = store.getters[\"userId\"].split(\"/\")[3];\n          twitterAccessToken = store.getters[\"oauthAccessToken\"];\n          twitterAccessSecret = store.getters[\"oauthTokenSecret\"]; // console.log(twitterId.split(\"/\")[3]);\n          // console.log(twitterId);\n          // console.log(twitterAccessToken);\n          // console.log(twitterAccessSecret);\n          config.headers = {\n            twitter_id: twitterId,\n            access_token: twitterAccessToken,\n            access_secret: twitterAccessSecret\n          };\n          return _context.abrupt(\"return\", config);\n        case 5:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee);\n  }));\n  return function (_x) {\n    return _ref.apply(this, arguments);\n  };\n}());\n\n// モック起動\nif (JSON.parse(process.env.VUE_APP_USE_MOCK)) {\n  mock.run(client);\n}\nexport default {\n  getHealth: function getHealth(params) {\n    return client.get(\"/\", params);\n  },\n  postUser: function postUser(params) {\n    console.log(\"post User log\", params);\n    return client.post(\"/user\", params);\n  },\n  getConditions: function getConditions(params) {\n    return client.get(\"/conditions/\" + params.id);\n  }\n};","map":{"version":3,"names":["axios","mock","store","base","JSON","parse","process","env","VUE_APP_ENDPOINT_USE_PROD","client","create","baseURL","interceptors","request","use","config","twitterId","getters","split","twitterAccessToken","twitterAccessSecret","headers","twitter_id","access_token","access_secret","VUE_APP_USE_MOCK","run","getHealth","params","get","postUser","console","log","post","getConditions","id"],"sources":["/Users/kazuaki.aihara/Documents/fuelcrypto-organizer/src/api/stgdbapi.js"],"sourcesContent":["import axios from \"axios\";\nimport mock from \"./mock/api\";\nimport store from \"@/store\";\n// import \"../firebase_config\";\n// import { initFirebaseAuth } from \"../firebase_config\";\n\nlet base = \"\";\nif (JSON.parse(process.env.VUE_APP_ENDPOINT_USE_PROD)) {\n  base = \"https://social-marketing.io/api/v1\";\n} else {\n  base = \"http://127.0.0.1:8081/api/v1/instantwins\";\n}\nexport const client = axios.create({\n  baseURL: base,\n});\n\nclient.interceptors.request.use(async (config) => {\n  const twitterId = store.getters[\"userId\"].split(\"/\")[3];\n  const twitterAccessToken = store.getters[\"oauthAccessToken\"];\n  const twitterAccessSecret = store.getters[\"oauthTokenSecret\"];\n  // console.log(twitterId.split(\"/\")[3]);\n  // console.log(twitterId);\n  // console.log(twitterAccessToken);\n  // console.log(twitterAccessSecret);\n  config.headers = {\n    twitter_id: twitterId,\n    access_token: twitterAccessToken,\n    access_secret: twitterAccessSecret,\n  };\n  return config;\n});\n\n// モック起動\nif (JSON.parse(process.env.VUE_APP_USE_MOCK)) {\n  mock.run(client);\n}\n\nexport default {\n  getHealth(params) {\n    return client.get(\"/\", params);\n  },\n  postUser(params) {\n    console.log(\"post User log\", params);\n    return client.post(\"/user\", params);\n  },\n  getConditions(params) {\n    return client.get(\"/conditions/\" + params.id);\n  },\n};\n"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,IAAI,MAAM,YAAY;AAC7B,OAAOC,KAAK,MAAM,SAAS;AAC3B;AACA;;AAEA,IAAIC,IAAI,GAAG,EAAE;AACb,IAAIC,IAAI,CAACC,KAAK,CAACC,OAAO,CAACC,GAAG,CAACC,yBAAyB,CAAC,EAAE;EACrDL,IAAI,GAAG,oCAAoC;AAC7C,CAAC,MAAM;EACLA,IAAI,GAAG,0CAA0C;AACnD;AACA,OAAO,IAAMM,MAAM,GAAGT,KAAK,CAACU,MAAM,CAAC;EACjCC,OAAO,EAAER;AACX,CAAC,CAAC;AAEFM,MAAM,CAACG,YAAY,CAACC,OAAO,CAACC,GAAG;EAAA,sEAAC,iBAAOC,MAAM;IAAA;IAAA;MAAA;QAAA;UACrCC,SAAS,GAAGd,KAAK,CAACe,OAAO,CAAC,QAAQ,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;UACjDC,kBAAkB,GAAGjB,KAAK,CAACe,OAAO,CAAC,kBAAkB,CAAC;UACtDG,mBAAmB,GAAGlB,KAAK,CAACe,OAAO,CAAC,kBAAkB,CAAC,EAC7D;UACA;UACA;UACA;UACAF,MAAM,CAACM,OAAO,GAAG;YACfC,UAAU,EAAEN,SAAS;YACrBO,YAAY,EAAEJ,kBAAkB;YAChCK,aAAa,EAAEJ;UACjB,CAAC;UAAC,iCACKL,MAAM;QAAA;QAAA;UAAA;MAAA;IAAA;EAAA,CACd;EAAA;IAAA;EAAA;AAAA,IAAC;;AAEF;AACA,IAAIX,IAAI,CAACC,KAAK,CAACC,OAAO,CAACC,GAAG,CAACkB,gBAAgB,CAAC,EAAE;EAC5CxB,IAAI,CAACyB,GAAG,CAACjB,MAAM,CAAC;AAClB;AAEA,eAAe;EACbkB,SAAS,qBAACC,MAAM,EAAE;IAChB,OAAOnB,MAAM,CAACoB,GAAG,CAAC,GAAG,EAAED,MAAM,CAAC;EAChC,CAAC;EACDE,QAAQ,oBAACF,MAAM,EAAE;IACfG,OAAO,CAACC,GAAG,CAAC,eAAe,EAAEJ,MAAM,CAAC;IACpC,OAAOnB,MAAM,CAACwB,IAAI,CAAC,OAAO,EAAEL,MAAM,CAAC;EACrC,CAAC;EACDM,aAAa,yBAACN,MAAM,EAAE;IACpB,OAAOnB,MAAM,CAACoB,GAAG,CAAC,cAAc,GAAGD,MAAM,CAACO,EAAE,CAAC;EAC/C;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}