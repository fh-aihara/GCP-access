{"ast":null,"code":"import \"core-js/modules/es.date.to-string.js\";\nimport \"core-js/modules/es.array.index-of.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.string.replace.js\";\nimport \"core-js/modules/es.symbol.js\";\nimport \"core-js/modules/es.symbol.description.js\";\nimport \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.string.includes.js\";\nimport SideVar from \"@/components/SideVar.vue\";\nimport Datepicker from \"@vuepic/vue-datepicker\";\nimport \"@vuepic/vue-datepicker/dist/main.css\";\nimport api from \"../api/api.js\";\nimport { ref, onMounted } from \"vue\";\nexport default {\n  name: \"Campaign_regist\",\n  components: {\n    SideVar: SideVar,\n    Datepicker: Datepicker\n  },\n  setup: function setup() {\n    var date = ref();\n    onMounted(function () {\n      var today = new Date();\n      var startDate = new Date(new Date().setDate(today.getDate() + 1));\n      startDate.setHours(21, 0, 0, 0);\n      var endDate = new Date(new Date().setDate(startDate.getDate() + 7));\n      endDate.setHours(21, 0, 0, 0);\n      date.value = [startDate, endDate];\n    });\n    return {\n      date: date\n    };\n  },\n  mounted: function mounted() {\n    this.checkCount();\n  },\n  data: function data() {\n    return {\n      campaign_name: null,\n      category: null,\n      keyword: null,\n      keyword_check: null,\n      keyword_count: null,\n      keyword_check_result: null,\n      \"abstract\": null,\n      detail: null,\n      reword_amount: null,\n      reword_currency: null,\n      distribution_type: null,\n      nouse_in_this_version: false,\n      today: new Date(),\n      // For Follow and Retweet, Instant Win\n      twitter_account: null,\n      twitter_account_id: null,\n      twitter_account_response: null,\n      twitter_account_check: null,\n      twitter_account_result: null,\n      tweet_url: null,\n      tweet_id: null,\n      tweet_url_response: null,\n      tweet_url_check: null,\n      tweet_url_result: null,\n      // For Instant Win\n      estimated_participants_count: null,\n      // loading\n      keyword_loading: false,\n      regist_loading: false,\n      account_loading: false,\n      tweet_loading: false,\n      small_campaign_count: false,\n      big_campaign_count: false\n    };\n  },\n  computed: {\n    min_date: function min_date() {\n      return new Date(new Date().setHours(this.today.getHours() + 1));\n    },\n    filled: function filled() {\n      return this.campaign_name && this.keyword_check && this.category && this.keyword && this.small_campaign_count + this.big_campaign_count > 0;\n    },\n    follow_and_retweet_filled: function follow_and_retweet_filled() {\n      return this.campaign_name && this.category && this.reword_amount && this.date[1] && this.twitter_account_check && (this.tweet_url_check || !this.tweet_url && !this.tweet_url_check) && this.small_campaign_count + this.big_campaign_count > 0;\n    },\n    instant_win_filled: function instant_win_filled() {\n      return this.campaign_name && this.category && this.reword_amount && this.date[1] && this.twitter_account_check && this.estimated_participants_count && this.big_campaign_count > 0;\n    },\n    condition_flag: function condition_flag() {\n      // init\n      var return_dict = {\n        keyword: false,\n        abstruct: false,\n        detail: false,\n        distribution_type: false,\n        amount: false,\n        currency_id: false,\n        start_time: false,\n        end_time: false,\n        twitter_account: false,\n        twitter_url: false,\n        estimated_participants_count: false\n      };\n      if (this.category == null) {\n        return return_dict;\n      } else if (this.category == \"HASHTAG\") {\n        return_dict = {\n          keyword: true,\n          abstruct: true,\n          detail: true,\n          distribution_type: false,\n          amount: false,\n          currency_id: false,\n          start_time: true,\n          end_time: true,\n          twitter_account: false,\n          twitter_url: false,\n          estimated_participants_count: false\n        };\n        return return_dict;\n      } else if (this.category == \"FOLLOW_AND_RETWEET\") {\n        return_dict = {\n          keyword: false,\n          abstruct: false,\n          detail: false,\n          distribution_type: false,\n          amount: true,\n          currency_id: false,\n          start_time: false,\n          end_time: true,\n          twitter_account: true,\n          twitter_url: true,\n          estimated_participants_count: false\n        };\n        return return_dict;\n      } else if (this.category == \"INSTANT_WIN\") {\n        return_dict = {\n          keyword: false,\n          abstruct: false,\n          detail: false,\n          distribution_type: false,\n          amount: true,\n          estimated_participants_count: true,\n          currency_id: false,\n          start_time: true,\n          end_time: true,\n          twitter_account: true,\n          twitter_url: false\n        };\n        return return_dict;\n      } else {\n        return return_dict;\n      }\n    },\n    plan: function plan() {\n      return this.$store.getters[\"subscribePlan\"];\n    }\n  },\n  watch: {\n    keyword: function keyword(value) {\n      this.keyword_check = false;\n      this.keyword_check_result = \"\";\n      if (value.indexOf(\"#\")) {\n        this.keyword = \"#\" + value;\n      }\n    },\n    twitter_account: function twitter_account(value) {\n      this.twitter_account_check = false;\n      this.twitter_account_result = \"\";\n      if (value.indexOf(\"@\")) {\n        this.twitter_account = \"@\" + value;\n      }\n    },\n    tweet_url: function tweet_url() {\n      this.tweet_url_check = false;\n      this.tweet_url_result = \"\";\n    },\n    date: function date(value) {\n      if (value != null) {\n        var diffTime = value[1].getTime() - value[0].getTime();\n        var diffDay = Math.floor(diffTime / (1000 * 60 * 60 * 24));\n        if (diffDay > 7) {\n          this.date = null;\n          this.$toast.show(\"キャンペーン期間は１週間以内で設定してください\", {\n            type: \"error\",\n            position: \"top-right\",\n            duration: 5000\n          });\n        }\n      }\n    }\n  },\n  methods: {\n    createCampaign: function createCampaign() {\n      var _this = this;\n      this.regist_loading = true;\n      var status = 1;\n      var start = this.date[0];\n      var end = this.date[1];\n      if (this.category == \"FOLLOW_AND_RETWEET\") {\n        start = null;\n      }\n      api.createCampaign({\n        status: status,\n        keyword: this.keyword,\n        start_time: start,\n        end_time: end,\n        detail: this.detail,\n        campaign_name: this.campaign_name,\n        distribution_type: this.distribution_type,\n        amount: this.reword_amount,\n        currency_id: this.reword_currency,\n        category: this.category\n      }).then(function (response) {\n        if (_this.category == \"FOLLOW_AND_RETWEET\") {\n          if (_this.tweet_url_check) {\n            api.createConditions({\n              campaign_id: response[\"data\"][\"campaign_id\"],\n              user_id: _this.twitter_account_id,\n              actions: \"FOLLOW\"\n            }).then(function () {\n              api.createConditions({\n                campaign_id: response[\"data\"][\"campaign_id\"],\n                tweet_id: _this.tweet_id,\n                actions: \"RETWEET\"\n              }).then(function () {\n                _this.$toast.show(\"キャンペーンの登録が完了しました\", {\n                  type: \"success\",\n                  position: \"top-right\",\n                  duration: 3000\n                });\n                _this.$router.replace(\"/campaigns\");\n              })[\"catch\"](function (error) {\n                _this.$toast.show(\"キャンペーンの登録に失敗しました\", {\n                  type: \"error\",\n                  position: \"top-right\",\n                  duration: 5000\n                });\n                console.log(\"error: \", error);\n              });\n            });\n          } else {\n            // tweetを登録する場合\n            api.createConditions({\n              campaign_id: response[\"data\"][\"campaign_id\"],\n              user_id: _this.twitter_account_id,\n              actions: \"FOLLOW\"\n            }).then(function () {\n              _this.$toast.show(\"キャンペーンの登録が完了しました\", {\n                type: \"success\",\n                position: \"top-right\",\n                duration: 3000\n              });\n              _this.$router.replace(\"/campaigns\");\n            })[\"catch\"](function (error) {\n              _this.$toast.show(\"キャンペーンの登録に失敗しました\", {\n                type: \"error\",\n                position: \"top-right\",\n                duration: 5000\n              });\n              console.log(\"error: \", error);\n            });\n          }\n        }\n        // Instant win\n        if (_this.category == \"INSTANT_WIN\") {\n          api.createConditions({\n            campaign_id: response[\"data\"][\"campaign_id\"],\n            user_id: _this.twitter_account_id,\n            actions: \"FOLLOW\"\n          }).then(function () {\n            api.postInstantWin({\n              campaign_id: response[\"data\"][\"campaign_id\"],\n              total_win: _this.reword_amount,\n              est_participant: _this.estimated_participants_count,\n              remain_win: _this.reword_amount,\n              prob: _this.reword_amount / _this.estimated_participants_count\n            }).then(function () {\n              _this.$toast.show(\"キャンペーンの登録が完了しました\", {\n                type: \"success\",\n                position: \"top-right\",\n                duration: 3000\n              });\n              _this.$router.replace(\"/campaigns\");\n            })[\"catch\"](function (error) {\n              _this.$toast.show(\"キャンペーンの登録に失敗しました\", {\n                type: \"error\",\n                position: \"top-right\",\n                duration: 5000\n              });\n              console.log(\"error: \", error);\n            });\n          });\n        }\n        // hashtag\n        if (_this.category == \"HASHTAG\") {\n          _this.$toast.show(\"キャンペーンの登録が完了しました\", {\n            type: \"success\",\n            position: \"top-right\",\n            duration: 3000\n          });\n          _this.$router.replace(\"/campaigns\");\n        }\n        _this.regist_loading = false;\n      })[\"catch\"](function (error) {\n        _this.$toast.show(\"キャンペーンの登録に失敗しました\", {\n          type: \"error\",\n          position: \"top-right\",\n          duration: 5000\n        });\n        console.log(\"error: \", error);\n        _this.regist_loading = false;\n      });\n    },\n    checkKeyword: function checkKeyword() {\n      var _this2 = this;\n      this.keyword_loading = true;\n      api.checkKeyword({\n        keyword: this.keyword\n      }).then(function (response) {\n        _this2.keyword_count = response[\"data\"];\n        if (_this2.keyword_count < 5000) {\n          _this2.keyword_check = true;\n          _this2.keyword_check_result = \"指定されたキーワードの直近７日間の利用数は\" + String(_this2.keyword_count) + \"回であり、利用可能です。\";\n        } else {\n          _this2.keyword_check = false;\n          _this2.keyword_check_result = \"指定されたキーワードの直近７日間の利用数は\" + String(_this2.keyword_count) + \"回であり、利用数が多すぎます。別のキーワードをご利用ください\";\n        }\n        _this2.keyword_loading = false;\n      })[\"catch\"](function (error) {\n        _this2.keyword_loading = false;\n        _this2.$toast.show(\"キーワードのチェックに失敗しました\", {\n          type: \"error\",\n          position: \"top-right\",\n          duration: 5000\n        });\n        console.log(\"error: \", error);\n      });\n    },\n    checkTwitterAccount: function checkTwitterAccount() {\n      var _this3 = this;\n      this.account_loading = true;\n      api.checkTwitterAccount({\n        username: this.twitter_account\n      }).then(function (response) {\n        _this3.twitter_account_response = response[\"data\"];\n        if (_this3.twitter_account_response != \"NotFound\") {\n          _this3.twitter_account_check = true;\n          _this3.twitter_account_id = _this3.twitter_account_response[\"id\"];\n          _this3.twitter_account_result = String(_this3.twitter_account_response[\"username\"]) + \" : \" + String(_this3.twitter_account_response[\"description\"]);\n        } else {\n          _this3.twitter_account_check = false;\n          _this3.twitter_account_result = \"入力いただいたusernameのアカウントは見つかりませんでした。\";\n        }\n        _this3.account_loading = false;\n      })[\"catch\"](function (error) {\n        _this3.$toast.show(\"アカウントチェックに失敗しました\", {\n          type: \"error\",\n          position: \"top-right\",\n          duration: 5000\n        });\n        console.log(\"error: \", error);\n        _this3.account_loading = false;\n      });\n    },\n    checkTweet: function checkTweet() {\n      var _this4 = this;\n      this.tweet_loading = true;\n      api.checkTweet({\n        tweet_url: this.tweet_url\n      }).then(function (response) {\n        _this4.tweet_url_response = response[\"data\"];\n        if (_this4.tweet_url_response != \"NotFound\") {\n          _this4.tweet_url_check = true;\n          _this4.tweet_id = _this4.tweet_url_response[\"data\"][\"id\"];\n          _this4.tweet_url_result = String(_this4.tweet_url_response[\"includes\"][\"users\"][0][\"username\"]) + \" : \" + String(_this4.tweet_url_response[\"data\"][\"text\"]);\n        } else {\n          _this4.tweet_url_check = false;\n          _this4.tweet_url_result = \"入力いただいたtweetは見つかりませんでした。\";\n        }\n        _this4.tweet_loading = false;\n      })[\"catch\"](function (error) {\n        _this4.$toast.show(\"ツイートチェックに失敗しました\", {\n          type: \"error\",\n          position: \"top-right\",\n          duration: 5000\n        });\n        console.log(\"error: \", error);\n        _this4.tweet_loading = false;\n      });\n    },\n    checkCount: function checkCount() {\n      var _this5 = this;\n      api.getMyOrganizer().then(function (response) {\n        _this5.small_campaign_count = response.data.small_campaign_count;\n        _this5.big_campaign_count = response.data.big_campaign_count;\n        if (_this5.small_campaign_count == 0 && _this5.big_campaign_count == 0) {\n          // 何もできることがない\n          _this5.$toast.show(\"キャンペーン開催可能数が０です。利用回数が不足している場合はプランのアップグレードをご検討ください\", {\n            type: \"error\",\n            position: \"top-right\",\n            duration: 5000\n          });\n        }\n      })[\"catch\"](function (error) {\n        _this5.$toast.show(\"キャンペーン利用可能数の取得に失敗しました\", {\n          type: \"error\",\n          position: \"top-right\",\n          duration: 5000\n        });\n        console.log(\"error: \", error);\n      });\n    }\n  }\n};","map":{"version":3,"mappings":"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","names":["SideVar","Datepicker","api","ref","onMounted","name","components","setup","date","today","Date","startDate","setDate","getDate","setHours","endDate","value","mounted","checkCount","data","campaign_name","category","keyword","keyword_check","keyword_count","keyword_check_result","detail","reword_amount","reword_currency","distribution_type","nouse_in_this_version","twitter_account","twitter_account_id","twitter_account_response","twitter_account_check","twitter_account_result","tweet_url","tweet_id","tweet_url_response","tweet_url_check","tweet_url_result","estimated_participants_count","keyword_loading","regist_loading","account_loading","tweet_loading","small_campaign_count","big_campaign_count","computed","min_date","getHours","filled","follow_and_retweet_filled","instant_win_filled","condition_flag","return_dict","abstruct","amount","currency_id","start_time","end_time","twitter_url","plan","$store","getters","watch","indexOf","diffTime","getTime","diffDay","Math","floor","$toast","show","type","position","duration","methods","createCampaign","status","start","end","then","response","createConditions","campaign_id","user_id","actions","$router","replace","error","console","log","postInstantWin","total_win","est_participant","remain_win","prob","checkKeyword","String","checkTwitterAccount","username","checkTweet","getMyOrganizer"],"sourceRoot":"","sources":["/Users/kazuaki.aihara/Documents/fuelcrypto-organizer/src/views/CampaignCreate.vue"],"sourcesContent":["<template>\n  <div class=\"campaign_regist\">\n    <div class=\"\">\n      <div>\n        <!-- side var  -->\n        <SideVar />\n        <!-- input panel -->\n        <div class=\"mx-auto lg:ml-80\">\n          <section class=\"py-2\">\n            <div class=\"container px-2 mx-auto\">\n              <div class=\"p-8 bg-gray-500 rounded-xl\">\n                <div\n                  class=\"flex flex-wrap items-center justify-between -mx-4 mb-8 pb-6 border-b border-gray-400 border-opacity-20\"\n                >\n                  <div class=\"w-full sm:w-auto px-4 mb-6 sm:mb-0\">\n                    <h2\n                      class=\"mb-6 md:text-3xl font-bold font-heading tracking-px-n leading-none md:max-w-xl mx-auto text-gray-100 text-center\"\n                    >\n                      Create Campaign\n                    </h2>\n                  </div>\n                  <div class=\"w-full sm:w-auto px-4\"></div>\n                </div>\n                <div\n                  class=\"flex flex-wrap items-center -mx-4 pb-8 mb-8 border-b border-gray-400 border-opacity-20\"\n                >\n                  <div class=\"w-full sm:w-1/3 px-4 mb-4 sm:mb-0\">\n                    <span class=\"text-sm font-medium text-gray-100\"\n                      >キャンペーン名 *\n                    </span>\n                  </div>\n                  <div class=\"w-full sm:w-2/3 px-4\">\n                    <div class=\"max-w-xl\">\n                      <div class=\"flex flex-wrap items-center -mx-3\">\n                        <div class=\"w-full px-3 mb-3 sm:mb-0\">\n                          <input\n                            class=\"block py-4 px-3 w-full text-sm text-gray-50 placeholder-gray-300 font-medium outline-none bg-transparent border border-gray-400 hover:border-white focus:border-green-500 rounded-lg\"\n                            id=\"campaign_name\"\n                            type=\"text\"\n                            v-model=\"campaign_name\"\n                            placeholder=\"xxxx記念キャンペーン\"\n                          />\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n                <div\n                  class=\"flex flex-wrap items-center -mx-4 pb-8 mb-8 border-b border-gray-400 border-opacity-20\"\n                >\n                  <div class=\"w-full sm:w-1/3 px-4 mb-4 sm:mb-0\">\n                    <span class=\"text-sm font-medium text-gray-100\"\n                      >開催するキャンペーンの種類 *\n                    </span>\n                  </div>\n                  <div class=\"w-full sm:w-2/3 px-4\">\n                    <div class=\"max-w-xl\">\n                      <div\n                        class=\"relative block px-3 w-full text-sm font-medium border border-gray-400 hover:border-white focus-within:border-green-500 rounded-lg\"\n                      >\n                        <span\n                          class=\"absolute top-1/2 right-0 mr-5 transform -translate-y-1/2\"\n                        >\n                          <svg\n                            width=\"12\"\n                            height=\"8\"\n                            viewbox=\"0 0 12 8\"\n                            fill=\"none\"\n                            xmlns=\"http://www.w3.org/2000/svg\"\n                          >\n                            <path\n                              d=\"M10.9999 1.16994C10.8126 0.983692 10.5591 0.87915 10.2949 0.87915C10.0308 0.87915 9.77731 0.983692 9.58995 1.16994L5.99995 4.70994L2.45995 1.16994C2.27259 0.983692 2.01913 0.87915 1.75495 0.87915C1.49076 0.87915 1.23731 0.983692 1.04995 1.16994C0.95622 1.26291 0.881826 1.37351 0.831057 1.49537C0.780288 1.61723 0.75415 1.74793 0.75415 1.87994C0.75415 2.01195 0.780288 2.14266 0.831057 2.26452C0.881826 2.38638 0.95622 2.49698 1.04995 2.58994L5.28995 6.82994C5.38291 6.92367 5.49351 6.99807 5.61537 7.04883C5.73723 7.0996 5.86794 7.12574 5.99995 7.12574C6.13196 7.12574 6.26267 7.0996 6.38453 7.04883C6.50638 6.99807 6.61699 6.92367 6.70995 6.82994L10.9999 2.58994C11.0937 2.49698 11.1681 2.38638 11.2188 2.26452C11.2696 2.14266 11.2957 2.01195 11.2957 1.87994C11.2957 1.74793 11.2696 1.61723 11.2188 1.49537C11.1681 1.37351 11.0937 1.26291 10.9999 1.16994Z\"\n                              fill=\"#3D485B\"\n                            ></path>\n                          </svg>\n                        </span>\n                        <select\n                          class=\"w-full py-4 text-gray-50 placeholder-gray-300 appearance-none bg-transparent outline-none\"\n                          id=\"category\"\n                          v-model=\"category\"\n                        >\n                          <option\n                            class=\"bg-gray-500\"\n                            value=\"FOLLOW_AND_RETWEET\"\n                            v-if=\"plan != 'FREE'\"\n                          >\n                            フォロー＆リツイート\n                          </option>\n                          <option\n                            class=\"bg-gray-500\"\n                            value=\"HASHTAG\"\n                            v-if=\"plan == 'SILVER' || plan == 'GOLD'\"\n                          >\n                            ハッシュタグキャンペーン\n                          </option>\n                          <option\n                            class=\"bg-gray-500\"\n                            value=\"INSTANT_WIN\"\n                            v-if=\"plan == 'GOLD'\"\n                          >\n                            インスタントウィン\n                          </option>\n                        </select>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n                <div\n                  class=\"flex flex-wrap items-center -mx-4 mb-4 border-gray-400 border-opacity-20\"\n                  v-if=\"condition_flag.keyword\"\n                >\n                  <div class=\"w-full sm:w-1/3 px-4 mb-4 sm:mb-0\">\n                    <span class=\"text-sm font-medium text-gray-100\"\n                      >キーワード\n                      <i\n                        class=\"pi pi-question-circle mr-1\"\n                        v-tippy=\"{\n                          content:\n                            'ハッシュタグ必須。ハッシュタグは１つのみ登録してください。',\n                        }\"\n                      ></i\n                      >*\n                    </span>\n                  </div>\n                  <div class=\"w-full sm:w-1/3 px-4\">\n                    <div class=\"max-w-xl\">\n                      <input\n                        class=\"block py-4 px-3 w-full text-sm text-gray-50 placeholder-gray-300 font-medium outline-none bg-transparent border border-gray-400 hover:border-white focus:border-green-500 rounded-lg\"\n                        id=\"keyword\"\n                        type=\"text\"\n                        v-model=\"keyword\"\n                        placeholder=\"#xxxx記念\"\n                      />\n                    </div>\n                  </div>\n                  <div class=\"w-1/4 px-4\">\n                    <div class=\"max-w-xl\">\n                      <button\n                        class=\"inline-block py-4 px-6 text-xs text-center font-semibold leading-normal rounded-lg transition duration-200\"\n                        :class=\"\n                          this.keyword &&\n                          !this.keyword_check &&\n                          !keyword_loading\n                            ? 'text-blue-50 bg-blue-500 hover:bg-blue-600'\n                            : 'text-gray-300 bg-gray-700 hover:bg-gray-800'\n                        \"\n                        :disabled=\"!keyword || keyword_check || keyword_loading\"\n                        @click=\"checkKeyword\"\n                      >\n                        <i\n                          class=\"pi pi-spin pi-spinner text-xs\"\n                          v-if=\"keyword_loading\"\n                        ></i>\n                        キーワードチェック\n                      </button>\n                    </div>\n                  </div>\n                </div>\n                <div\n                  class=\"flex flex-wrap items-center -mx-4 pb-8 mb-8 border-b border-gray-400 border-opacity-20\"\n                  v-if=\"condition_flag.keyword\"\n                >\n                  <div class=\"w-full sm:w-1/3 px-4 pb-4 sm:mb-0\">\n                    <span class=\"text-sm font-medium text-gray-100\"></span>\n                  </div>\n                  <div class=\"w-full sm:w-2/3 px-4\">\n                    <div\n                      v-if=\"keyword_check_result\"\n                      class=\"max-w-xl text-gray-100 text-left\"\n                    >\n                      {{ keyword_check_result }}\n                    </div>\n                  </div>\n                </div>\n                <div\n                  class=\"flex flex-wrap items-center -mx-4 pb-8 mb-8 border-b border-gray-400 border-opacity-20\"\n                  v-if=\"nouse_in_this_version\"\n                >\n                  <div class=\"w-full sm:w-1/3 px-4 mb-4 sm:mb-0\">\n                    <span class=\"text-sm font-medium text-gray-100\"\n                      >キャンペーン概要</span\n                    >\n                  </div>\n                  <div class=\"w-full sm:w-2/3 px-4\">\n                    <div class=\"max-w-xl\">\n                      <input\n                        class=\"block py-4 px-3 w-full text-sm text-gray-50 placeholder-gray-300 font-medium outline-none bg-transparent border border-gray-400 hover:border-white focus:border-green-500 rounded-lg\"\n                        id=\"abstract\"\n                        type=\"text\"\n                        v-model=\"abstract\"\n                        placeholder=\"概要：xxxのサービス開始1周年を記念したキャンペーン。総額yyyyyドル分のzzzzをポイントの高い順にプレゼント\"\n                      />\n                    </div>\n                  </div>\n                </div>\n                <div\n                  class=\"flex flex-wrap items-center -mx-4 pb-8 mb-8 border-b border-gray-400 border-opacity-20\"\n                  v-if=\"condition_flag.detail\"\n                >\n                  <div class=\"w-full sm:w-1/3 px-4 mb-4 sm:mb-0\">\n                    <span class=\"text-sm font-medium text-gray-100\"\n                      >キャンペーン詳細</span\n                    >\n                  </div>\n                  <div class=\"w-full sm:w-2/3 px-4\">\n                    <div class=\"max-w-xl\">\n                      <textarea\n                        class=\"block py-4 px-3 w-full text-sm text-gray-50 placeholder-gray-300 font-medium outline-none bg-transparent border border-gray-400 hover:border-white focus:border-green-500 rounded-lg\"\n                        id=\"detail\"\n                        rows=\"4\"\n                        v-model=\"detail\"\n                        placeholder=\"メモとしてご利用ください\"\n                      />\n                    </div>\n                  </div>\n                </div>\n                <div\n                  class=\"flex flex-wrap items-center -mx-4 pb-8 mb-8 border-b border-gray-400 border-opacity-20\"\n                  v-if=\"condition_flag.start_time && condition_flag.end_time\"\n                >\n                  <div class=\"w-full sm:w-1/3 px-4 mb-4 sm:mb-0\">\n                    <span class=\"text-sm font-medium text-gray-100\"\n                      >キャンペーン期間<i\n                        class=\"pi pi-question-circle mr-1\"\n                        v-tippy=\"{\n                          content:\n                            '現在時刻の１時間後以降で、１週間以内の期間を指定してください。',\n                        }\"\n                      ></i>\n                      *\n                    </span>\n                  </div>\n                  <div class=\"w-full sm:w-2/3 px-4\">\n                    <div class=\"max-w-xl flex\">\n                      <div class=\"relative block px-3 w-full text-gray-100\">\n                        <Datepicker v-model=\"date\" range :min-date=\"min_date\" />\n                      </div>\n                    </div>\n                  </div>\n                </div>\n                <div\n                  class=\"flex flex-wrap items-center -mx-4 pb-8 mb-8 border-b border-gray-400 border-opacity-20\"\n                  v-if=\"!condition_flag.start_time && condition_flag.end_time\"\n                >\n                  <div class=\"w-full sm:w-1/3 px-4 mb-4 sm:mb-0\">\n                    <span class=\"text-sm font-medium text-gray-100\"\n                      >募集期限 *\n                    </span>\n                  </div>\n                  <div class=\"w-full sm:w-2/3 px-4\">\n                    <div class=\"max-w-xl flex\">\n                      <div class=\"relative block px-3 w-full text-gray-100\">\n                        <Datepicker v-model=\"date[1]\" :min-date=\"min_date\" />\n                      </div>\n                    </div>\n                  </div>\n                </div>\n                <div\n                  class=\"flex flex-wrap items-center -mx-4 pb-8 mb-8 border-b border-gray-400 border-opacity-20\"\n                  v-if=\"condition_flag.amount\"\n                >\n                  <div class=\"w-full sm:w-1/3 px-4 mb-4 sm:mb-0\">\n                    <span class=\"text-sm font-medium text-gray-100\"\n                      >当選人数 *\n                    </span>\n                  </div>\n                  <div class=\"w-1/3 px-4\">\n                    <div class=\"max-w-xl\">\n                      <input\n                        class=\"block py-4 px-3 w-full text-sm text-gray-50 placeholder-gray-300 font-medium outline-none bg-transparent border border-gray-400 hover:border-white focus:border-green-500 rounded-lg\"\n                        id=\"reword_amount\"\n                        type=\"number\"\n                        v-model=\"reword_amount\"\n                        placeholder=\"10\"\n                      />\n                    </div>\n                  </div>\n                  <!-- <div class=\"w-1/4 px-4\">\n                    <div class=\"max-w-xl\">\n                      <div\n                        class=\"relative block px-3 w-full text-sm font-medium border border-gray-400 hover:border-white focus-within:border-green-500 rounded-lg\"\n                      >\n                        <span\n                          class=\"absolute top-1/2 right-0 mr-5 transform -translate-y-1/2\"\n                        >\n                          <svg\n                            width=\"12\"\n                            height=\"8\"\n                            viewbox=\"0 0 12 8\"\n                            fill=\"none\"\n                            xmlns=\"http://www.w3.org/2000/svg\"\n                          >\n                            <path\n                              d=\"M10.9999 1.16994C10.8126 0.983692 10.5591 0.87915 10.2949 0.87915C10.0308 0.87915 9.77731 0.983692 9.58995 1.16994L5.99995 4.70994L2.45995 1.16994C2.27259 0.983692 2.01913 0.87915 1.75495 0.87915C1.49076 0.87915 1.23731 0.983692 1.04995 1.16994C0.95622 1.26291 0.881826 1.37351 0.831057 1.49537C0.780288 1.61723 0.75415 1.74793 0.75415 1.87994C0.75415 2.01195 0.780288 2.14266 0.831057 2.26452C0.881826 2.38638 0.95622 2.49698 1.04995 2.58994L5.28995 6.82994C5.38291 6.92367 5.49351 6.99807 5.61537 7.04883C5.73723 7.0996 5.86794 7.12574 5.99995 7.12574C6.13196 7.12574 6.26267 7.0996 6.38453 7.04883C6.50638 6.99807 6.61699 6.92367 6.70995 6.82994L10.9999 2.58994C11.0937 2.49698 11.1681 2.38638 11.2188 2.26452C11.2696 2.14266 11.2957 2.01195 11.2957 1.87994C11.2957 1.74793 11.2696 1.61723 11.2188 1.49537C11.1681 1.37351 11.0937 1.26291 10.9999 1.16994Z\"\n                              fill=\"#3D485B\"\n                            ></path>\n                          </svg>\n                        </span>\n                        <select\n                          class=\"w-full py-4 text-gray-50 placeholder-gray-300 appearance-none bg-transparent outline-none\"\n                          id=\"formInput1-7\"\n                          name=\"\"\n                          v-model=\"reword_currency\"\n                        >\n                          <option class=\"bg-gray-500\" value=\"1\">BTC</option>\n                        </select>\n                      </div>\n                    </div>\n                  </div> -->\n                </div>\n                <div\n                  class=\"flex flex-wrap items-center -mx-4 pb-8 mb-8 border-b border-gray-400 border-opacity-20\"\n                  v-if=\"condition_flag.estimated_participants_count\"\n                >\n                  <div class=\"w-full sm:w-1/3 px-4 mb-4 sm:mb-0\">\n                    <span class=\"text-sm font-medium text-gray-100\"\n                      >想定参加人数\n                      <i\n                        class=\"pi pi-question-circle mr-1\"\n                        v-tippy=\"{\n                          content: '当選確率を決定するために利用します',\n                        }\"\n                      ></i\n                      >*\n                    </span>\n                  </div>\n                  <div class=\"w-1/3 px-4\">\n                    <div class=\"max-w-xl\">\n                      <input\n                        class=\"block py-4 px-3 w-full text-sm text-gray-50 placeholder-gray-300 font-medium outline-none bg-transparent border border-gray-400 hover:border-white focus:border-green-500 rounded-lg\"\n                        id=\"estimated_participants_count\"\n                        type=\"number\"\n                        v-model=\"estimated_participants_count\"\n                        placeholder=\"10000\"\n                      />\n                    </div>\n                  </div>\n                </div>\n                <div\n                  class=\"flex flex-wrap items-center -mx-4 pb-8 mb-8 border-b border-gray-400 border-opacity-20\"\n                  v-if=\"condition_flag.distribution\"\n                >\n                  <div class=\"w-full sm:w-1/3 px-4 mb-4 sm:mb-0\">\n                    <span class=\"text-sm font-medium text-gray-100\"\n                      >報酬の分配方法</span\n                    >\n                  </div>\n                  <div class=\"w-full sm:w-2/3 px-4\">\n                    <div class=\"max-w-xl\">\n                      <div\n                        class=\"relative block px-3 w-full text-sm font-medium border border-gray-400 hover:border-white focus-within:border-green-500 rounded-lg\"\n                      >\n                        <span\n                          class=\"absolute top-1/2 right-0 mr-5 transform -translate-y-1/2\"\n                        >\n                          <svg\n                            width=\"12\"\n                            height=\"8\"\n                            viewbox=\"0 0 12 8\"\n                            fill=\"none\"\n                            xmlns=\"http://www.w3.org/2000/svg\"\n                          >\n                            <path\n                              d=\"M10.9999 1.16994C10.8126 0.983692 10.5591 0.87915 10.2949 0.87915C10.0308 0.87915 9.77731 0.983692 9.58995 1.16994L5.99995 4.70994L2.45995 1.16994C2.27259 0.983692 2.01913 0.87915 1.75495 0.87915C1.49076 0.87915 1.23731 0.983692 1.04995 1.16994C0.95622 1.26291 0.881826 1.37351 0.831057 1.49537C0.780288 1.61723 0.75415 1.74793 0.75415 1.87994C0.75415 2.01195 0.780288 2.14266 0.831057 2.26452C0.881826 2.38638 0.95622 2.49698 1.04995 2.58994L5.28995 6.82994C5.38291 6.92367 5.49351 6.99807 5.61537 7.04883C5.73723 7.0996 5.86794 7.12574 5.99995 7.12574C6.13196 7.12574 6.26267 7.0996 6.38453 7.04883C6.50638 6.99807 6.61699 6.92367 6.70995 6.82994L10.9999 2.58994C11.0937 2.49698 11.1681 2.38638 11.2188 2.26452C11.2696 2.14266 11.2957 2.01195 11.2957 1.87994C11.2957 1.74793 11.2696 1.61723 11.2188 1.49537C11.1681 1.37351 11.0937 1.26291 10.9999 1.16994Z\"\n                              fill=\"#3D485B\"\n                            ></path>\n                          </svg>\n                        </span>\n                        <select\n                          class=\"w-full py-4 text-gray-50 placeholder-gray-50 appearance-none bg-transparent outline-none\"\n                          id=\"distribution_type\"\n                          v-model=\"distribution_type\"\n                        >\n                          <option class=\"bg-gray-500\" value=\"1\">\n                            獲得ポイントに基づくルールベースの分配\n                          </option>\n                          <option class=\"bg-gray-500\" value=\"2\">\n                            獲得ポイントに基づく抽選\n                          </option>\n                          <option class=\"bg-gray-500\" value=\"3\">\n                            その他（要望に合わせて対応いたします）\n                          </option>\n                        </select>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n                <div\n                  class=\"flex flex-wrap items-center -mx-4 mb-4 border-gray-400 border-opacity-20\"\n                  v-if=\"condition_flag.twitter_account\"\n                >\n                  <div class=\"w-full sm:w-1/3 px-4 mb-4 sm:mb-0\">\n                    <span class=\"text-sm font-medium text-gray-100\"\n                      >Twitterアカウント\n                      <i\n                        class=\"pi pi-question-circle mr-1\"\n                        v-tippy=\"{\n                          content:\n                            'フォローを参加条件とする対象アカウントを入力してください',\n                        }\"\n                      ></i\n                      >*\n                    </span>\n                  </div>\n                  <div class=\"w-full sm:w-1/3 px-4\">\n                    <div class=\"max-w-xl\">\n                      <input\n                        class=\"block py-4 px-3 w-full text-sm text-gray-50 placeholder-gray-300 font-medium outline-none bg-transparent border border-gray-400 hover:border-white focus:border-green-500 rounded-lg\"\n                        id=\"twitter_account\"\n                        type=\"text\"\n                        v-model=\"twitter_account\"\n                        placeholder=\"@username\"\n                      />\n                    </div>\n                  </div>\n                  <div class=\"w-1/4 px-4\">\n                    <div class=\"max-w-xl\">\n                      <button\n                        class=\"inline-block py-4 px-4 text-xs text-center font-semibold leading-normal rounded-lg transition duration-200 w-48\"\n                        :class=\"\n                          twitter_account &&\n                          !twitter_account_check &&\n                          !account_loading\n                            ? 'text-blue-50 bg-blue-500 hover:bg-blue-600'\n                            : 'text-gray-300 bg-gray-700 hover:bg-gray-800'\n                        \"\n                        :disabled=\"\n                          !twitter_account ||\n                          twitter_account_check ||\n                          account_loading\n                        \"\n                        @click=\"checkTwitterAccount\"\n                      >\n                        <i\n                          class=\"pi pi-spin pi-spinner text-xs\"\n                          v-if=\"account_loading\"\n                        ></i>\n                        アカウントチェック\n                      </button>\n                    </div>\n                  </div>\n                </div>\n                <div\n                  class=\"flex flex-wrap items-center -mx-4 pb-8 mb-8 border-b border-gray-400 border-opacity-20\"\n                  v-if=\"condition_flag.twitter_account\"\n                >\n                  <div class=\"w-full sm:w-1/3 px-4 pb-4 sm:mb-0\">\n                    <span class=\"text-sm font-medium text-gray-100\"></span>\n                  </div>\n                  <div class=\"w-full sm:w-2/3 px-4\">\n                    <div\n                      v-if=\"twitter_account_result\"\n                      class=\"max-w-xl text-gray-100 text-left\"\n                    >\n                      {{ twitter_account_result }}\n                    </div>\n                  </div>\n                </div>\n                <div\n                  class=\"flex flex-wrap items-center -mx-4 mb-4 border-gray-400 border-opacity-20\"\n                  v-if=\"condition_flag.twitter_url\"\n                >\n                  <div class=\"w-full sm:w-1/3 px-4 mb-4 sm:mb-0\">\n                    <span class=\"text-sm font-medium text-gray-100\"\n                      >Tweet URL\n                      <i\n                        class=\"pi pi-question-circle mr-1\"\n                        v-tippy=\"{\n                          content:\n                            'リツイートを参加条件とする対象ツイートを入力してください',\n                        }\"\n                      ></i>\n                    </span>\n                  </div>\n                  <div class=\"w-full sm:w-1/3 px-4\">\n                    <div class=\"max-w-xl\">\n                      <input\n                        class=\"block py-4 px-3 w-full text-sm text-gray-50 placeholder-gray-300 font-medium outline-none bg-transparent border border-gray-400 hover:border-white focus:border-green-500 rounded-lg\"\n                        id=\"tweet_url\"\n                        type=\"text\"\n                        v-model=\"tweet_url\"\n                        placeholder=\"https://\"\n                      />\n                    </div>\n                  </div>\n                  <div class=\"w-1/4 px-4\">\n                    <div class=\"max-w-xl\">\n                      <button\n                        class=\"inline-block py-4 px-4 text-xs text-center font-semibold leading-normal rounded-lg transition duration-200 w-48\"\n                        :class=\"\n                          tweet_url && !tweet_url_check && !tweet_loading\n                            ? 'text-blue-50 bg-blue-500 hover:bg-blue-600'\n                            : 'text-gray-300 bg-gray-700 hover:bg-gray-800'\n                        \"\n                        :disabled=\"\n                          !tweet_url || tweet_url_check || tweet_loading\n                        \"\n                        @click=\"checkTweet\"\n                      >\n                        <i\n                          class=\"pi pi-spin pi-spinner text-xs\"\n                          v-if=\"tweet_loading\"\n                        ></i>\n                        ツイートチェック\n                      </button>\n                    </div>\n                  </div>\n                </div>\n                <div\n                  class=\"flex flex-wrap items-center -mx-4 pb-8 mb-8 border-b border-gray-400 border-opacity-20\"\n                  v-if=\"condition_flag.twitter_url\"\n                >\n                  <div class=\"w-full sm:w-1/3 px-4 pb-4 sm:mb-0\">\n                    <span class=\"text-sm font-medium text-gray-100\"></span>\n                  </div>\n                  <div class=\"w-full sm:w-2/3 px-4\">\n                    <div\n                      v-if=\"tweet_url_result\"\n                      class=\"max-w-xl text-gray-100 text-left\"\n                    >\n                      {{ tweet_url_result }}\n                    </div>\n                  </div>\n                </div>\n                <div v-if=\"category == 'HASHTAG'\">\n                  <button\n                    class=\"inline-block py-2 px-4 text-sm text-center font-semibold leading-normal rounded-lg transition duration-200\"\n                    :class=\"\n                      filled && !regist_loading\n                        ? 'text-blue-50 bg-blue-500 hover:bg-blue-600'\n                        : 'text-gray-300 bg-gray-700 hover:bg-gray-800'\n                    \"\n                    :disabled=\"!filled || regist_loading\"\n                    @click=\"createCampaign\"\n                  >\n                    <i\n                      class=\"pi pi-spin pi-spinner text-xs\"\n                      v-if=\"regist_loading\"\n                    ></i>\n                    登録\n                  </button>\n                </div>\n                <div v-if=\"category == 'FOLLOW_AND_RETWEET'\">\n                  <button\n                    class=\"inline-block py-2 px-4 text-sm text-center font-semibold leading-normal rounded-lg transition duration-200\"\n                    :class=\"\n                      follow_and_retweet_filled && !regist_loading\n                        ? 'text-blue-50 bg-blue-500 hover:bg-blue-600'\n                        : 'text-gray-300 bg-gray-700 hover:bg-gray-800'\n                    \"\n                    :disabled=\"!follow_and_retweet_filled || regist_loading\"\n                    @click=\"createCampaign\"\n                  >\n                    <i\n                      class=\"pi pi-spin pi-spinner text-xs\"\n                      v-if=\"regist_loading\"\n                    ></i>\n                    登録\n                  </button>\n                </div>\n                <div v-if=\"category == 'INSTANT_WIN'\">\n                  <button\n                    class=\"inline-block py-2 px-4 text-sm text-center font-semibold leading-normal rounded-lg transition duration-200\"\n                    :class=\"\n                      instant_win_filled && !regist_loading\n                        ? 'text-blue-50 bg-blue-500 hover:bg-blue-600'\n                        : 'text-gray-300 bg-gray-700 hover:bg-gray-800'\n                    \"\n                    :disabled=\"!instant_win_filled || regist_loading\"\n                    @click=\"createCampaign\"\n                  >\n                    <i\n                      class=\"pi pi-spin pi-spinner text-xs\"\n                      v-if=\"regist_loading\"\n                    ></i>\n                    登録\n                  </button>\n                </div>\n              </div>\n            </div>\n          </section>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport SideVar from \"@/components/SideVar.vue\";\nimport Datepicker from \"@vuepic/vue-datepicker\";\nimport \"@vuepic/vue-datepicker/dist/main.css\";\nimport api from \"../api/api.js\";\nimport { ref, onMounted } from \"vue\";\n\nexport default {\n  name: \"Campaign_regist\",\n  components: {\n    SideVar,\n    Datepicker,\n  },\n  setup() {\n    let date = ref();\n    onMounted(() => {\n      const today = new Date();\n      let startDate = new Date(new Date().setDate(today.getDate() + 1));\n      startDate.setHours(21, 0, 0, 0);\n      let endDate = new Date(new Date().setDate(startDate.getDate() + 7));\n      endDate.setHours(21, 0, 0, 0);\n      date.value = [startDate, endDate];\n    });\n    return {\n      date,\n    };\n  },\n  mounted() {\n    this.checkCount();\n  },\n  data() {\n    return {\n      campaign_name: null,\n      category: null,\n      keyword: null,\n      keyword_check: null,\n      keyword_count: null,\n      keyword_check_result: null,\n      abstract: null,\n      detail: null,\n      reword_amount: null,\n      reword_currency: null,\n      distribution_type: null,\n      nouse_in_this_version: false,\n      today: new Date(),\n\n      // For Follow and Retweet, Instant Win\n      twitter_account: null,\n      twitter_account_id: null,\n      twitter_account_response: null,\n      twitter_account_check: null,\n      twitter_account_result: null,\n      tweet_url: null,\n      tweet_id: null,\n      tweet_url_response: null,\n      tweet_url_check: null,\n      tweet_url_result: null,\n\n      // For Instant Win\n      estimated_participants_count: null,\n\n      // loading\n      keyword_loading: false,\n      regist_loading: false,\n      account_loading: false,\n      tweet_loading: false,\n\n      small_campaign_count: false,\n      big_campaign_count: false,\n    };\n  },\n  computed: {\n    min_date() {\n      return new Date(new Date().setHours(this.today.getHours() + 1));\n    },\n    filled() {\n      return (\n        this.campaign_name &&\n        this.keyword_check &&\n        this.category &&\n        this.keyword &&\n        this.small_campaign_count + this.big_campaign_count > 0\n      );\n    },\n    follow_and_retweet_filled() {\n      return (\n        this.campaign_name &&\n        this.category &&\n        this.reword_amount &&\n        this.date[1] &&\n        this.twitter_account_check &&\n        (this.tweet_url_check || (!this.tweet_url && !this.tweet_url_check)) &&\n        this.small_campaign_count + this.big_campaign_count > 0\n      );\n    },\n    instant_win_filled() {\n      return (\n        this.campaign_name &&\n        this.category &&\n        this.reword_amount &&\n        this.date[1] &&\n        this.twitter_account_check &&\n        this.estimated_participants_count &&\n        this.big_campaign_count > 0\n      );\n    },\n    condition_flag: function () {\n      // init\n      let return_dict = {\n        keyword: false,\n        abstruct: false,\n        detail: false,\n        distribution_type: false,\n        amount: false,\n        currency_id: false,\n        start_time: false,\n        end_time: false,\n        twitter_account: false,\n        twitter_url: false,\n        estimated_participants_count: false,\n      };\n      if (this.category == null) {\n        return return_dict;\n      } else if (this.category == \"HASHTAG\") {\n        return_dict = {\n          keyword: true,\n          abstruct: true,\n          detail: true,\n          distribution_type: false,\n          amount: false,\n          currency_id: false,\n          start_time: true,\n          end_time: true,\n          twitter_account: false,\n          twitter_url: false,\n          estimated_participants_count: false,\n        };\n        return return_dict;\n      } else if (this.category == \"FOLLOW_AND_RETWEET\") {\n        return_dict = {\n          keyword: false,\n          abstruct: false,\n          detail: false,\n          distribution_type: false,\n          amount: true,\n          currency_id: false,\n          start_time: false,\n          end_time: true,\n          twitter_account: true,\n          twitter_url: true,\n          estimated_participants_count: false,\n        };\n        return return_dict;\n      } else if (this.category == \"INSTANT_WIN\") {\n        return_dict = {\n          keyword: false,\n          abstruct: false,\n          detail: false,\n          distribution_type: false,\n          amount: true,\n          estimated_participants_count: true,\n          currency_id: false,\n          start_time: true,\n          end_time: true,\n          twitter_account: true,\n          twitter_url: false,\n        };\n        return return_dict;\n      } else {\n        return return_dict;\n      }\n    },\n    plan: function () {\n      return this.$store.getters[\"subscribePlan\"];\n    },\n  },\n  watch: {\n    keyword(value) {\n      this.keyword_check = false;\n      this.keyword_check_result = \"\";\n      if (value.indexOf(\"#\")) {\n        this.keyword = \"#\" + value;\n      }\n    },\n    twitter_account(value) {\n      this.twitter_account_check = false;\n      this.twitter_account_result = \"\";\n      if (value.indexOf(\"@\")) {\n        this.twitter_account = \"@\" + value;\n      }\n    },\n    tweet_url() {\n      this.tweet_url_check = false;\n      this.tweet_url_result = \"\";\n    },\n    date(value) {\n      if (value != null) {\n        var diffTime = value[1].getTime() - value[0].getTime();\n        var diffDay = Math.floor(diffTime / (1000 * 60 * 60 * 24));\n        if (diffDay > 7) {\n          this.date = null;\n          this.$toast.show(\"キャンペーン期間は１週間以内で設定してください\", {\n            type: \"error\",\n            position: \"top-right\",\n            duration: 5000,\n          });\n        }\n      }\n    },\n  },\n  methods: {\n    createCampaign: function () {\n      this.regist_loading = true;\n      let status = 1;\n      let start = this.date[0];\n      let end = this.date[1];\n      if (this.category == \"FOLLOW_AND_RETWEET\") {\n        start = null;\n      }\n      api\n        .createCampaign({\n          status: status,\n          keyword: this.keyword,\n          start_time: start,\n          end_time: end,\n          detail: this.detail,\n          campaign_name: this.campaign_name,\n          distribution_type: this.distribution_type,\n          amount: this.reword_amount,\n          currency_id: this.reword_currency,\n          category: this.category,\n        })\n        .then((response) => {\n          if (this.category == \"FOLLOW_AND_RETWEET\") {\n            if (this.tweet_url_check) {\n              api\n                .createConditions({\n                  campaign_id: response[\"data\"][\"campaign_id\"],\n                  user_id: this.twitter_account_id,\n                  actions: \"FOLLOW\",\n                })\n                .then(() => {\n                  api\n                    .createConditions({\n                      campaign_id: response[\"data\"][\"campaign_id\"],\n                      tweet_id: this.tweet_id,\n                      actions: \"RETWEET\",\n                    })\n                    .then(() => {\n                      this.$toast.show(\"キャンペーンの登録が完了しました\", {\n                        type: \"success\",\n                        position: \"top-right\",\n                        duration: 3000,\n                      });\n                      this.$router.replace(\"/campaigns\");\n                    })\n                    .catch((error) => {\n                      this.$toast.show(\"キャンペーンの登録に失敗しました\", {\n                        type: \"error\",\n                        position: \"top-right\",\n                        duration: 5000,\n                      });\n                      console.log(\"error: \", error);\n                    });\n                });\n            } else {\n              // tweetを登録する場合\n              api\n                .createConditions({\n                  campaign_id: response[\"data\"][\"campaign_id\"],\n                  user_id: this.twitter_account_id,\n                  actions: \"FOLLOW\",\n                })\n                .then(() => {\n                  this.$toast.show(\"キャンペーンの登録が完了しました\", {\n                    type: \"success\",\n                    position: \"top-right\",\n                    duration: 3000,\n                  });\n                  this.$router.replace(\"/campaigns\");\n                })\n                .catch((error) => {\n                  this.$toast.show(\"キャンペーンの登録に失敗しました\", {\n                    type: \"error\",\n                    position: \"top-right\",\n                    duration: 5000,\n                  });\n                  console.log(\"error: \", error);\n                });\n            }\n          }\n          // Instant win\n          if (this.category == \"INSTANT_WIN\") {\n            api\n              .createConditions({\n                campaign_id: response[\"data\"][\"campaign_id\"],\n                user_id: this.twitter_account_id,\n                actions: \"FOLLOW\",\n              })\n              .then(() => {\n                api\n                  .postInstantWin({\n                    campaign_id: response[\"data\"][\"campaign_id\"],\n                    total_win: this.reword_amount,\n                    est_participant: this.estimated_participants_count,\n                    remain_win: this.reword_amount,\n                    prob:\n                      this.reword_amount / this.estimated_participants_count,\n                  })\n                  .then(() => {\n                    this.$toast.show(\"キャンペーンの登録が完了しました\", {\n                      type: \"success\",\n                      position: \"top-right\",\n                      duration: 3000,\n                    });\n                    this.$router.replace(\"/campaigns\");\n                  })\n                  .catch((error) => {\n                    this.$toast.show(\"キャンペーンの登録に失敗しました\", {\n                      type: \"error\",\n                      position: \"top-right\",\n                      duration: 5000,\n                    });\n\n                    console.log(\"error: \", error);\n                  });\n              });\n          }\n          // hashtag\n          if (this.category == \"HASHTAG\") {\n            this.$toast.show(\"キャンペーンの登録が完了しました\", {\n              type: \"success\",\n              position: \"top-right\",\n              duration: 3000,\n            });\n            this.$router.replace(\"/campaigns\");\n          }\n          this.regist_loading = false;\n        })\n        .catch((error) => {\n          this.$toast.show(\"キャンペーンの登録に失敗しました\", {\n            type: \"error\",\n            position: \"top-right\",\n            duration: 5000,\n          });\n          console.log(\"error: \", error);\n          this.regist_loading = false;\n        });\n    },\n    checkKeyword: function () {\n      this.keyword_loading = true;\n      api\n        .checkKeyword({\n          keyword: this.keyword,\n        })\n        .then((response) => {\n          this.keyword_count = response[\"data\"];\n          if (this.keyword_count < 5000) {\n            this.keyword_check = true;\n            this.keyword_check_result =\n              \"指定されたキーワードの直近７日間の利用数は\" +\n              String(this.keyword_count) +\n              \"回であり、利用可能です。\";\n          } else {\n            this.keyword_check = false;\n            this.keyword_check_result =\n              \"指定されたキーワードの直近７日間の利用数は\" +\n              String(this.keyword_count) +\n              \"回であり、利用数が多すぎます。別のキーワードをご利用ください\";\n          }\n          this.keyword_loading = false;\n        })\n        .catch((error) => {\n          this.keyword_loading = false;\n          this.$toast.show(\"キーワードのチェックに失敗しました\", {\n            type: \"error\",\n            position: \"top-right\",\n            duration: 5000,\n          });\n\n          console.log(\"error: \", error);\n        });\n    },\n    checkTwitterAccount: function () {\n      this.account_loading = true;\n      api\n        .checkTwitterAccount({\n          username: this.twitter_account,\n        })\n        .then((response) => {\n          this.twitter_account_response = response[\"data\"];\n          if (this.twitter_account_response != \"NotFound\") {\n            this.twitter_account_check = true;\n            this.twitter_account_id = this.twitter_account_response[\"id\"];\n            this.twitter_account_result =\n              String(this.twitter_account_response[\"username\"]) +\n              \" : \" +\n              String(this.twitter_account_response[\"description\"]);\n          } else {\n            this.twitter_account_check = false;\n            this.twitter_account_result =\n              \"入力いただいたusernameのアカウントは見つかりませんでした。\";\n          }\n          this.account_loading = false;\n        })\n        .catch((error) => {\n          this.$toast.show(\"アカウントチェックに失敗しました\", {\n            type: \"error\",\n            position: \"top-right\",\n            duration: 5000,\n          });\n          console.log(\"error: \", error);\n          this.account_loading = false;\n        });\n    },\n    checkTweet: function () {\n      this.tweet_loading = true;\n      api\n        .checkTweet({\n          tweet_url: this.tweet_url,\n        })\n        .then((response) => {\n          this.tweet_url_response = response[\"data\"];\n          if (this.tweet_url_response != \"NotFound\") {\n            this.tweet_url_check = true;\n            this.tweet_id = this.tweet_url_response[\"data\"][\"id\"];\n            this.tweet_url_result =\n              String(\n                this.tweet_url_response[\"includes\"][\"users\"][0][\"username\"]\n              ) +\n              \" : \" +\n              String(this.tweet_url_response[\"data\"][\"text\"]);\n          } else {\n            this.tweet_url_check = false;\n            this.tweet_url_result =\n              \"入力いただいたtweetは見つかりませんでした。\";\n          }\n          this.tweet_loading = false;\n        })\n        .catch((error) => {\n          this.$toast.show(\"ツイートチェックに失敗しました\", {\n            type: \"error\",\n            position: \"top-right\",\n            duration: 5000,\n          });\n          console.log(\"error: \", error);\n          this.tweet_loading = false;\n        });\n    },\n    checkCount: function () {\n      api\n        .getMyOrganizer()\n        .then((response) => {\n          this.small_campaign_count = response.data.small_campaign_count;\n          this.big_campaign_count = response.data.big_campaign_count;\n          if (this.small_campaign_count == 0 && this.big_campaign_count == 0) {\n            // 何もできることがない\n            this.$toast.show(\n              \"キャンペーン開催可能数が０です。利用回数が不足している場合はプランのアップグレードをご検討ください\",\n              {\n                type: \"error\",\n                position: \"top-right\",\n                duration: 5000,\n              }\n            );\n          }\n        })\n        .catch((error) => {\n          this.$toast.show(\"キャンペーン利用可能数の取得に失敗しました\", {\n            type: \"error\",\n            position: \"top-right\",\n            duration: 5000,\n          });\n          console.log(\"error: \", error);\n        });\n    },\n  },\n};\n</script>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}