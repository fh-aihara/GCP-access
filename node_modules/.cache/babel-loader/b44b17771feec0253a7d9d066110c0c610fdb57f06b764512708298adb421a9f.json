{"ast":null,"code":"import _regeneratorRuntime from \"/Users/kazuaki.aihara/Documents/hanabi-admin/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/kazuaki.aihara/Documents/hanabi-admin/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport api from \"@/api/api.js\";\nimport store from \"@/store\";\nexport default {\n  data: function data() {\n    return {\n      username: \"\",\n      password: \"\",\n      loading: false\n    };\n  },\n  computed: {\n    user: function user() {\n      return this.$store.getters[\"user\"];\n    },\n    idToken: function idToken() {\n      return this.$store.getters[\"idToken\"];\n    }\n  },\n  methods: {\n    signIn: function () {\n      var _signIn = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee);\n      }));\n      function signIn() {\n        return _signIn.apply(this, arguments);\n      }\n      return signIn;\n    }(),\n    refresh_error: function refresh_error() {\n      this.error_message = \"\";\n    }\n  }\n};","map":{"version":3,"mappings":";;AAoEA,OAAOA,GAAE,MAAO,cAAc;AAC9B,OAAOC,KAAI,MAAO,SAAS;AAE3B,eAAe;EACbC,IAAI,kBAAG;IACL,OAAO;MACLC,QAAQ,EAAE,EAAE;MACZC,QAAQ,EAAE,EAAE;MACZC,OAAO,EAAE;IACX,CAAC;EACH,CAAC;EACDC,QAAQ,EAAE;IACRC,IAAI,kBAAG;MACL,OAAO,IAAI,CAACC,MAAM,CAACC,OAAO,CAAC,MAAM,CAAC;IACpC,CAAC;IACDC,OAAO,qBAAG;MACR,OAAO,IAAI,CAACF,MAAM,CAACC,OAAO,CAAC,SAAS,CAAC;IACvC;EACF,CAAC;EACDE,OAAO,EAAE;IACPC,MAAM;MAAA,yEAAE;QAAA;UAAA;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA,CAmEP;MAAA;QAAA;MAAA;MAAA;IAAA;IACDC,aAAa,EAAE,yBAAY;MACzB,IAAI,CAACC,aAAY,GAAI,EAAE;IACzB;EACF;AACF,CAAC","names":["api","store","data","username","password","loading","computed","user","$store","getters","idToken","methods","signIn","refresh_error","error_message"],"sourceRoot":"","sources":["/Users/kazuaki.aihara/Documents/hanabi-admin/src/views/LoginPage.vue"],"sourcesContent":["<template>\n  <div class=\"login_page\">\n    <section class=\"relative pt-24\">\n      <div class=\"container px-4 mx-auto\">\n        <div class=\"h-full\">\n          <div class=\"relative max-w-xs mx-auto text-center\">\n            <a\n              class=\"w-24 inline-block mx-auto mb-10\"\n              href=\"https://social-marketing.io\"\n            >\n              <img class=\"block\" src=\"../assets/icon.jpg\" />\n            </a>\n            <h2 class=\"text-2xl text-gray-500 font-semibold mb-2\"></h2>\n            <p class=\"text-gray-400 font-medium mb-10\">\n              Welcome back! Please enter your account.\n            </p>\n            <form action=\"\">\n              <div\n                class=\"relative w-full h-14 py-4 px-3 mb-8 border border-gray-400 hover:border-blue focus-within:border-green-500 rounded-lg\"\n              >\n                <span\n                  class=\"absolute bottom-full left-0 ml-3 -mb-1 transform translate-y-0.5 text-xs font-semibold text-gray-600 px-1 bg-gray-200\"\n                  >username</span\n                >\n                <input\n                  class=\"block w-full outline-none text-sm text-gray-600 font-medium\"\n                  type=\"text\"\n                  placeholder=\"hanabi\"\n                  v-model=\"username\"\n                />\n              </div>\n              <div\n                class=\"relative w-full h-14 py-4 px-3 mb-3 border border-gray-400 hover:border-blue focus-within:border-green-500 rounded-lg\"\n              >\n                <span\n                  class=\"absolute bottom-full left-0 ml-3 -mb-1 transform translate-y-0.5 text-xs font-semibold text-gray-600 px-1 bg-gray-200\"\n                  >Password</span\n                >\n                <input\n                  class=\"block w-full outline-none bg-transparent text-sm text-gray-600 font-medium\"\n                  id=\"password\"\n                  type=\"password\"\n                  placeholder=\"password\"\n                  v-model=\"password\"\n                />\n              </div>\n            </form>\n            <button\n              class=\"mt-6 block w-full py-4 mb-4 leading-6 text-white font-semibold rounded-lg transition duration-200\"\n              :class=\"\n                username != '' && this.password != '' && !loading\n                  ? 'bg-blue-500 hover:bg-blue-600'\n                  : 'bg-gray-500 hover:bg-gray-600'\n              \"\n              :disabled=\"!username || !password || loading\"\n              @click=\"signIn\"\n            >\n              <i class=\"pi pi-spin pi-spinner text-sm\" v-if=\"loading\"></i>\n              Sign In\n            </button>\n          </div>\n        </div>\n      </div>\n    </section>\n  </div>\n</template>\n\n<script>\nimport api from \"@/api/api.js\";\nimport store from \"@/store\";\n\nexport default {\n  data() {\n    return {\n      username: \"\",\n      password: \"\",\n      loading: false,\n    };\n  },\n  computed: {\n    user() {\n      return this.$store.getters[\"user\"];\n    },\n    idToken() {\n      return this.$store.getters[\"idToken\"];\n    },\n  },\n  methods: {\n    signIn: async function () {\n      // let user = null;\n      // this.loading = true;\n      // await signInWithEmailAndPassword(auth, this.email, this.password)\n      //   .then((userCredential) => {\n      //     user = userCredential.user;\n      //     if (user.emailVerified == false) {\n      //       this.$toast.show(\n      //         \"メール認証が未済です。送付したメールから認証を完了してください\",\n      //         {\n      //           type: \"warning\",\n      //           position: \"top-right\",\n      //           duration: 5000,\n      //         }\n      //       );\n      //       sendEmailVerification(user, {\n      //         url: \"https://social-marketing.io/login\",\n      //       });\n      //       this.loading = false;\n      //     } else {\n      //       store.commit(\"updateUser\", user);\n      //       this.$toast.show(\"ログインしました\", {\n      //         type: \"success\",\n      //         position: \"top-right\",\n      //         duration: 3000,\n      //       });\n      //       api\n      //         .getAccounts()\n      //         .then(() => {\n      //           api\n      //             .checkSubscribe()\n      //             .then((response) => {\n      //               store.commit(\"updateSubscribePlan\", response[\"data\"]);\n      //               this.$router.replace(\"/campaigns\");\n      //             })\n      //             .catch((error) => {\n      //               this.$toast.show(\"プラン取得に失敗しました\", {\n      //                 type: \"error\",\n      //                 position: \"top-right\",\n      //                 duration: 5000,\n      //               });\n      //               console.log(\"subscribe error:\", error);\n      //               this.$router.replace(\"/campaigns\");\n      //             });\n      //           this.loading = false;\n      //           this.$router.replace(\"/campaigns\");\n      //         })\n      //         .catch((error) => {\n      //           this.$toast.show(\"アカウントの取得に失敗しました\", {\n      //             type: \"error\",\n      //             position: \"top-right\",\n      //             duration: 5000,\n      //           });\n      //           console.log(\"login getAccounts error:\", error);\n      //           this.loading = false;\n      //         });\n      //     }\n      //   })\n      //   .catch((error) => {\n      //     this.$toast.show(\"EmailかPasswordが間違っています\", {\n      //       type: \"error\",\n      //       position: \"top-right\",\n      //       duration: 5000,\n      //     });\n      //     this.loading = false;\n      //     console.log(error.code + \" \" + error.message);\n      //   });\n    },\n    refresh_error: function () {\n      this.error_message = \"\";\n    },\n  },\n};\n</script>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}