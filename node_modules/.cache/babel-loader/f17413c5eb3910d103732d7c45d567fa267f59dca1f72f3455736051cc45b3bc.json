{"ast":null,"code":"import \"core-js/modules/es.function.name.js\";\nimport { createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, Fragment as _Fragment } from \"vue\";\nvar _hoisted_1 = {\n  \"class\": \"KyCheck\"\n};\nvar _hoisted_2 = {\n  \"class\": \"flex justify-left items-center\"\n};\nvar _hoisted_3 = /*#__PURE__*/_createElementVNode(\"div\", {\n  \"class\": \"text-white text-left ml-4 text-lg\"\n}, \"ユーザーID：\", -1 /* HOISTED */);\nvar _hoisted_4 = {\n  \"class\": \"text-white text-left ml-4 text-lg\"\n};\nvar _hoisted_5 = {\n  \"class\": \"flex justify-left items-center mt-4\"\n};\nvar _hoisted_6 = /*#__PURE__*/_createElementVNode(\"div\", {\n  \"class\": \"text-white text-left ml-4 text-lg\"\n}, \"性別：\", -1 /* HOISTED */);\nvar _hoisted_7 = {\n  \"class\": \"text-white text-left ml-4 text-lg\"\n};\nvar _hoisted_8 = {\n  \"class\": \"flex justify-left items-center mt-4\"\n};\nvar _hoisted_9 = /*#__PURE__*/_createElementVNode(\"div\", {\n  \"class\": \"text-white text-left ml-4 text-lg\"\n}, \"ユーザー名：\", -1 /* HOISTED */);\nvar _hoisted_10 = {\n  \"class\": \"text-white text-left ml-4 text-lg\"\n};\nvar _hoisted_11 = {\n  \"class\": \"flex justify-left items-center mt-4\"\n};\nvar _hoisted_12 = /*#__PURE__*/_createElementVNode(\"div\", {\n  \"class\": \"text-white text-left ml-4 text-lg\"\n}, \"生年月日：\", -1 /* HOISTED */);\nvar _hoisted_13 = {\n  \"class\": \"text-white text-left ml-4 text-lg\"\n};\nvar _hoisted_14 = /*#__PURE__*/_createElementVNode(\"div\", {\n  \"class\": \"mt-4 text-lg text-white text-left ml-4 mx-auto\"\n}, \" 年齢証明画像： \", -1 /* HOISTED */);\nvar _hoisted_15 = [\"src\"];\nvar _hoisted_16 = /*#__PURE__*/_createElementVNode(\"div\", {\n  \"class\": \"flex justify-around items-center\"\n}, [/*#__PURE__*/_createElementVNode(\"div\", {\n  \"class\": \"flex items-center pl-4 text-white\"\n}, [/*#__PURE__*/_createElementVNode(\"input\", {\n  id: \"bordered-radio-1\",\n  type: \"radio\",\n  value: \"\",\n  name: \"bordered-radio\",\n  \"class\": \"w-4 h-4\"\n}), /*#__PURE__*/_createElementVNode(\"label\", {\n  \"for\": \"bordered-radio-1\",\n  \"class\": \"w-1/5 py-4 ml-2 text-sm font-medium\"\n}, \"承認\")]), /*#__PURE__*/_createElementVNode(\"div\", {\n  \"class\": \"flex items-center pl-4 text-red\"\n}, [/*#__PURE__*/_createElementVNode(\"input\", {\n  checked: \"\",\n  id: \"bordered-radio-2\",\n  type: \"radio\",\n  value: \"\",\n  name: \"bordered-radio\",\n  \"class\": \"w-4 h-4\"\n}), /*#__PURE__*/_createElementVNode(\"label\", {\n  \"for\": \"bordered-radio-2\",\n  \"class\": \"w-1/5 py-4 ml-2 text-sm font-medium\"\n}, \"非承認\")]), /*#__PURE__*/_createElementVNode(\"div\", {\n  \"class\": \"flex items-center pl-4 text-white\"\n}, [/*#__PURE__*/_createElementVNode(\"input\", {\n  checked: \"\",\n  id: \"bordered-radio-2\",\n  type: \"radio\",\n  value: \"\",\n  name: \"bordered-radio\",\n  \"class\": \"w-4 h-4\"\n}), /*#__PURE__*/_createElementVNode(\"label\", {\n  \"for\": \"bordered-radio-2\",\n  \"class\": \"w-1/5 py-4 ml-2 text-sm font-medium\"\n}, \"ペンディング\")])], -1 /* HOISTED */);\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_SideVar = _resolveComponent(\"SideVar\");\n  var _component_PageTitle = _resolveComponent(\"PageTitle\");\n  var _component_RightColumnOutline = _resolveComponent(\"RightColumnOutline\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createCommentVNode(\" <input @change=\\\"selectedFile\\\" type=\\\"file\\\" name=\\\"file\\\" />\\n  <button @click=\\\"upload\\\" type=\\\"submit\\\">アップロード</button> \"), _createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", null, [_createCommentVNode(\" side var  \"), _createVNode(_component_SideVar), _createCommentVNode(\" input panel \"), _createVNode(_component_RightColumnOutline, null, {\n    \"default\": _withCtx(function () {\n      return [_createVNode(_component_PageTitle, null, {\n        \"default\": _withCtx(function () {\n          return [_createTextVNode(\"KYC審査\")];\n        }),\n        _: 1 /* STABLE */\n      }), _createElementVNode(\"div\", _hoisted_2, [_hoisted_3, _createElementVNode(\"div\", _hoisted_4, _toDisplayString(_ctx.user_id), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_5, [_hoisted_6, _createElementVNode(\"div\", _hoisted_7, _toDisplayString(_ctx.gender), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_8, [_hoisted_9, _createElementVNode(\"div\", _hoisted_10, _toDisplayString(_ctx.name), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_11, [_hoisted_12, _createElementVNode(\"div\", _hoisted_13, _toDisplayString(_ctx.birthday), 1 /* TEXT */)]), _hoisted_14, _ctx.personalPic ? (_openBlock(), _createElementBlock(\"img\", {\n        key: 0,\n        src: _ctx.personalPic,\n        \"class\": \"mt-2 ml-4 w-2/3\"\n      }, null, 8 /* PROPS */, _hoisted_15)) : _createCommentVNode(\"v-if\", true), _hoisted_16];\n    }),\n    _: 1 /* STABLE */\n  })])])], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */);\n}","map":{"version":3,"mappings":";;;EAGO,SAAM;AAAS;;EAOT,SAAM;AAAgC;8BACzCA,oBAA4D;EAAvD,SAAM;AAAmC,GAAC,SAAO;;EACjD,SAAM;AAAmC;;EAE3C,SAAM;AAAqC;8BAC9CA,oBAAwD;EAAnD,SAAM;AAAmC,GAAC,KAAG;;EAC7C,SAAM;AAAmC;;EAE3C,SAAM;AAAqC;8BAC9CA,oBAA2D;EAAtD,SAAM;AAAmC,GAAC,QAAM;;EAChD,SAAM;AAAmC;;EAE3C,SAAM;AAAqC;+BAC9CA,oBAA0D;EAArD,SAAM;AAAmC,GAAC,OAAK;;EAC/C,SAAM;AAAmC;+BAEhDA,oBAEM;EAFD,SAAM;AAAgD,GAAC,WAE5D;;+BAEAA,oBA6CM;EA7CD,SAAM;AAAkC,iBAC3CA,oBAaM;EAbD,SAAM;AAAmC,iBAC5CA,oBAME;EALAC,EAAE,EAAC,kBAAkB;EACrBC,IAAI,EAAC,OAAO;EACZC,KAAK,EAAC,EAAE;EACRC,IAAI,EAAC,gBAAgB;EACrB,SAAM;iBAERJ,oBAIC;EAHC,OAAI,kBAAkB;EACtB,SAAM;GACL,IAAE,kBAGPA,oBAcM;EAdD,SAAM;AAAiC,iBAC1CA,oBAOE;EANAK,OAAO,EAAP,EAAO;EACPJ,EAAE,EAAC,kBAAkB;EACrBC,IAAI,EAAC,OAAO;EACZC,KAAK,EAAC,EAAE;EACRC,IAAI,EAAC,gBAAgB;EACrB,SAAM;iBAERJ,oBAIC;EAHC,OAAI,kBAAkB;EACtB,SAAM;GACL,KAAG,kBAGRA,oBAcM;EAdD,SAAM;AAAmC,iBAC5CA,oBAOE;EANAK,OAAO,EAAP,EAAO;EACPJ,EAAE,EAAC,kBAAkB;EACrBC,IAAI,EAAC,OAAO;EACZC,KAAK,EAAC,EAAE;EACRC,IAAI,EAAC,gBAAgB;EACrB,SAAM;iBAERJ,oBAIC;EAHC,OAAI,kBAAkB;EACtB,SAAM;GACL,QAAM;;;;;;6DAvEnBM,oJACyD,EACzDN,oBA2EM,OA3ENO,UA2EM,GA1EJP,oBAyEM,cAxEJM,kCAAkB,EAClBE,aAAWC,qBACXH,oCAAoB,EACpBE,aAoEqBE;wBAnEnB;MAAA,OAA4B,CAA5BF,aAA4BG;4BAAjB;UAAA,OAAK,kBAAL,OAAK;;;UAChBX,oBAGM,OAHNY,UAGM,GAFJC,UAA4D,EAC5Db,oBAAkE,OAAlEc,UAAkE,mBAAhBC,YAAO,oBAE3Df,oBAGM,OAHNgB,UAGM,GAFJC,UAAwD,EACxDjB,oBAAiE,OAAjEkB,UAAiE,mBAAfH,WAAM,oBAE1Df,oBAGM,OAHNmB,UAGM,GAFJC,UAA2D,EAC3DpB,oBAA+D,OAA/DqB,WAA+D,mBAAbN,SAAI,oBAExDf,oBAGM,OAHNsB,WAGM,GAFJC,WAA0D,EAC1DvB,oBAAmE,OAAnEwB,WAAmE,mBAAjBT,aAAQ,oBAE5DU,WAEM,EACwBV,gBAAW,kBAAzCW,oBAAqE;;QAA/DC,GAAG,EAAEZ,gBAAW;QAAqB,SAAM;iFACjDa,WA6CM","names":["_createElementVNode","id","type","value","name","checked","_createCommentVNode","_hoisted_1","_createVNode","_component_SideVar","_component_RightColumnOutline","_component_PageTitle","_hoisted_2","_hoisted_3","_hoisted_4","_ctx","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_createElementBlock","src","_hoisted_16"],"sourceRoot":"","sources":["/Users/kazuaki.aihara/Documents/hanabi-admin/src/views/KycCheck.vue"],"sourcesContent":["<template>\n  <!-- <input @change=\"selectedFile\" type=\"file\" name=\"file\" />\n  <button @click=\"upload\" type=\"submit\">アップロード</button> -->\n  <div class=\"KyCheck\">\n    <div>\n      <!-- side var  -->\n      <SideVar />\n      <!-- input panel -->\n      <RightColumnOutline>\n        <PageTitle>KYC審査</PageTitle>\n        <div class=\"flex justify-left items-center\">\n          <div class=\"text-white text-left ml-4 text-lg\">ユーザーID：</div>\n          <div class=\"text-white text-left ml-4 text-lg\">{{ user_id }}</div>\n        </div>\n        <div class=\"flex justify-left items-center mt-4\">\n          <div class=\"text-white text-left ml-4 text-lg\">性別：</div>\n          <div class=\"text-white text-left ml-4 text-lg\">{{ gender }}</div>\n        </div>\n        <div class=\"flex justify-left items-center mt-4\">\n          <div class=\"text-white text-left ml-4 text-lg\">ユーザー名：</div>\n          <div class=\"text-white text-left ml-4 text-lg\">{{ name }}</div>\n        </div>\n        <div class=\"flex justify-left items-center mt-4\">\n          <div class=\"text-white text-left ml-4 text-lg\">生年月日：</div>\n          <div class=\"text-white text-left ml-4 text-lg\">{{ birthday }}</div>\n        </div>\n        <div class=\"mt-4 text-lg text-white text-left ml-4 mx-auto\">\n          年齢証明画像：\n        </div>\n        <img :src=\"personalPic\" v-if=\"personalPic\" class=\"mt-2 ml-4 w-2/3\" />\n        <div class=\"flex justify-around items-center\">\n          <div class=\"flex items-center pl-4 text-white\">\n            <input\n              id=\"bordered-radio-1\"\n              type=\"radio\"\n              value=\"\"\n              name=\"bordered-radio\"\n              class=\"w-4 h-4\"\n            />\n            <label\n              for=\"bordered-radio-1\"\n              class=\"w-1/5 py-4 ml-2 text-sm font-medium\"\n              >承認</label\n            >\n          </div>\n          <div class=\"flex items-center pl-4 text-red\">\n            <input\n              checked\n              id=\"bordered-radio-2\"\n              type=\"radio\"\n              value=\"\"\n              name=\"bordered-radio\"\n              class=\"w-4 h-4\"\n            />\n            <label\n              for=\"bordered-radio-2\"\n              class=\"w-1/5 py-4 ml-2 text-sm font-medium\"\n              >非承認</label\n            >\n          </div>\n          <div class=\"flex items-center pl-4 text-white\">\n            <input\n              checked\n              id=\"bordered-radio-2\"\n              type=\"radio\"\n              value=\"\"\n              name=\"bordered-radio\"\n              class=\"w-4 h-4\"\n            />\n            <label\n              for=\"bordered-radio-2\"\n              class=\"w-1/5 py-4 ml-2 text-sm font-medium\"\n              >ペンディング</label\n            >\n          </div>\n        </div>\n      </RightColumnOutline>\n    </div>\n  </div>\n</template>\n\n<script>\nimport SideVar from \"@/components/SideVar.vue\";\nimport api from \"../api/api\";\nexport default {\n  data: function () {\n    return {\n      birthday: null,\n      gender: null,\n      name: \"\",\n      user_id: null,\n      personalPic: null,\n      picShow: null,\n    };\n  },\n  components: {\n    SideVar,\n  },\n  mounted() {\n    this.getage_verification();\n    this.getage_verification_image();\n  },\n  computed: {},\n  methods: {\n    getage_verification: function () {\n      api\n        .getage_verification({ id: this.$route.params.id })\n        .then((response) => {\n          console.log(response);\n          this.birthday = response.data.birthday;\n          this.name = response.data.name;\n          this.gender = response.data.gender;\n          this.user_id = response.data.user_id;\n        })\n        .catch(function (error) {\n          this.$toast.show(\n            \"データの取得に失敗しました。システム管理者にお問合せください。\",\n            {\n              type: \"error\",\n              position: \"top-right\",\n              duration: 5000,\n            }\n          );\n          console.log(error);\n        });\n    },\n    getage_verification_image: function () {\n      api\n        .getage_verification_image({ id: this.$route.params.id })\n        .then((response) => {\n          console.log(response);\n          this.personalPic = \"data:image/png;base64,\" + response.data;\n        })\n        .catch(function (error) {\n          this.$toast.show(\n            \"データの取得に失敗しました。システム管理者にお問合せください。\",\n            { type: \"error\", position: \"top-right\", duration: 5000 }\n          );\n          console.log(error);\n        });\n    },\n    selectedHeader: function (e) {\n      e.preventDefault();\n      let files = e.target.files;\n      this.headerPic = files[0];\n      this.createHeader(files[0]);\n    },\n    selectedWin: function (e) {\n      e.preventDefault();\n      let files = e.target.files;\n      this.winPic = files[0];\n      this.createWin(files[0]);\n    },\n    selectedLose: function (e) {\n      e.preventDefault();\n      let files = e.target.files;\n      this.losePic = files[0];\n      this.createLose(files[0]);\n    },\n    createHeader(file) {\n      const reader = new FileReader();\n      reader.onload = (e) => {\n        this.headerPreview = e.target.result;\n      };\n      reader.readAsDataURL(file);\n    },\n    removeHeader() {\n      this.headerPreview = false;\n    },\n    createWin(file) {\n      const reader = new FileReader();\n      reader.onload = (e) => {\n        this.winPreview = e.target.result;\n      };\n      reader.readAsDataURL(file);\n    },\n    removeWin() {\n      this.winPreview = false;\n    },\n    createLose(file) {\n      const reader = new FileReader();\n      reader.onload = (e) => {\n        this.losePreview = e.target.result;\n      };\n      reader.readAsDataURL(file);\n    },\n    removeLose() {\n      this.losePreview = false;\n    },\n    postPics: async function () {\n      this.regist_loading = true;\n      let config = {\n        headers: {\n          \"content-type\": \"multipart/form-data\",\n        },\n      };\n      let header = new FormData();\n      header.append(\"file\", this.headerPic);\n      let win = new FormData();\n      win.append(\"file\", this.winPic);\n      let lose = new FormData();\n      lose.append(\"file\", this.losePic);\n      // 順次アップロード判断＋アップロード\n      if (this.serviceSiteURL) {\n        await api\n          .updateInstantWin({\n            campaign_id: this.$route.params.id,\n            landing_page_url: this.serviceSiteURL,\n          })\n          .then(function (response) {\n            console.log(response);\n          })\n          .catch(function (error) {\n            this.$toast.show(\"サービスサイトURLの登録に失敗しました\", {\n              type: \"error\",\n              position: \"top-right\",\n              duration: 5000,\n            });\n            console.log(error);\n            this.regist_loading = false;\n          });\n      }\n      if (this.headerPic) {\n        await api\n          .uploadHeader(\n            { campaign_id: this.$route.params.id, form: header },\n            config\n          )\n          .then(function (response) {\n            console.log(response);\n          })\n          .catch(function (error) {\n            this.$toast.show(\"ヘッダー画像の登録に失敗しました\", {\n              type: \"error\",\n              position: \"top-right\",\n              duration: 5000,\n            });\n            console.log(error);\n            this.regist_loading = false;\n          });\n      }\n      if (this.winPic) {\n        await api\n          .uploadWin({ campaign_id: this.$route.params.id, form: win }, config)\n          .then(function (response) {\n            console.log(response);\n          })\n          .catch(function (error) {\n            this.$toast.show(\"当選画像の登録に失敗しました\", {\n              type: \"error\",\n              position: \"top-right\",\n              duration: 5000,\n            });\n            console.log(error);\n            this.regist_loading = false;\n          });\n      }\n      if (this.losePic) {\n        await api\n          .uploadLose(\n            { campaign_id: this.$route.params.id, form: lose },\n            config\n          )\n          .then(function (response) {\n            console.log(response);\n          })\n          .catch(function (error) {\n            this.$toast.show(\"落選画像の登録に失敗しました\", {\n              type: \"error\",\n              position: \"top-right\",\n              duration: 5000,\n            });\n            console.log(error);\n            this.regist_loading = false;\n          });\n      }\n      await api\n        .updateInstantWin(\n          {\n            campaign_id: this.$route.params.id,\n            win_text: this.winText,\n            lose_text: this.loseText,\n          },\n          config\n        )\n        .then(function (response) {\n          console.log(response);\n        })\n        .catch(function (error) {\n          this.$toast.show(\"テキストの登録に失敗しました\", {\n            type: \"error\",\n            position: \"top-right\",\n            duration: 5000,\n          });\n          console.log(error);\n          this.regist_loading = true;\n        });\n      this.regist_loading = false;\n      this.$toast.show(\"画像・テキストの登録が完了しました\", {\n        type: \"success\",\n        position: \"top-right\",\n        duration: 3000,\n      });\n      this.$router.replace(\"/campaigns\");\n    },\n  },\n};\n</script>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}