{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport SideVar from \"@/components/SideVar.vue\";\nimport api from \"../api/api.js\";\n// import { useRoute } from \"vue-router\";\nimport VueApexCharts from \"vue3-apexcharts\";\nexport default {\n  name: \"Campaign_regit\",\n  components: {\n    SideVar: SideVar,\n    apexchart: VueApexCharts\n  },\n  mounted: function mounted() {\n    // const route = useRoute();\n    this.getCampaign();\n  },\n  data: function data() {\n    return {\n      campaign_status: null,\n      participants: [],\n      winners: [],\n      before_winner: \"\",\n      after_winner: \"\",\n      gift_unconfirmed: false,\n      winner_page: 0,\n      participants_page: 0,\n      winner_display_count: 10,\n      particiapnts_display_count: 10,\n      winner_display_count_max: 1,\n      participants_display_count_max: 1,\n      campaign_name: null,\n      keyword: null,\n      campaign: null,\n      date: [],\n      tweetCount: \"-\",\n      engagementCount: \"-\",\n      paricipantsCount: \"-\",\n      scoreCount: \"-\",\n      tweetCount_yesterday: 1,\n      engagementCount_yesterday: 1,\n      paricipantsCount_yesterday: 1,\n      scoreCount_yesterday: 1,\n      chart_height: window.innerHeight / 3,\n      chart_width: window.innerWidth / 3,\n      dailycountOptions: {\n        chart: {\n          id: \"Daily_Counts\",\n          type: \"area\"\n        },\n        title: {\n          text: \"\",\n          align: \"left\"\n        },\n        dataLabels: {\n          enabled: false\n        },\n        xaxis: {\n          type: \"datetime\",\n          categories: [],\n          labels: {\n            style: {\n              colors: \"#C4BBAF\"\n            }\n          }\n        },\n        yaxis: {\n          // type: \"datetime\",\n          labels: {\n            style: {\n              colors: \"#C4BBAF\"\n            }\n          }\n        },\n        legend: {\n          show: true,\n          labels: {\n            colors: \"#C4BBAF\"\n          }\n        },\n        grid: {\n          xaxis: {\n            lines: {\n              show: false\n            }\n          },\n          yaxis: {\n            lines: {\n              show: false\n            }\n          }\n        }\n      },\n      dailycountSeries: [],\n      scoreOptions: {\n        labels: [],\n        legend: {\n          show: true,\n          labels: {\n            colors: \"#C4BBAF\"\n          }\n        },\n        title: {\n          text: \"testtest\"\n        }\n      },\n      scoreSeries: []\n    };\n  },\n  //   computed: {\n  //     giftuncomfirmation() {\n  //       let status = \"done\";\n  //       for (let i = 0; this.winners.lengh; i++) {\n  //         console.log(this.winners[i].status);\n  //         if (this.winners[i].status == 0) {\n  //           console.log(\"aaaaaa\");\n  //           status = \"yet\";\n  //         }\n  //       }\n  //       return status;\n  //     },\n  //   },\n  watch: {\n    winners: {\n      handler: function handler() {\n        for (var i = 0; i < this.winners.length; i++) {\n          if (this.winners[i].status == 0) {\n            this.gift_unconfirmed = true;\n            break;\n          }\n        }\n      },\n      deep: true\n    }\n  },\n  methods: {\n    getCampaign: function getCampaign() {\n      var _this = this;\n      api.getCampaign({\n        id: this.$route.params.id\n      }).then(function (response) {\n        _this.campaign_status = response[\"data\"][0][\"status\"];\n        if (_this.campaign_status == 3) {\n          // 終了済なら\n          api.getParticipants({\n            campaign_id: _this.$route.params.id\n          }).then(function (response) {\n            console.log(response);\n            if (response[\"data\"].length != 0) {\n              for (var i = 0; i < response[\"data\"].length; i++) {\n                _this.participants.push(response[\"data\"][i]);\n                if (response[\"data\"][i][\"win_flag\"] == 1) {\n                  _this.winners.push(response[\"data\"][i]);\n                }\n              }\n              console.log(_this.winners);\n            }\n          })[\"catch\"](function (error) {\n            console.log(\"error: \", error);\n          });\n        }\n      })[\"catch\"](function (error) {\n        console.log(\"error: \", error);\n      });\n    },\n    WinnerChangeStart: function WinnerChangeStart(p_id) {\n      this.before_winner = p_id;\n    },\n    WinnerChangeCancel: function WinnerChangeCancel() {\n      this.before_winner = \"\";\n    },\n    WinnerChangeFinish: function WinnerChangeFinish(p_id) {\n      this.after_winner = p_id;\n      this.changeWinner();\n    },\n    changeWinner: function changeWinner() {\n      var _this2 = this;\n      api.changeWinner({\n        campaign_id: this.$route.params.id,\n        before: this.before_winner,\n        after: this.after_winner\n      }).then(function (response) {\n        console.log(response);\n        _this2.before_winner = \"\";\n        _this2.after_winner = \"\";\n        _this2.$router.go({\n          name: \"analisysFaR\",\n          params: {\n            id: _this2.$route.params.id\n          }\n        });\n      })[\"catch\"](function (error) {\n        console.log(\"error: \", error);\n      });\n    },\n    giftConfirm: function giftConfirm() {\n      var _this3 = this;\n      var gifts = [];\n      for (var i = 0; i < this.winners.length; i++) {\n        gifts.push(this.winners[i][\"gift_id\"]);\n      }\n      api.confirmGifts({\n        campaign_id: this.$route.params.id,\n        gifts: gifts\n      }).then(function (response) {\n        console.log(response);\n        _this3.$router.go({\n          name: \"analisysFaR\",\n          params: {\n            id: _this3.$route.params.id\n          }\n        });\n      })[\"catch\"](function (error) {\n        console.log(\"error: \", error);\n      });\n    }\n  }\n};","map":{"version":3,"mappings":"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","names":["SideVar","api","VueApexCharts","name","components","apexchart","mounted","getCampaign","data","campaign_status","participants","winners","before_winner","after_winner","gift_unconfirmed","winner_page","participants_page","winner_display_count","particiapnts_display_count","winner_display_count_max","participants_display_count_max","campaign_name","keyword","campaign","date","tweetCount","engagementCount","paricipantsCount","scoreCount","tweetCount_yesterday","engagementCount_yesterday","paricipantsCount_yesterday","scoreCount_yesterday","chart_height","window","innerHeight","chart_width","innerWidth","dailycountOptions","chart","id","type","title","text","align","dataLabels","enabled","xaxis","categories","labels","style","colors","yaxis","legend","show","grid","lines","dailycountSeries","scoreOptions","scoreSeries","watch","handler","i","length","status","deep","methods","$route","params","then","response","getParticipants","campaign_id","console","log","push","error","WinnerChangeStart","p_id","WinnerChangeCancel","WinnerChangeFinish","changeWinner","before","after","$router","go","giftConfirm","gifts","confirmGifts"],"sourceRoot":"","sources":["/Users/kazuaki.aihara/Documents/fuelcrypto-organizer/src/views/CampaignAnaliticsFaR.vue"],"sourcesContent":["<template>\n  <div class=\"campaign_analize\">\n    <!-- side var  -->\n    <SideVar />\n    <!-- main div -->\n    <div class=\"mx-auto lg:ml-80\">\n      <section class=\"py-2\">\n        <div class=\"container pr-2 mx-auto\">\n          <div class=\"pt-6 pb-8 bg-gray-500 rounded-xl\">\n            <div class=\"px-6\">\n              <h2\n                class=\"mb-6 md:text-3xl font-bold font-heading tracking-px-n leading-none md:max-w-xl mx-auto text-gray-100\"\n              >\n                Campaign Analisys\n              </h2>\n              <!-- summary seciton -->\n              <!-- <div class=\"container px-4 mx-auto\">\n                <div class=\"max-w-none mx-auto bg-gray-600 rounded-xl\">\n                  <div class=\"flex flex-wrap\">\n                    <div\n                      class=\"w-full sm:w-1/2 lg:w-1/4 pl-4 md:pl-8 xl:pl-10 border-b lg:border-b-0 sm:border-r border-gray-700\"\n                    >\n                      <div class=\"py-5 px-6\">\n                        <h5\n                          class=\"text-sm font-semibold text-gray-300 mb-6 leading-normal tracking-wide\"\n                        >\n                          Count tweets\n                        </h5>\n                        <div class=\"flex flex-wrap items-center mb-1 -m-2\">\n                          <div class=\"w-auto p-2\">\n                            <h4\n                              class=\"text-2xl text-gray-100 font-bold tracking-wide\"\n                            >\n                              {{ tweetCount.toLocaleString() }}\n                            </h4>\n                          </div>\n                          <div class=\"w-auto p-2\">\n                            <div\n                              class=\"inline-flex px-2 h-7 items-center justify-center text-green-500 bg-green-900 rounded-full\"\n                            >\n                              <svg\n                                width=\"16\"\n                                height=\"16\"\n                                viewBox=\"0 0 16 16\"\n                                fill=\"none\"\n                                xmlns=\"http://www.w3.org/2000/svg\"\n                              >\n                                <path\n                                  d=\"M8 3.33337V12.6667\"\n                                  stroke=\"currentColor\"\n                                  stroke-width=\"1.5\"\n                                  stroke-linecap=\"round\"\n                                  stroke-linejoin=\"round\"\n                                ></path>\n                                <path\n                                  d=\"M10.6667 6.00004L8 3.33337\"\n                                  stroke=\"currentColor\"\n                                  stroke-width=\"1.5\"\n                                  stroke-linecap=\"round\"\n                                  stroke-linejoin=\"round\"\n                                ></path>\n                                <path\n                                  d=\"M5.33334 6.00004L8.00001 3.33337\"\n                                  stroke=\"currentColor\"\n                                  stroke-width=\"1.5\"\n                                  stroke-linecap=\"round\"\n                                  stroke-linejoin=\"round\"\n                                ></path>\n                              </svg>\n                              <span class=\"text-xs font-medium\"\n                                >{{\n                                  Math.floor(\n                                    (tweetCount / tweetCount_yesterday - 1) *\n                                      100\n                                  )\n                                }}%</span\n                              >\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                    <div\n                      class=\"w-full sm:w-1/2 lg:w-1/4 pl-4 md:pl-8 xl:pl-10 border-b lg:border-b-0 lg:border-r border-gray-700\"\n                    >\n                      <div class=\"py-5 px-6\">\n                        <h5\n                          class=\"text-sm font-semibold text-gray-300 mb-6 leading-normal tracking-wide\"\n                        >\n                          Engagements\n                        </h5>\n                        <div class=\"flex flex-wrap items-center mb-1 -m-2\">\n                          <div class=\"w-auto p-2\">\n                            <h4\n                              class=\"text-2xl text-gray-100 font-bold tracking-wide\"\n                            >\n                              {{ engagementCount.toLocaleString() }}\n                            </h4>\n                          </div>\n                          <div class=\"w-auto p-2\">\n                            <div\n                              class=\"inline-flex px-2 h-7 items-center justify-center text-green-500 bg-green-900 rounded-full\"\n                            >\n                              <svg\n                                width=\"16\"\n                                height=\"16\"\n                                viewBox=\"0 0 16 16\"\n                                fill=\"none\"\n                                xmlns=\"http://www.w3.org/2000/svg\"\n                              >\n                                <path\n                                  d=\"M8 3.33337V12.6667\"\n                                  stroke=\"currentColor\"\n                                  stroke-width=\"1.5\"\n                                  stroke-linecap=\"round\"\n                                  stroke-linejoin=\"round\"\n                                ></path>\n                                <path\n                                  d=\"M10.6667 6.00004L8 3.33337\"\n                                  stroke=\"currentColor\"\n                                  stroke-width=\"1.5\"\n                                  stroke-linecap=\"round\"\n                                  stroke-linejoin=\"round\"\n                                ></path>\n                                <path\n                                  d=\"M5.33334 6.00004L8.00001 3.33337\"\n                                  stroke=\"currentColor\"\n                                  stroke-width=\"1.5\"\n                                  stroke-linecap=\"round\"\n                                  stroke-linejoin=\"round\"\n                                ></path>\n                              </svg>\n                              <span class=\"text-xs font-medium\"\n                                >{{\n                                  Math.floor(\n                                    (engagementCount /\n                                      engagementCount_yesterday -\n                                      1) *\n                                      100\n                                  )\n                                }}%</span\n                              >\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                    <div\n                      class=\"w-full sm:w-1/2 lg:w-1/4 pl-4 md:pl-8 xl:pl-10 border-b md:border-b-0 sm:border-r border-gray-700\"\n                    >\n                      <div class=\"py-5 px-6\">\n                        <h5\n                          class=\"text-sm font-semibold text-gray-300 mb-6 leading-normal tracking-wide\"\n                        >\n                          Participants\n                        </h5>\n                        <div class=\"flex flex-wrap items-center mb-1 -m-2\">\n                          <div class=\"w-auto p-2\">\n                            <h4\n                              class=\"text-2xl text-gray-100 font-bold tracking-wide\"\n                            >\n                              {{ paricipantsCount.toLocaleString() }}\n                            </h4>\n                          </div>\n                          <div class=\"w-auto p-2\">\n                            <div\n                              class=\"inline-flex px-2 h-7 items-center justify-center text-green-500 bg-green-900 rounded-full\"\n                            >\n                              <svg\n                                width=\"16\"\n                                height=\"16\"\n                                viewBox=\"0 0 16 16\"\n                                fill=\"none\"\n                                xmlns=\"http://www.w3.org/2000/svg\"\n                              >\n                                <path\n                                  d=\"M8 3.33337V12.6667\"\n                                  stroke=\"currentColor\"\n                                  stroke-width=\"1.5\"\n                                  stroke-linecap=\"round\"\n                                  stroke-linejoin=\"round\"\n                                ></path>\n                                <path\n                                  d=\"M10.6667 6.00004L8 3.33337\"\n                                  stroke=\"currentColor\"\n                                  stroke-width=\"1.5\"\n                                  stroke-linecap=\"round\"\n                                  stroke-linejoin=\"round\"\n                                ></path>\n                                <path\n                                  d=\"M5.33334 6.00004L8.00001 3.33337\"\n                                  stroke=\"currentColor\"\n                                  stroke-width=\"1.5\"\n                                  stroke-linecap=\"round\"\n                                  stroke-linejoin=\"round\"\n                                ></path>\n                              </svg>\n                              <span class=\"text-xs font-medium\">-%</span>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                    <div class=\"w-full sm:w-1/2 lg:w-1/4 pl-4 md:pl-8 xl:pl-10\">\n                      <div class=\"py-5 px-6\">\n                        <h5\n                          class=\"text-sm font-semibold text-gray-300 mb-6 leading-normal tracking-wide\"\n                        >\n                          Score\n                        </h5>\n                        <div class=\"flex flex-wrap items-center mb-1 -m-2\">\n                          <div class=\"w-auto p-2\">\n                            <h4\n                              class=\"text-2xl text-gray-100 font-bold tracking-wide\"\n                            >\n                              {{ scoreCount.toLocaleString() }}\n                            </h4>\n                          </div>\n                          <div class=\"w-auto p-2\">\n                            <div\n                              class=\"inline-flex px-2 h-7 items-center justify-center text-green-500 bg-green-900 rounded-full\"\n                            >\n                              <svg\n                                width=\"16\"\n                                height=\"16\"\n                                viewBox=\"0 0 16 16\"\n                                fill=\"none\"\n                                xmlns=\"http://www.w3.org/2000/svg\"\n                              >\n                                <path\n                                  d=\"M8 3.33337V12.6667\"\n                                  stroke=\"currentColor\"\n                                  stroke-width=\"1.5\"\n                                  stroke-linecap=\"round\"\n                                  stroke-linejoin=\"round\"\n                                ></path>\n                                <path\n                                  d=\"M10.6667 6.00004L8 3.33337\"\n                                  stroke=\"currentColor\"\n                                  stroke-width=\"1.5\"\n                                  stroke-linecap=\"round\"\n                                  stroke-linejoin=\"round\"\n                                ></path>\n                                <path\n                                  d=\"M5.33334 6.00004L8.00001 3.33337\"\n                                  stroke=\"currentColor\"\n                                  stroke-width=\"1.5\"\n                                  stroke-linecap=\"round\"\n                                  stroke-linejoin=\"round\"\n                                ></path>\n                              </svg>\n                              <span class=\"text-xs font-medium\">-%</span>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div> -->\n              <div class=\"text-left grid grid-cols-3 mt-3\">\n                <div v-for=\"dailycount in dailycountSeries\" :key=\"dailycount\">\n                  <p class=\"text-lg text-gray-200 font-semibold mb-3 mt-3\">\n                    {{ dailycount[\"name\"] }}\n                  </p>\n                  <div v-if=\"dailycountOptions.xaxis.categories.length > 0\">\n                    <apexchart\n                      :width=\"full\"\n                      :height=\"chart_height\"\n                      :title=\"dailycount.name\"\n                      :options=\"dailycountOptions\"\n                      :series=\"[dailycount]\"\n                    ></apexchart>\n                  </div>\n                </div>\n                <div></div>\n                <div class=\"col-span-3\">\n                  <p class=\"text-lg text-gray-100 font-semibold mb-6 mt-6 ml-6\">\n                    当選者\n                  </p>\n                  <div class=\"w-full px-4\" v-if=\"campaign_status == 3\">\n                    <table class=\"w-full min-w-max\">\n                      <thead>\n                        <tr class=\"text-left\">\n                          <th class=\"p-0\">\n                            <div class=\"py-3 px-6 rounded-l-xl bg-gray-600\">\n                              <span class=\"text-xs text-gray-300 font-semibold\"\n                                >username</span\n                              >\n                            </div>\n                          </th>\n                          <th class=\"p-0\">\n                            <div class=\"py-3 px-6 bg-gray-600\">\n                              <span class=\"text-xs text-gray-300 font-semibold\"\n                                >followers</span\n                              >\n                            </div>\n                          </th>\n                          <th class=\"p-0\">\n                            <div class=\"py-3 px-6 bg-gray-600\">\n                              <span class=\"text-xs text-gray-300 font-semibold\"\n                                >gift id</span\n                              >\n                            </div>\n                          </th>\n                          <th class=\"p-0\">\n                            <div class=\"py-3 px-6 bg-gray-600\">\n                              <span class=\"text-xs text-gray-300 font-semibold\"\n                                >gift label</span\n                              >\n                            </div>\n                          </th>\n                          <th class=\"p-0\">\n                            <div class=\"py-6 px-6 bg-gray-600 rounded-r-xl\">\n                              <span class=\"text-xs text-gray-300 font-semibold\">\n                              </span>\n                            </div>\n                          </th>\n                        </tr>\n                      </thead>\n                      <tbody>\n                        <tr\n                          v-for=\"winner in winners.slice(\n                            winner_page * winner_display_count,\n                            (winner_page + 1) * winner_display_count\n                          )\"\n                          v-bind:key=\"winner.user_id\"\n                        >\n                          <td class=\"p-0\">\n                            <div class=\"flex items-center h-8 px-6\">\n                              <a\n                                class=\"text-sm text-blue-400 font-medium underline\"\n                                :href=\"'https://twitter.com/' + winner.username\"\n                                target=\"_blank\"\n                                rel=\"noopener noreferrer\"\n                                >{{ winner.username }}</a\n                              >\n                            </div>\n                          </td>\n                          <td class=\"p-0\">\n                            <div class=\"flex items-center h-8 px-6\">\n                              <div class=\"flex h-full items-center\">\n                                <span\n                                  class=\"text-sm font-medium text-gray-100\"\n                                  >{{ winner.followers }}</span\n                                >\n                              </div>\n                            </div>\n                          </td>\n                          <td class=\"p-0\">\n                            <div class=\"flex items-center h-8 px-6\">\n                              <div class=\"flex h-full items-center\">\n                                <span\n                                  class=\"text-sm font-medium text-gray-100\"\n                                  >{{ winner.gift_id }}</span\n                                >\n                              </div>\n                            </div>\n                          </td>\n                          <td class=\"p-0\">\n                            <div class=\"flex items-center h-8 px-6\">\n                              <div class=\"flex h-full items-center\">\n                                <span\n                                  class=\"text-sm font-medium text-gray-100\"\n                                  >{{ winner.label }}</span\n                                >\n                              </div>\n                            </div>\n                          </td>\n                          <td class=\"p-0\">\n                            <button\n                              class=\"inline-block py-2 px-4 text-xs text-center font-semibold leading-normal text-gray-100 bg-blue-400 hover:bg-blue-600 rounded-lg transition duration-200\"\n                              @click=\"WinnerChangeStart(winner.p_id)\"\n                              v-if=\"!before_winner && winner.status == 0\"\n                            >\n                              当選者変更\n                            </button>\n                            <button\n                              class=\"inline-block py-2 px-4 text-xs text-center font-semibold leading-normal text-gray-500 bg-yellow-400 hover:bg-yellow-600 rounded-lg transition duration-200\"\n                              @click=\"WinnerChangeCancel()\"\n                              v-if=\"before_winner == winner.p_id\"\n                            >\n                              キャンセル\n                            </button>\n                          </td>\n                        </tr>\n                      </tbody>\n                    </table>\n                    <section></section>\n                    <div>\n                      <button\n                        class=\"ml-6 text-xs my-4 i py-2 px-4 nline-block text-center font-semibold leading-normal text-gray-100 bg-blue-400 hover:bg-blue-600 rounded-lg transition duration-200\"\n                        v-if=\"!before_winner && gift_unconfirmed\"\n                        @click=\"giftConfirm\"\n                      >\n                        当選者を確定する\n                      </button>\n                    </div>\n                  </div>\n                  <div class=\"px-4 text-gray-100 text-xs\" v-else>\n                    <p>キャンペーン期間終了までお待ちください</p>\n                  </div>\n                </div>\n                <div class=\"col-span-3\">\n                  <p\n                    class=\"text-lg text-gray-100 font-semibold mb-6 mt-18 ml-6\"\n                  >\n                    参加者\n                  </p>\n                  <div class=\"w-full px-4\" v-if=\"campaign_status == 3\">\n                    <table class=\"w-full min-w-max\">\n                      <thead>\n                        <tr class=\"text-left\">\n                          <th class=\"p-0\">\n                            <div class=\"py-3 px-6 rounded-l-xl bg-gray-600\">\n                              <span class=\"text-xs text-gray-300 font-semibold\"\n                                >username</span\n                              >\n                            </div>\n                          </th>\n                          <th class=\"p-0\">\n                            <div class=\"py-3 px-6 bg-gray-600\">\n                              <span class=\"text-xs text-gray-300 font-semibold\"\n                                >followers</span\n                              >\n                            </div>\n                          </th>\n                          <th class=\"p-0\">\n                            <div class=\"py-3 px-6 bg-gray-600\">\n                              <span class=\"text-xs text-gray-300 font-semibold\"\n                                >win/lose</span\n                              >\n                            </div>\n                          </th>\n                          <th class=\"p-0\">\n                            <div class=\"py-6 px-6 bg-gray-600\">\n                              <span class=\"text-xs text-gray-300 font-semibold\">\n                              </span>\n                            </div>\n                          </th>\n                          <th class=\"p-0\">\n                            <div class=\"py-6 px-6 bg-gray-600 rounded-r-xl\">\n                              <span class=\"text-xs text-gray-300 font-semibold\">\n                              </span>\n                            </div>\n                          </th>\n                        </tr>\n                      </thead>\n                      <tbody>\n                        <tr\n                          v-for=\"participant in participants.slice(\n                            participants_page * particiapnts_display_count,\n                            (participants_page + 1) * particiapnts_display_count\n                          )\"\n                          v-bind:key=\"participant.user_id\"\n                        >\n                          <td class=\"p-0\">\n                            <div class=\"flex items-center h-8 px-6\">\n                              <a\n                                class=\"text-sm text-blue-400 font-medium underline\"\n                                :href=\"\n                                  'https://twitter.com/' + participant.username\n                                \"\n                                target=\"_blank\"\n                                rel=\"noopener noreferrer\"\n                                >{{ participant.username }}</a\n                              >\n                            </div>\n                          </td>\n                          <td class=\"p-0\">\n                            <div class=\"flex items-center h-8 px-6\">\n                              <div class=\"flex h-full items-center\">\n                                <span\n                                  class=\"text-sm font-medium text-gray-100\"\n                                  >{{ participant.followers }}</span\n                                >\n                              </div>\n                            </div>\n                          </td>\n                          <td class=\"p-0\">\n                            <div class=\"flex items-center h-8 px-6\">\n                              <div class=\"flex h-full items-center\">\n                                <span\n                                  class=\"text-sm font-medium text-gray-100\"\n                                  >{{\n                                    participant.win_flag == 0 ? \"×\" : \"◯\"\n                                  }}</span\n                                >\n                              </div>\n                            </div>\n                          </td>\n                          <td></td>\n                          <td class=\"p-0\">\n                            <button\n                              class=\"inline-block py-2 px-4 text-xs text-center font-semibold leading-normal text-gray-100 bg-blue-400 hover:bg-blue-600 rounded-lg transition duration-200\"\n                              @click=\"WinnerChangeFinish(participant.p_id)\"\n                              v-if=\"before_winner && participant.win_flag == 0\"\n                            >\n                              当選者変更\n                            </button>\n                          </td>\n                        </tr>\n                      </tbody>\n                    </table>\n                  </div>\n                  <div class=\"px-4 text-gray-100 text-xs\" v-else>\n                    <p>キャンペーン期間終了までお待ちください</p>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </section>\n    </div>\n  </div>\n</template>\n\n<script>\nimport SideVar from \"@/components/SideVar.vue\";\nimport api from \"../api/api.js\";\n// import { useRoute } from \"vue-router\";\nimport VueApexCharts from \"vue3-apexcharts\";\n\nexport default {\n  name: \"Campaign_regit\",\n  components: {\n    SideVar,\n    apexchart: VueApexCharts,\n  },\n  mounted() {\n    // const route = useRoute();\n    this.getCampaign();\n  },\n  data() {\n    return {\n      campaign_status: null,\n      participants: [],\n      winners: [],\n      before_winner: \"\",\n      after_winner: \"\",\n      gift_unconfirmed: false,\n      winner_page: 0,\n      participants_page: 0,\n      winner_display_count: 10,\n      particiapnts_display_count: 10,\n      winner_display_count_max: 1,\n      participants_display_count_max: 1,\n\n      campaign_name: null,\n      keyword: null,\n      campaign: null,\n      date: [],\n      tweetCount: \"-\",\n      engagementCount: \"-\",\n      paricipantsCount: \"-\",\n      scoreCount: \"-\",\n      tweetCount_yesterday: 1,\n      engagementCount_yesterday: 1,\n      paricipantsCount_yesterday: 1,\n      scoreCount_yesterday: 1,\n      chart_height: window.innerHeight / 3,\n      chart_width: window.innerWidth / 3,\n      dailycountOptions: {\n        chart: {\n          id: \"Daily_Counts\",\n          type: \"area\",\n        },\n        title: {\n          text: \"\",\n          align: \"left\",\n        },\n        dataLabels: {\n          enabled: false,\n        },\n        xaxis: {\n          type: \"datetime\",\n          categories: [],\n          labels: {\n            style: {\n              colors: \"#C4BBAF\",\n            },\n          },\n        },\n        yaxis: {\n          // type: \"datetime\",\n          labels: {\n            style: {\n              colors: \"#C4BBAF\",\n            },\n          },\n        },\n        legend: {\n          show: true,\n          labels: {\n            colors: \"#C4BBAF\",\n          },\n        },\n        grid: {\n          xaxis: {\n            lines: {\n              show: false,\n            },\n          },\n          yaxis: {\n            lines: {\n              show: false,\n            },\n          },\n        },\n      },\n      dailycountSeries: [],\n      scoreOptions: {\n        labels: [],\n        legend: {\n          show: true,\n          labels: {\n            colors: \"#C4BBAF\",\n          },\n        },\n        title: {\n          text: \"testtest\",\n        },\n      },\n      scoreSeries: [],\n    };\n  },\n  //   computed: {\n  //     giftuncomfirmation() {\n  //       let status = \"done\";\n  //       for (let i = 0; this.winners.lengh; i++) {\n  //         console.log(this.winners[i].status);\n  //         if (this.winners[i].status == 0) {\n  //           console.log(\"aaaaaa\");\n  //           status = \"yet\";\n  //         }\n  //       }\n  //       return status;\n  //     },\n  //   },\n  watch: {\n    winners: {\n      handler() {\n        for (let i = 0; i < this.winners.length; i++) {\n          if (this.winners[i].status == 0) {\n            this.gift_unconfirmed = true;\n            break;\n          }\n        }\n      },\n      deep: true,\n    },\n  },\n  methods: {\n    getCampaign() {\n      api\n        .getCampaign({ id: this.$route.params.id })\n        .then((response) => {\n          this.campaign_status = response[\"data\"][0][\"status\"];\n          if (this.campaign_status == 3) {\n            // 終了済なら\n            api\n              .getParticipants({\n                campaign_id: this.$route.params.id,\n              })\n              .then((response) => {\n                console.log(response);\n                if (response[\"data\"].length != 0) {\n                  for (var i = 0; i < response[\"data\"].length; i++) {\n                    this.participants.push(response[\"data\"][i]);\n                    if (response[\"data\"][i][\"win_flag\"] == 1) {\n                      this.winners.push(response[\"data\"][i]);\n                    }\n                  }\n                  console.log(this.winners);\n                }\n              })\n              .catch((error) => {\n                console.log(\"error: \", error);\n              });\n          }\n        })\n        .catch((error) => {\n          console.log(\"error: \", error);\n        });\n    },\n    WinnerChangeStart(p_id) {\n      this.before_winner = p_id;\n    },\n    WinnerChangeCancel() {\n      this.before_winner = \"\";\n    },\n    WinnerChangeFinish(p_id) {\n      this.after_winner = p_id;\n      this.changeWinner();\n    },\n    changeWinner() {\n      api\n        .changeWinner({\n          campaign_id: this.$route.params.id,\n          before: this.before_winner,\n          after: this.after_winner,\n        })\n        .then((response) => {\n          console.log(response);\n          this.before_winner = \"\";\n          this.after_winner = \"\";\n          this.$router.go({\n            name: \"analisysFaR\",\n            params: { id: this.$route.params.id },\n          });\n        })\n        .catch((error) => {\n          console.log(\"error: \", error);\n        });\n    },\n    giftConfirm() {\n      let gifts = [];\n      for (let i = 0; i < this.winners.length; i++) {\n        gifts.push(this.winners[i][\"gift_id\"]);\n      }\n      api\n        .confirmGifts({\n          campaign_id: this.$route.params.id,\n          gifts: gifts,\n        })\n        .then((response) => {\n          console.log(response);\n          this.$router.go({\n            name: \"analisysFaR\",\n            params: { id: this.$route.params.id },\n          });\n        })\n        .catch((error) => {\n          console.log(\"error: \", error);\n        });\n    },\n  },\n};\n</script>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}