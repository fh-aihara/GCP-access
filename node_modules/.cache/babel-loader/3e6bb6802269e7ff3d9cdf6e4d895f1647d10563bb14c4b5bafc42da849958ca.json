{"ast":null,"code":"import SideVar from \"@/components/SideVar.vue\";\nimport { useRoute } from \"vue-router\";\nimport api from \"../api/api.js\";\n// import { ref } from \"vue\";\n\nexport default {\n  name: \"externalConnect\",\n  components: {\n    SideVar: SideVar\n  },\n  data: function data() {\n    return {\n      message: \"登録中...\"\n    };\n  },\n  mounted: function mounted() {\n    var route = useRoute();\n    console.log(route.query);\n    if (route.query.code != null && this.guild_id == null) {\n      this.postDiscordInfo(route.query.guild_id);\n    }\n  },\n  computed: {},\n  watch: {},\n  methods: {\n    postDiscordInfo: function postDiscordInfo(guild_id) {\n      var _this = this;\n      api.postItemsDiscord({\n        item_type: \"DISCORD\",\n        item_data_1: guild_id\n      }).then(function (response) {\n        console.log(response);\n        _this.message = \"Discordサーバーとの連携が成功しました。\";\n        _this.$toast.show(\"Discordの連携に成功しました\", {\n          type: \"success\",\n          position: \"top\",\n          duration: 3000\n        });\n      })[\"catch\"](function (error) {\n        console.log(\"error\", error);\n        _this.$toast.show(\"Discordの連携に失敗しました\", {\n          type: \"error\",\n          position: \"top\",\n          duration: 5000\n        });\n      });\n    }\n  }\n};","map":{"version":3,"mappings":"AA+BA,OAAOA,OAAM,MAAO,0BAA0B;AAC9C,SAASC,QAAO,QAAS,YAAY;AACrC,OAAOC,GAAE,MAAO,eAAe;AAC/B;;AAEA,eAAe;EACbC,IAAI,EAAE,iBAAiB;EACvBC,UAAU,EAAE;IACVJ,OAAO,EAAPA;EACF,CAAC;EACDK,IAAI,kBAAG;IACL,OAAO;MACLC,OAAO,EAAE;IACX,CAAC;EACH,CAAC;EACDC,OAAO,qBAAG;IACR,IAAMC,KAAI,GAAIP,QAAQ,EAAE;IACxBQ,OAAO,CAACC,GAAG,CAACF,KAAK,CAACG,KAAK,CAAC;IACxB,IAAIH,KAAK,CAACG,KAAK,CAACC,IAAG,IAAK,IAAG,IAAK,IAAI,CAACC,QAAO,IAAK,IAAI,EAAE;MACrD,IAAI,CAACC,eAAe,CAACN,KAAK,CAACG,KAAK,CAACE,QAAQ,CAAC;IAC5C;EACF,CAAC;EACDE,QAAQ,EAAE,CAAC,CAAC;EACZC,KAAK,EAAE,CAAC,CAAC;EACTC,OAAO,EAAE;IACPH,eAAe,2BAACD,QAAQ,EAAE;MAAA;MACxBX,GAAE,CACCgB,gBAAgB,CAAC;QAAEC,SAAS,EAAE,SAAS;QAAEC,WAAW,EAAEP;MAAS,CAAC,EAChEQ,IAAI,CAAC,UAACC,QAAQ,EAAK;QAClBb,OAAO,CAACC,GAAG,CAACY,QAAQ,CAAC;QACrB,KAAI,CAAChB,OAAM,GAAI,yBAAyB;QACxC,KAAI,CAACiB,MAAM,CAACC,IAAI,CAAC,mBAAmB,EAAE;UACpCC,IAAI,EAAE,SAAS;UACfC,QAAQ,EAAE,KAAK;UACfC,QAAQ,EAAE;QACZ,CAAC,CAAC;MACJ,CAAC,UACK,CAAC,UAACC,KAAK,EAAK;QAChBnB,OAAO,CAACC,GAAG,CAAC,OAAO,EAAEkB,KAAK,CAAC;QAC3B,KAAI,CAACL,MAAM,CAACC,IAAI,CAAC,mBAAmB,EAAE;UACpCC,IAAI,EAAE,OAAO;UACbC,QAAQ,EAAE,KAAK;UACfC,QAAQ,EAAE;QACZ,CAAC,CAAC;MACJ,CAAC,CAAC;IACN;EACF;AACF,CAAC","names":["SideVar","useRoute","api","name","components","data","message","mounted","route","console","log","query","code","guild_id","postDiscordInfo","computed","watch","methods","postItemsDiscord","item_type","item_data_1","then","response","$toast","show","type","position","duration","error"],"sourceRoot":"","sources":["/Users/kazuaki.aihara/Documents/hanabi-admin/src/views/DiscordBotAdded.vue"],"sourcesContent":["<template>\n  <div class=\"campaignAddConditions\">\n    <!-- side var  -->\n    <SideVar />\n    <!-- input panel -->\n    <RightColumnOutline>\n      <div\n        class=\"flex flex-wrap items-center justify-between -mx-4 mb-8 pb-6 border-b border-gray-400 border-opacity-20\"\n      >\n        <div class=\"w-full sm:w-auto px-4 mb-6 sm:mb-0\">\n          <h2\n            class=\"mb-6 md:text-3xl font-bold font-heading tracking-px-n leading-none md:max-w-xl mx-auto text-gray-100\"\n          >\n            External Connect -> Discord\n          </h2>\n        </div>\n        <div class=\"w-full sm:w-auto px-4\"></div>\n      </div>\n      <div class=\"flex justify-left items-center my-4 text-white text-lg\">\n        <img\n          class=\"w-8 mx-4\"\n          src=\"https://sociama-product-image.s3.ap-northeast-1.amazonaws.com/discord_icon_130958.png\"\n          alt=\"discord_icon\"\n        />\n        {{ message }}\n      </div>\n    </RightColumnOutline>\n  </div>\n</template>\n\n<script>\nimport SideVar from \"@/components/SideVar.vue\";\nimport { useRoute } from \"vue-router\";\nimport api from \"../api/api.js\";\n// import { ref } from \"vue\";\n\nexport default {\n  name: \"externalConnect\",\n  components: {\n    SideVar,\n  },\n  data() {\n    return {\n      message: \"登録中...\",\n    };\n  },\n  mounted() {\n    const route = useRoute();\n    console.log(route.query);\n    if (route.query.code != null && this.guild_id == null) {\n      this.postDiscordInfo(route.query.guild_id);\n    }\n  },\n  computed: {},\n  watch: {},\n  methods: {\n    postDiscordInfo(guild_id) {\n      api\n        .postItemsDiscord({ item_type: \"DISCORD\", item_data_1: guild_id })\n        .then((response) => {\n          console.log(response);\n          this.message = \"Discordサーバーとの連携が成功しました。\";\n          this.$toast.show(\"Discordの連携に成功しました\", {\n            type: \"success\",\n            position: \"top\",\n            duration: 3000,\n          });\n        })\n        .catch((error) => {\n          console.log(\"error\", error);\n          this.$toast.show(\"Discordの連携に失敗しました\", {\n            type: \"error\",\n            position: \"top\",\n            duration: 5000,\n          });\n        });\n    },\n  },\n};\n</script>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}