{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.array.for-each.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport \"core-js/modules/web.url.js\";\nimport \"core-js/modules/web.url-search-params.js\";\nimport SideVar from \"@/components/SideVar.vue\";\nimport api from \"../api/api.js\";\n// import { useRoute } from \"vue-router\";\nimport VueApexCharts from \"vue3-apexcharts\";\nexport default {\n  name: \"Campaign_regit\",\n  components: {\n    SideVar: SideVar,\n    apexchart: VueApexCharts\n  },\n  mounted: function mounted() {\n    // const route = useRoute();\n    this.getCampaign();\n    this.getConditions();\n  },\n  data: function data() {\n    return {\n      campaign_status: null,\n      participants: [],\n      winners: [],\n      before_winner: \"\",\n      after_winner: \"\",\n      gift_unconfirmed: false,\n      winner_page: 1,\n      participants_page: 1,\n      winner_display_count: 10,\n      particiapnts_display_count: 10,\n      winner_display_count_max: 1,\n      participants_display_count_max: 1,\n      conditions_tweet: [],\n      conditions_twitter_account: [],\n      discordConditionExists: false,\n      walletConditionExists: false,\n      externalSiteConditionExists: false,\n      externalSiteUrl: \"\",\n      campaign_name: null,\n      keyword: null,\n      campaign: null,\n      date: [],\n      tweetCount: \"-\",\n      engagementCount: \"-\",\n      paricipantsCount: \"-\",\n      scoreCount: \"-\",\n      tweetCount_yesterday: 1,\n      engagementCount_yesterday: 1,\n      paricipantsCount_yesterday: 1,\n      scoreCount_yesterday: 1,\n      chart_height: window.innerHeight / 3,\n      chart_width: window.innerWidth / 3,\n      dailycountOptions: {\n        chart: {\n          id: \"Daily_Counts\",\n          type: \"area\"\n        },\n        title: {\n          text: \"\",\n          align: \"left\"\n        },\n        dataLabels: {\n          enabled: false\n        },\n        xaxis: {\n          type: \"datetime\",\n          categories: [],\n          labels: {\n            style: {\n              colors: \"#C4BBAF\"\n            }\n          }\n        },\n        yaxis: {\n          // type: \"datetime\",\n          labels: {\n            style: {\n              colors: \"#C4BBAF\"\n            }\n          }\n        },\n        legend: {\n          show: true,\n          labels: {\n            colors: \"#C4BBAF\"\n          }\n        },\n        grid: {\n          xaxis: {\n            lines: {\n              show: false\n            }\n          },\n          yaxis: {\n            lines: {\n              show: false\n            }\n          }\n        }\n      },\n      dailycountSeries: [],\n      scoreOptions: {\n        labels: [],\n        legend: {\n          show: true,\n          labels: {\n            colors: \"#C4BBAF\"\n          }\n        },\n        title: {\n          text: \"testtest\"\n        }\n      },\n      scoreSeries: []\n    };\n  },\n  watch: {\n    winners: {\n      handler: function handler() {\n        for (var i = 0; i < this.winners.length; i++) {\n          if (this.winners[i].status == 0) {\n            this.gift_unconfirmed = true;\n            break;\n          }\n        }\n      },\n      deep: true\n    }\n  },\n  methods: {\n    getCampaign: function getCampaign() {\n      var _this = this;\n      api.getCampaign({\n        id: this.$route.params.id\n      }).then(function (response) {\n        _this.campaign_status = response[\"data\"][0][\"status\"];\n        if (_this.campaign_status != 1) {\n          api.getParticipants({\n            campaign_id: _this.$route.params.id\n          }).then(function (response) {\n            console.log(response);\n            if (response[\"data\"].length != 0) {\n              for (var i = 0; i < response[\"data\"].length; i++) {\n                _this.participants.push(response[\"data\"][i]);\n                if (response[\"data\"][i][\"win_flag\"] == 1) {\n                  _this.winners.push(response[\"data\"][i]);\n                }\n              }\n              _this.participants_display_count_max = Math.ceil(_this.participants.length / _this.particiapnts_display_count);\n              _this.winner_display_count_max = Math.ceil(_this.winners.length / _this.winner_display_count);\n              console.log(_this.winners);\n            }\n          })[\"catch\"](function (error) {\n            console.log(\"error: \", error);\n          });\n        }\n      })[\"catch\"](function (error) {\n        console.log(\"error: \", error);\n      });\n    },\n    getConditions: function getConditions() {\n      var _this2 = this;\n      this.conditions_tweet = [];\n      this.conditions_twitter_account = [];\n      this.discordConditionExists = false;\n      this.walletConditionExists = false;\n      this.externalSiteConditionExists = false;\n      this.externalSiteUrl = \"\";\n      api.getConditions({\n        campaign_id: this.$route.params.id\n      }).then(function (response) {\n        console.log(response);\n        var response_data = response[\"data\"];\n        for (var i in response_data) {\n          if (response_data[i][\"actions\"] == \"FOLLOW\") {\n            _this2.conditions_twitter_account.push({\n              user_id: response_data[i][\"user_id\"],\n              username: response_data[i][\"username\"],\n              followers: response_data[i][\"followers\"]\n            });\n          } else if (response_data[i][\"actions\"] == \"RETWEET\") {\n            _this2.conditions_tweet.push({\n              tweet_id: response_data[i][\"tweet_id\"],\n              username: response_data[i][\"username\"],\n              text: response_data[i][\"text\"]\n            });\n          } else if (response_data[i][\"actions\"] == \"DISCORD_SERVER_JOIN\") {\n            _this2.discordConditionExists = true;\n            _this2.discordInviteUrl = response_data[i][\"invite_url\"];\n          } else if (response_data[i][\"actions\"] == \"WALLET_CONNECT\") {\n            _this2.walletConditionExists = true;\n          } else if (response_data[i][\"actions\"] == \"EXTERNAL_SITE_VISIT\") {\n            _this2.externalSiteConditionExists = true;\n            _this2.externalSiteUrl = response_data[i][\"external_site_url\"];\n          }\n        }\n      })[\"catch\"](function (error) {\n        console.log(\"error: \", error);\n        _this2.$toast.show(\"条件の取得に失敗しました。時間を置いて再度お試しください。\", {\n          type: \"error\",\n          position: \"top-right\",\n          duration: 5000\n        });\n      });\n    },\n    participans_page_increace: function participans_page_increace() {\n      this.participants_page += 1;\n    },\n    participans_page_decreace: function participans_page_decreace() {\n      this.participants_page -= 1;\n    },\n    participans_page_max: function participans_page_max() {\n      this.participants_page = this.participants_display_count_max;\n    },\n    participans_page_min: function participans_page_min() {\n      this.participants_page = 1;\n    },\n    winners_page_increace: function winners_page_increace() {\n      this.winner_page += 1;\n    },\n    winners_page_decreace: function winners_page_decreace() {\n      this.winner_page -= 1;\n    },\n    winners_page_max: function winners_page_max() {\n      this.winner_page = this.winner_display_count_max;\n    },\n    winners_page_min: function winners_page_min() {\n      this.winner_page = 1;\n    },\n    downloadWinnersPromise: function downloadWinnersPromise() {\n      var _this3 = this;\n      return new Promise(function (resolve) {\n        var csv = \"\";\n        if (_this3.walletConditionExists) {\n          csv = \"\\uFEFF\" + \"username,followers,win/lose,gift label,wallet address\\n\";\n        } else {\n          csv = \"\\uFEFF\" + \"username,followers,win/lose,gift label\\n\";\n        }\n        _this3.winners.forEach(function (el) {\n          var line = \"\";\n          if (_this3.walletConditionExists) {\n            line = el[\"username\"] + \",\" + el[\"followers\"] + \",\" + el[\"win_flag\"] + \",\" + el[\"label\"] + \",\" + el[\"address\"] + \"\\n\";\n          } else {\n            line = el[\"username\"] + \",\" + el[\"followers\"] + \",\" + el[\"win_flag\"] + \",\" + el[\"label\"] + \"\\n\";\n          }\n          csv += line;\n        });\n        var blob = new Blob([csv], {\n          type: \"text/csv\"\n        });\n        var link = document.createElement(\"a\");\n        link.href = window.URL.createObjectURL(blob);\n        link.download = \"winners.csv\";\n        link.click();\n        resolve(\"resolved\");\n      });\n    },\n    downloadParticipansPromise: function downloadParticipansPromise() {\n      var _this4 = this;\n      return new Promise(function (resolve) {\n        var csv = \"\";\n        if (_this4.walletConditionExists) {\n          csv = \"\\uFEFF\" + \"username,followers,win/lose,wallet address\\n\";\n        } else {\n          csv = \"\\uFEFF\" + \"username,followers,win/lose\\n\";\n        }\n        _this4.participants.forEach(function (el) {\n          var line = \"\";\n          if (_this4.walletConditionExists) {\n            line = el[\"username\"] + \",\" + el[\"followers\"] + \",\" + el[\"win_flag\"] + \",\" + el[\"address\"] + \"\\n\";\n          } else {\n            line = el[\"username\"] + \",\" + el[\"followers\"] + \",\" + el[\"win_flag\"] + \"\\n\";\n          }\n          csv += line;\n        });\n        var blob = new Blob([csv], {\n          type: \"text/csv\"\n        });\n        var link = document.createElement(\"a\");\n        link.href = window.URL.createObjectURL(blob);\n        link.download = \"participants.csv\";\n        link.click();\n        resolve(\"resolved\");\n      });\n    }\n  }\n};","map":{"version":3,"mappings":"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","names":["SideVar","api","VueApexCharts","name","components","apexchart","mounted","getCampaign","getConditions","data","campaign_status","participants","winners","before_winner","after_winner","gift_unconfirmed","winner_page","participants_page","winner_display_count","particiapnts_display_count","winner_display_count_max","participants_display_count_max","conditions_tweet","conditions_twitter_account","discordConditionExists","walletConditionExists","externalSiteConditionExists","externalSiteUrl","campaign_name","keyword","campaign","date","tweetCount","engagementCount","paricipantsCount","scoreCount","tweetCount_yesterday","engagementCount_yesterday","paricipantsCount_yesterday","scoreCount_yesterday","chart_height","window","innerHeight","chart_width","innerWidth","dailycountOptions","chart","id","type","title","text","align","dataLabels","enabled","xaxis","categories","labels","style","colors","yaxis","legend","show","grid","lines","dailycountSeries","scoreOptions","scoreSeries","watch","handler","i","length","status","deep","methods","$route","params","then","response","getParticipants","campaign_id","console","log","push","Math","ceil","error","response_data","user_id","username","followers","tweet_id","discordInviteUrl","$toast","position","duration","participans_page_increace","participans_page_decreace","participans_page_max","participans_page_min","winners_page_increace","winners_page_decreace","winners_page_max","winners_page_min","downloadWinnersPromise","Promise","resolve","csv","forEach","el","line","blob","Blob","link","document","createElement","href","URL","createObjectURL","download","click","downloadParticipansPromise"],"sourceRoot":"","sources":["/Users/kazuaki.aihara/Documents/fuelcrypto-organizer/src/views/CampaignAnaliticsITW.vue"],"sourcesContent":["<template>\n  <div class=\"campaign_analize\">\n    <!-- side var  -->\n    <SideVar />\n    <!-- main div -->\n    <RightColumnOutline>\n      <PageTitle>Campaign Analisis</PageTitle>\n      <div class=\"px-6\">\n        <div class=\"text-left grid grid-cols-3 mt-3\">\n          <div v-for=\"dailycount in dailycountSeries\" :key=\"dailycount\">\n            <p class=\"text-lg text-gray-200 font-semibold mb-3 mt-3\">\n              {{ dailycount[\"name\"] }}\n            </p>\n            <div v-if=\"dailycountOptions.xaxis.categories.length > 0\">\n              <apexchart\n                :width=\"full\"\n                :height=\"chart_height\"\n                :title=\"dailycount.name\"\n                :options=\"dailycountOptions\"\n                :series=\"[dailycount]\"\n              ></apexchart>\n            </div>\n          </div>\n          <div></div>\n          <div class=\"col-span-3\">\n            <div\n              class=\"text-lg text-gray-100 font-semibold mb-6 mt-6 ml-6 flex items-center justify-between\"\n            >\n              <div class=\"flex items-center\">\n                当選者\n                <div class=\"ml-1 text-sm text-gray-100\">\n                  ( {{ winners.length }} )\n                </div>\n              </div>\n              <div class=\"mx-4\">\n                <DoButton :clickFunction=\"downloadWinnersPromise\" :values=\"{}\"\n                  >CSVダウンロード</DoButton\n                >\n              </div>\n            </div>\n            <div class=\"w-full px-4\" v-if=\"campaign_status != 1\">\n              <table class=\"w-full min-w-max\">\n                <thead>\n                  <tr class=\"text-left\">\n                    <th class=\"p-0\">\n                      <div class=\"py-3 px-6 rounded-l-xl bg-gray-600\">\n                        <span class=\"text-xs text-gray-300 font-semibold\"\n                          >username</span\n                        >\n                      </div>\n                    </th>\n                    <th class=\"p-0\">\n                      <div class=\"py-3 px-6 bg-gray-600\">\n                        <span class=\"text-xs text-gray-300 font-semibold\"\n                          >followers</span\n                        >\n                      </div>\n                    </th>\n                    <th class=\"p-0\">\n                      <div class=\"py-3 px-6 bg-gray-600\">\n                        <span class=\"text-xs text-gray-300 font-semibold\"\n                          >gift id</span\n                        >\n                      </div>\n                    </th>\n                    <th class=\"p-0\">\n                      <div class=\"py-3 px-6 bg-gray-600\">\n                        <span class=\"text-xs text-gray-300 font-semibold\"\n                          >gift label</span\n                        >\n                      </div>\n                    </th>\n                    <th class=\"p-0\" v-if=\"walletConditionExists\">\n                      <div class=\"py-3 px-6 bg-gray-600\">\n                        <span class=\"text-xs text-gray-300 font-semibold\"\n                          >wallet address</span\n                        >\n                      </div>\n                    </th>\n                    <th class=\"p-0\">\n                      <div class=\"py-6 px-6 bg-gray-600 rounded-r-xl\">\n                        <span class=\"text-xs text-gray-300 font-semibold\">\n                        </span>\n                      </div>\n                    </th>\n                  </tr>\n                </thead>\n                <tbody>\n                  <tr\n                    v-for=\"winner in winners.slice(\n                      (winner_page - 1) * winner_display_count,\n                      winner_page * winner_display_count\n                    )\"\n                    v-bind:key=\"winner.user_id\"\n                  >\n                    <td class=\"p-0\">\n                      <div class=\"flex items-center h-8 px-6\">\n                        <a\n                          class=\"text-sm text-blue-400 font-medium underline\"\n                          :href=\"'https://twitter.com/' + winner.username\"\n                          target=\"_blank\"\n                          rel=\"noopener noreferrer\"\n                          >{{ winner.username }}</a\n                        >\n                      </div>\n                    </td>\n                    <td class=\"p-0\">\n                      <div class=\"flex items-center h-8 px-6\">\n                        <div class=\"flex h-full items-center\">\n                          <span class=\"text-sm font-medium text-gray-100\">{{\n                            winner.followers\n                          }}</span>\n                        </div>\n                      </div>\n                    </td>\n                    <td class=\"p-0\">\n                      <div class=\"flex items-center h-8 px-6\">\n                        <div class=\"flex h-full items-center\">\n                          <span class=\"text-sm font-medium text-gray-100\">{{\n                            winner.gift_id\n                          }}</span>\n                        </div>\n                      </div>\n                    </td>\n                    <td class=\"p-0\">\n                      <div class=\"flex items-center h-8 px-6\">\n                        <div class=\"flex h-full items-center\">\n                          <span class=\"text-sm font-medium text-gray-100\">{{\n                            winner.label\n                          }}</span>\n                        </div>\n                      </div>\n                    </td>\n                    <td class=\"p-0\" v-if=\"walletConditionExists\">\n                      <div class=\"flex items-center h-8 px-6\">\n                        <div class=\"flex h-full items-center\">\n                          <span class=\"text-sm font-medium text-gray-100\">{{\n                            winner.address\n                          }}</span>\n                        </div>\n                      </div>\n                    </td>\n                  </tr>\n                </tbody>\n              </table>\n              <section\n                class=\"py-6 flex justify-between items-center text-white\"\n              >\n                <div class=\"text-xs text-gray-300\">\n                  showing {{ winner_page }} page of\n                  {{ winner_display_count_max }} results\n                </div>\n                <div class=\"flex pr-12\">\n                  <button\n                    @click=\"winners_page_min()\"\n                    :disabled=\"winner_page == 1\"\n                    :class=\"winner_page == 1 ? 'text-gray-300' : ''\"\n                  >\n                    <i class=\"px-2 pi pi-angle-double-left\"></i>\n                  </button>\n                  <button\n                    @click=\"winners_page_decreace()\"\n                    :disabled=\"winner_page == 1\"\n                    :class=\"winner_page == 1 ? 'text-gray-300' : ''\"\n                  >\n                    <i class=\"px-2 pi pi-angle-left\"></i>\n                  </button>\n                  <p class=\"px-2\">{{ winner_page }}</p>\n                  <button\n                    @click=\"winners_page_increace()\"\n                    :disabled=\"winner_page == winner_display_count_max\"\n                    :class=\"\n                      winner_page == winner_display_count_max\n                        ? 'text-gray-300'\n                        : ''\n                    \"\n                  >\n                    <i class=\"px-2 pi pi-angle-right\"></i>\n                  </button>\n                  <button\n                    @click=\"winners_page_max()\"\n                    :disabled=\"winner_page == winner_display_count_max\"\n                    :class=\"\n                      winner_page == winner_display_count_max\n                        ? 'text-gray-300'\n                        : ''\n                    \"\n                  >\n                    <i class=\"px-2 pi pi-angle-double-right\"></i>\n                  </button>\n                </div>\n              </section>\n              <div>\n                <button\n                  class=\"ml-6 text-xs my-4 i py-2 px-4 nline-block text-center font-semibold leading-normal text-gray-100 bg-blue-400 hover:bg-blue-600 rounded-lg transition duration-200\"\n                  v-if=\"!before_winner && gift_unconfirmed\"\n                  @click=\"giftConfirm\"\n                >\n                  当選者を確定する\n                </button>\n              </div>\n            </div>\n            <div class=\"px-4 text-gray-100 text-xs\" v-else>\n              <p>キャンペーン開始までお待ちください</p>\n            </div>\n          </div>\n          <div class=\"col-span-3\">\n            <div\n              class=\"text-lg text-gray-100 font-semibold mb-6 mt-6 ml-6 flex items-center justify-between\"\n            >\n              <div class=\"flex items-center\">\n                参加者\n                <div class=\"ml-1 text-sm text-gray-100\">\n                  ( {{ participants.length }} )\n                </div>\n              </div>\n              <div class=\"mx-4\">\n                <DoButton\n                  :clickFunction=\"downloadParticipansPromise\"\n                  :values=\"{}\"\n                  >CSVダウンロード</DoButton\n                >\n              </div>\n            </div>\n            <div class=\"w-full px-4\" v-if=\"campaign_status != 1\">\n              <table class=\"w-full min-w-max\">\n                <thead>\n                  <tr class=\"text-left\">\n                    <th class=\"p-0\">\n                      <div class=\"py-3 px-6 rounded-l-xl bg-gray-600\">\n                        <span class=\"text-xs text-gray-300 font-semibold\"\n                          >username</span\n                        >\n                      </div>\n                    </th>\n                    <th class=\"p-0\">\n                      <div class=\"py-3 px-6 bg-gray-600\">\n                        <span class=\"text-xs text-gray-300 font-semibold\"\n                          >followers</span\n                        >\n                      </div>\n                    </th>\n                    <th class=\"p-0\">\n                      <div class=\"py-3 px-6 bg-gray-600\">\n                        <span class=\"text-xs text-gray-300 font-semibold\"\n                          >win/lose</span\n                        >\n                      </div>\n                    </th>\n                    <th class=\"p-0\" v-if=\"walletConditionExists\">\n                      <div class=\"py-3 px-6 bg-gray-600\">\n                        <span class=\"text-xs text-gray-300 font-semibold\"\n                          >wallet address</span\n                        >\n                      </div>\n                    </th>\n                    <th class=\"p-0\">\n                      <div class=\"py-6 px-6 bg-gray-600\">\n                        <span class=\"text-xs text-gray-300 font-semibold\">\n                        </span>\n                      </div>\n                    </th>\n                    <th class=\"p-0\">\n                      <div class=\"py-6 px-6 bg-gray-600 rounded-r-xl\">\n                        <span class=\"text-xs text-gray-300 font-semibold\">\n                        </span>\n                      </div>\n                    </th>\n                  </tr>\n                </thead>\n                <tbody>\n                  <tr\n                    v-for=\"participant in participants.slice(\n                      (participants_page - 1) * particiapnts_display_count,\n                      participants_page * particiapnts_display_count\n                    )\"\n                    v-bind:key=\"participant.user_id\"\n                  >\n                    <td class=\"p-0\">\n                      <div class=\"flex items-center h-8 px-6\">\n                        <a\n                          class=\"text-sm text-blue-400 font-medium underline\"\n                          :href=\"'https://twitter.com/' + participant.username\"\n                          target=\"_blank\"\n                          rel=\"noopener noreferrer\"\n                          >{{ participant.username }}</a\n                        >\n                      </div>\n                    </td>\n                    <td class=\"p-0\">\n                      <div class=\"flex items-center h-8 px-6\">\n                        <div class=\"flex h-full items-center\">\n                          <span class=\"text-sm font-medium text-gray-100\">{{\n                            participant.followers\n                          }}</span>\n                        </div>\n                      </div>\n                    </td>\n                    <td class=\"p-0\">\n                      <div class=\"flex items-center h-8 px-6\">\n                        <div class=\"flex h-full items-center\">\n                          <span class=\"text-sm font-medium text-gray-100\">{{\n                            participant.win_flag == 0 ? \"×\" : \"◯\"\n                          }}</span>\n                        </div>\n                      </div>\n                    </td>\n                    <td class=\"p-0\" v-if=\"walletConditionExists\">\n                      <div class=\"flex items-center h-8 px-6\">\n                        <div class=\"flex h-full items-center\">\n                          <span class=\"text-sm font-medium text-gray-100\">{{\n                            participant.address\n                          }}</span>\n                        </div>\n                      </div>\n                    </td>\n                    <td></td>\n                  </tr>\n                </tbody>\n              </table>\n              <section\n                class=\"py-6 flex justify-between items-center text-white\"\n              >\n                <div class=\"text-xs text-gray-300\">\n                  showing {{ participants_page }} page of\n                  {{ participants_display_count_max }} results\n                </div>\n                <div class=\"flex pr-12\">\n                  <button\n                    @click=\"participans_page_min()\"\n                    :disabled=\"participants_page == 1\"\n                    :class=\"participants_page == 1 ? 'text-gray-300' : ''\"\n                  >\n                    <i class=\"px-2 pi pi-angle-double-left\"></i>\n                  </button>\n                  <button\n                    @click=\"participans_page_decreace()\"\n                    :disabled=\"participants_page == 1\"\n                    :class=\"participants_page == 1 ? 'text-gray-300' : ''\"\n                  >\n                    <i class=\"px-2 pi pi-angle-left\"></i>\n                  </button>\n                  <p class=\"px-2\">{{ participants_page }}</p>\n                  <button\n                    @click=\"participans_page_increace()\"\n                    :disabled=\"\n                      participants_page == participants_display_count_max\n                    \"\n                    :class=\"\n                      participants_page == participants_display_count_max\n                        ? 'text-gray-300'\n                        : ''\n                    \"\n                  >\n                    <i class=\"px-2 pi pi-angle-right\"></i>\n                  </button>\n                  <button\n                    @click=\"participans_page_max()\"\n                    :disabled=\"\n                      participants_page == participants_display_count_max\n                    \"\n                    :class=\"\n                      participants_page == participants_display_count_max\n                        ? 'text-gray-300'\n                        : ''\n                    \"\n                  >\n                    <i class=\"px-2 pi pi-angle-double-right\"></i>\n                  </button>\n                </div>\n              </section>\n            </div>\n            <div class=\"px-4 text-gray-100 text-xs\" v-else>\n              <p>キャンペーン開始までお待ちください</p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </RightColumnOutline>\n  </div>\n</template>\n\n<script>\nimport SideVar from \"@/components/SideVar.vue\";\nimport api from \"../api/api.js\";\n// import { useRoute } from \"vue-router\";\nimport VueApexCharts from \"vue3-apexcharts\";\n\nexport default {\n  name: \"Campaign_regit\",\n  components: {\n    SideVar,\n    apexchart: VueApexCharts,\n  },\n  mounted() {\n    // const route = useRoute();\n    this.getCampaign();\n    this.getConditions();\n  },\n  data() {\n    return {\n      campaign_status: null,\n      participants: [],\n      winners: [],\n      before_winner: \"\",\n      after_winner: \"\",\n      gift_unconfirmed: false,\n      winner_page: 1,\n      participants_page: 1,\n      winner_display_count: 10,\n      particiapnts_display_count: 10,\n      winner_display_count_max: 1,\n      participants_display_count_max: 1,\n\n      conditions_tweet: [],\n      conditions_twitter_account: [],\n      discordConditionExists: false,\n      walletConditionExists: false,\n      externalSiteConditionExists: false,\n      externalSiteUrl: \"\",\n\n      campaign_name: null,\n      keyword: null,\n      campaign: null,\n      date: [],\n      tweetCount: \"-\",\n      engagementCount: \"-\",\n      paricipantsCount: \"-\",\n      scoreCount: \"-\",\n      tweetCount_yesterday: 1,\n      engagementCount_yesterday: 1,\n      paricipantsCount_yesterday: 1,\n      scoreCount_yesterday: 1,\n      chart_height: window.innerHeight / 3,\n      chart_width: window.innerWidth / 3,\n      dailycountOptions: {\n        chart: {\n          id: \"Daily_Counts\",\n          type: \"area\",\n        },\n        title: {\n          text: \"\",\n          align: \"left\",\n        },\n        dataLabels: {\n          enabled: false,\n        },\n        xaxis: {\n          type: \"datetime\",\n          categories: [],\n          labels: {\n            style: {\n              colors: \"#C4BBAF\",\n            },\n          },\n        },\n        yaxis: {\n          // type: \"datetime\",\n          labels: {\n            style: {\n              colors: \"#C4BBAF\",\n            },\n          },\n        },\n        legend: {\n          show: true,\n          labels: {\n            colors: \"#C4BBAF\",\n          },\n        },\n        grid: {\n          xaxis: {\n            lines: {\n              show: false,\n            },\n          },\n          yaxis: {\n            lines: {\n              show: false,\n            },\n          },\n        },\n      },\n      dailycountSeries: [],\n      scoreOptions: {\n        labels: [],\n        legend: {\n          show: true,\n          labels: {\n            colors: \"#C4BBAF\",\n          },\n        },\n        title: {\n          text: \"testtest\",\n        },\n      },\n      scoreSeries: [],\n    };\n  },\n  watch: {\n    winners: {\n      handler() {\n        for (let i = 0; i < this.winners.length; i++) {\n          if (this.winners[i].status == 0) {\n            this.gift_unconfirmed = true;\n            break;\n          }\n        }\n      },\n      deep: true,\n    },\n  },\n  methods: {\n    getCampaign() {\n      api\n        .getCampaign({ id: this.$route.params.id })\n        .then((response) => {\n          this.campaign_status = response[\"data\"][0][\"status\"];\n          if (this.campaign_status != 1) {\n            api\n              .getParticipants({\n                campaign_id: this.$route.params.id,\n              })\n              .then((response) => {\n                console.log(response);\n                if (response[\"data\"].length != 0) {\n                  for (var i = 0; i < response[\"data\"].length; i++) {\n                    this.participants.push(response[\"data\"][i]);\n                    if (response[\"data\"][i][\"win_flag\"] == 1) {\n                      this.winners.push(response[\"data\"][i]);\n                    }\n                  }\n                  this.participants_display_count_max = Math.ceil(\n                    this.participants.length / this.particiapnts_display_count\n                  );\n                  this.winner_display_count_max = Math.ceil(\n                    this.winners.length / this.winner_display_count\n                  );\n\n                  console.log(this.winners);\n                }\n              })\n              .catch((error) => {\n                console.log(\"error: \", error);\n              });\n          }\n        })\n        .catch((error) => {\n          console.log(\"error: \", error);\n        });\n    },\n    getConditions() {\n      this.conditions_tweet = [];\n      this.conditions_twitter_account = [];\n      this.discordConditionExists = false;\n      this.walletConditionExists = false;\n      this.externalSiteConditionExists = false;\n      this.externalSiteUrl = \"\";\n      api\n        .getConditions({ campaign_id: this.$route.params.id })\n        .then((response) => {\n          console.log(response);\n          let response_data = response[\"data\"];\n          for (var i in response_data) {\n            if (response_data[i][\"actions\"] == \"FOLLOW\") {\n              this.conditions_twitter_account.push({\n                user_id: response_data[i][\"user_id\"],\n                username: response_data[i][\"username\"],\n                followers: response_data[i][\"followers\"],\n              });\n            } else if (response_data[i][\"actions\"] == \"RETWEET\") {\n              this.conditions_tweet.push({\n                tweet_id: response_data[i][\"tweet_id\"],\n                username: response_data[i][\"username\"],\n                text: response_data[i][\"text\"],\n              });\n            } else if (response_data[i][\"actions\"] == \"DISCORD_SERVER_JOIN\") {\n              this.discordConditionExists = true;\n              this.discordInviteUrl = response_data[i][\"invite_url\"];\n            } else if (response_data[i][\"actions\"] == \"WALLET_CONNECT\") {\n              this.walletConditionExists = true;\n            } else if (response_data[i][\"actions\"] == \"EXTERNAL_SITE_VISIT\") {\n              this.externalSiteConditionExists = true;\n              this.externalSiteUrl = response_data[i][\"external_site_url\"];\n            }\n          }\n        })\n        .catch((error) => {\n          console.log(\"error: \", error);\n          this.$toast.show(\n            \"条件の取得に失敗しました。時間を置いて再度お試しください。\",\n            {\n              type: \"error\",\n              position: \"top-right\",\n              duration: 5000,\n            }\n          );\n        });\n    },\n    participans_page_increace() {\n      this.participants_page += 1;\n    },\n    participans_page_decreace() {\n      this.participants_page -= 1;\n    },\n    participans_page_max() {\n      this.participants_page = this.participants_display_count_max;\n    },\n    participans_page_min() {\n      this.participants_page = 1;\n    },\n    winners_page_increace() {\n      this.winner_page += 1;\n    },\n    winners_page_decreace() {\n      this.winner_page -= 1;\n    },\n    winners_page_max() {\n      this.winner_page = this.winner_display_count_max;\n    },\n    winners_page_min() {\n      this.winner_page = 1;\n    },\n    downloadWinnersPromise() {\n      return new Promise((resolve) => {\n        var csv = \"\";\n        if (this.walletConditionExists) {\n          csv =\n            \"\\ufeff\" +\n            \"username,followers,win/lose,gift label,wallet address\\n\";\n        } else {\n          csv = \"\\ufeff\" + \"username,followers,win/lose,gift label\\n\";\n        }\n        this.winners.forEach((el) => {\n          var line = \"\";\n          if (this.walletConditionExists) {\n            line =\n              el[\"username\"] +\n              \",\" +\n              el[\"followers\"] +\n              \",\" +\n              el[\"win_flag\"] +\n              \",\" +\n              el[\"label\"] +\n              \",\" +\n              el[\"address\"] +\n              \"\\n\";\n          } else {\n            line =\n              el[\"username\"] +\n              \",\" +\n              el[\"followers\"] +\n              \",\" +\n              el[\"win_flag\"] +\n              \",\" +\n              el[\"label\"] +\n              \"\\n\";\n          }\n          csv += line;\n        });\n        let blob = new Blob([csv], { type: \"text/csv\" });\n        let link = document.createElement(\"a\");\n        link.href = window.URL.createObjectURL(blob);\n        link.download = \"winners.csv\";\n        link.click();\n        resolve(\"resolved\");\n      });\n    },\n    downloadParticipansPromise() {\n      return new Promise((resolve) => {\n        var csv = \"\";\n        if (this.walletConditionExists) {\n          csv = \"\\ufeff\" + \"username,followers,win/lose,wallet address\\n\";\n        } else {\n          csv = \"\\ufeff\" + \"username,followers,win/lose\\n\";\n        }\n        this.participants.forEach((el) => {\n          var line = \"\";\n          if (this.walletConditionExists) {\n            line =\n              el[\"username\"] +\n              \",\" +\n              el[\"followers\"] +\n              \",\" +\n              el[\"win_flag\"] +\n              \",\" +\n              el[\"address\"] +\n              \"\\n\";\n          } else {\n            line =\n              el[\"username\"] +\n              \",\" +\n              el[\"followers\"] +\n              \",\" +\n              el[\"win_flag\"] +\n              \"\\n\";\n          }\n          csv += line;\n        });\n        let blob = new Blob([csv], { type: \"text/csv\" });\n        let link = document.createElement(\"a\");\n        link.href = window.URL.createObjectURL(blob);\n        link.download = \"participants.csv\";\n        link.click();\n        resolve(\"resolved\");\n      });\n    },\n  },\n};\n</script>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}