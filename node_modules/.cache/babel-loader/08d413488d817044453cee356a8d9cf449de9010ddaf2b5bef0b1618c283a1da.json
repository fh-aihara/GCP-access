{"ast":null,"code":"import _regeneratorRuntime from \"/Users/kazuaki.aihara/Documents/hanabi-admin/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/kazuaki.aihara/Documents/hanabi-admin/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.string.replace.js\";\nimport SideVar from \"@/components/SideVar.vue\";\nimport api from \"../api/api\";\nexport default {\n  data: function data() {\n    return {\n      birthday: null,\n      gender: null,\n      name: \"\",\n      user_id: null,\n      personalPic: null,\n      picShow: null\n    };\n  },\n  components: {\n    SideVar: SideVar\n  },\n  mounted: function mounted() {\n    this.getage_verification();\n    this.getage_verification_image();\n  },\n  computed: {},\n  methods: {\n    getage_verification: function getage_verification() {\n      var _this = this;\n      api.getage_verification({\n        id: this.$route.params.id\n      }).then(function (response) {\n        console.log(response);\n        _this.birthday = response.data.birthday;\n        _this.name = response.data.name;\n        _this.gender = response.data.gender;\n        _this.user_id = response.data.user_id;\n      })[\"catch\"](function (error) {\n        this.$toast.show(\"データの取得に失敗しました。システム管理者にお問合せください。\", {\n          type: \"error\",\n          position: \"top-right\",\n          duration: 5000\n        });\n        console.log(error);\n      });\n    },\n    getage_verification_image: function getage_verification_image() {\n      var _this2 = this;\n      api.getage_verification_image({\n        id: this.$route.params.id\n      }).then(function (response) {\n        console.log(response);\n        _this2.personalPic = \"data:image/png;base64,\" + response.data;\n      })[\"catch\"](function (error) {\n        this.$toast.show(\"データの取得に失敗しました。システム管理者にお問合せください。\", {\n          type: \"error\",\n          position: \"top-right\",\n          duration: 5000\n        });\n        console.log(error);\n      });\n    },\n    selectedHeader: function selectedHeader(e) {\n      e.preventDefault();\n      var files = e.target.files;\n      this.headerPic = files[0];\n      this.createHeader(files[0]);\n    },\n    selectedWin: function selectedWin(e) {\n      e.preventDefault();\n      var files = e.target.files;\n      this.winPic = files[0];\n      this.createWin(files[0]);\n    },\n    selectedLose: function selectedLose(e) {\n      e.preventDefault();\n      var files = e.target.files;\n      this.losePic = files[0];\n      this.createLose(files[0]);\n    },\n    createHeader: function createHeader(file) {\n      var _this3 = this;\n      var reader = new FileReader();\n      reader.onload = function (e) {\n        _this3.headerPreview = e.target.result;\n      };\n      reader.readAsDataURL(file);\n    },\n    removeHeader: function removeHeader() {\n      this.headerPreview = false;\n    },\n    createWin: function createWin(file) {\n      var _this4 = this;\n      var reader = new FileReader();\n      reader.onload = function (e) {\n        _this4.winPreview = e.target.result;\n      };\n      reader.readAsDataURL(file);\n    },\n    removeWin: function removeWin() {\n      this.winPreview = false;\n    },\n    createLose: function createLose(file) {\n      var _this5 = this;\n      var reader = new FileReader();\n      reader.onload = function (e) {\n        _this5.losePreview = e.target.result;\n      };\n      reader.readAsDataURL(file);\n    },\n    removeLose: function removeLose() {\n      this.losePreview = false;\n    },\n    postPics: function () {\n      var _postPics = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var config, header, win, lose;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              this.regist_loading = true;\n              config = {\n                headers: {\n                  \"content-type\": \"multipart/form-data\"\n                }\n              };\n              header = new FormData();\n              header.append(\"file\", this.headerPic);\n              win = new FormData();\n              win.append(\"file\", this.winPic);\n              lose = new FormData();\n              lose.append(\"file\", this.losePic);\n              // 順次アップロード判断＋アップロード\n              if (!this.serviceSiteURL) {\n                _context.next = 11;\n                break;\n              }\n              _context.next = 11;\n              return api.updateInstantWin({\n                campaign_id: this.$route.params.id,\n                landing_page_url: this.serviceSiteURL\n              }).then(function (response) {\n                console.log(response);\n              })[\"catch\"](function (error) {\n                this.$toast.show(\"サービスサイトURLの登録に失敗しました\", {\n                  type: \"error\",\n                  position: \"top-right\",\n                  duration: 5000\n                });\n                console.log(error);\n                this.regist_loading = false;\n              });\n            case 11:\n              if (!this.headerPic) {\n                _context.next = 14;\n                break;\n              }\n              _context.next = 14;\n              return api.uploadHeader({\n                campaign_id: this.$route.params.id,\n                form: header\n              }, config).then(function (response) {\n                console.log(response);\n              })[\"catch\"](function (error) {\n                this.$toast.show(\"ヘッダー画像の登録に失敗しました\", {\n                  type: \"error\",\n                  position: \"top-right\",\n                  duration: 5000\n                });\n                console.log(error);\n                this.regist_loading = false;\n              });\n            case 14:\n              if (!this.winPic) {\n                _context.next = 17;\n                break;\n              }\n              _context.next = 17;\n              return api.uploadWin({\n                campaign_id: this.$route.params.id,\n                form: win\n              }, config).then(function (response) {\n                console.log(response);\n              })[\"catch\"](function (error) {\n                this.$toast.show(\"当選画像の登録に失敗しました\", {\n                  type: \"error\",\n                  position: \"top-right\",\n                  duration: 5000\n                });\n                console.log(error);\n                this.regist_loading = false;\n              });\n            case 17:\n              if (!this.losePic) {\n                _context.next = 20;\n                break;\n              }\n              _context.next = 20;\n              return api.uploadLose({\n                campaign_id: this.$route.params.id,\n                form: lose\n              }, config).then(function (response) {\n                console.log(response);\n              })[\"catch\"](function (error) {\n                this.$toast.show(\"落選画像の登録に失敗しました\", {\n                  type: \"error\",\n                  position: \"top-right\",\n                  duration: 5000\n                });\n                console.log(error);\n                this.regist_loading = false;\n              });\n            case 20:\n              _context.next = 22;\n              return api.updateInstantWin({\n                campaign_id: this.$route.params.id,\n                win_text: this.winText,\n                lose_text: this.loseText\n              }, config).then(function (response) {\n                console.log(response);\n              })[\"catch\"](function (error) {\n                this.$toast.show(\"テキストの登録に失敗しました\", {\n                  type: \"error\",\n                  position: \"top-right\",\n                  duration: 5000\n                });\n                console.log(error);\n                this.regist_loading = true;\n              });\n            case 22:\n              this.regist_loading = false;\n              this.$toast.show(\"画像・テキストの登録が完了しました\", {\n                type: \"success\",\n                position: \"top-right\",\n                duration: 3000\n              });\n              this.$router.replace(\"/campaigns\");\n            case 25:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, this);\n      }));\n      function postPics() {\n        return _postPics.apply(this, arguments);\n      }\n      return postPics;\n    }()\n  }\n};","map":{"version":3,"mappings":"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","names":["SideVar","api","data","birthday","gender","name","user_id","personalPic","picShow","components","mounted","getage_verification","getage_verification_image","computed","methods","id","$route","params","then","response","console","log","error","$toast","show","type","position","duration","selectedHeader","e","preventDefault","files","target","headerPic","createHeader","selectedWin","winPic","createWin","selectedLose","losePic","createLose","file","reader","FileReader","onload","headerPreview","result","readAsDataURL","removeHeader","winPreview","removeWin","losePreview","removeLose","postPics","regist_loading","config","headers","header","FormData","append","win","lose","serviceSiteURL","updateInstantWin","campaign_id","landing_page_url","uploadHeader","form","uploadWin","uploadLose","win_text","winText","lose_text","loseText","$router","replace"],"sourceRoot":"","sources":["/Users/kazuaki.aihara/Documents/hanabi-admin/src/views/KycCheck.vue"],"sourcesContent":["<template>\n  <!-- <input @change=\"selectedFile\" type=\"file\" name=\"file\" />\n  <button @click=\"upload\" type=\"submit\">アップロード</button> -->\n  <div class=\"KyCheck\">\n    <div>\n      <!-- side var  -->\n      <SideVar />\n      <!-- input panel -->\n      <RightColumnOutline>\n        <PageTitle>KYC審査</PageTitle>\n        <div class=\"flex justify-left items-center\">\n          <div class=\"text-white text-left ml-4 text-lg\">ユーザーID：</div>\n          <div class=\"text-white text-left ml-4 text-lg\">{{ user_id }}</div>\n        </div>\n        <div class=\"flex justify-left items-center mt-4\">\n          <div class=\"text-white text-left ml-4 text-lg\">性別：</div>\n          <div class=\"text-white text-left ml-4 text-lg\">{{ gender }}</div>\n        </div>\n        <div class=\"flex justify-left items-center mt-4\">\n          <div class=\"text-white text-left ml-4 text-lg\">ユーザー名：</div>\n          <div class=\"text-white text-left ml-4 text-lg\">{{ name }}</div>\n        </div>\n        <div class=\"flex justify-left items-center mt-4\">\n          <div class=\"text-white text-left ml-4 text-lg\">生年月日：</div>\n          <div class=\"text-white text-left ml-4 text-lg\">{{ birthday }}</div>\n        </div>\n        <div class=\"mt-4 text-lg text-white text-left ml-4 mx-auto\">\n          年齢証明画像：\n        </div>\n        <img :src=\"personalPic\" v-if=\"personalPic\" class=\"mt-2 ml-4 w-2/3\" />\n        <div class=\"flex justify-around items-center\">\n          <div class=\"flex items-center pl-4 text-white\">\n            <input\n              id=\"bordered-radio-1\"\n              type=\"radio\"\n              value=\"\"\n              name=\"bordered-radio\"\n              class=\"w-4 h-4\"\n            />\n            <label for=\"bordered-radio-1\" class=\"py-4 ml-2 text-sm font-medium\"\n              >承認</label\n            >\n          </div>\n          <div class=\"flex items-center pl-4 text-white\">\n            <input\n              checked\n              id=\"bordered-radio-2\"\n              type=\"radio\"\n              value=\"\"\n              name=\"bordered-radio\"\n              class=\"w-4 h-4\"\n            />\n            <label for=\"bordered-radio-2\" class=\"py-4 ml-2 text-sm font-medium\"\n              >非承認</label\n            >\n          </div>\n          <div class=\"flex items-center pl-4 text-white\">\n            <input\n              checked\n              id=\"bordered-radio-2\"\n              type=\"radio\"\n              value=\"\"\n              name=\"bordered-radio\"\n              class=\"w-4 h-4\"\n            />\n            <label for=\"bordered-radio-2\" class=\"py-4 ml-2 text-sm font-medium\"\n              >ペンディング</label\n            >\n          </div>\n        </div>\n      </RightColumnOutline>\n    </div>\n  </div>\n</template>\n\n<script>\nimport SideVar from \"@/components/SideVar.vue\";\nimport api from \"../api/api\";\nexport default {\n  data: function () {\n    return {\n      birthday: null,\n      gender: null,\n      name: \"\",\n      user_id: null,\n      personalPic: null,\n      picShow: null,\n    };\n  },\n  components: {\n    SideVar,\n  },\n  mounted() {\n    this.getage_verification();\n    this.getage_verification_image();\n  },\n  computed: {},\n  methods: {\n    getage_verification: function () {\n      api\n        .getage_verification({ id: this.$route.params.id })\n        .then((response) => {\n          console.log(response);\n          this.birthday = response.data.birthday;\n          this.name = response.data.name;\n          this.gender = response.data.gender;\n          this.user_id = response.data.user_id;\n        })\n        .catch(function (error) {\n          this.$toast.show(\n            \"データの取得に失敗しました。システム管理者にお問合せください。\",\n            {\n              type: \"error\",\n              position: \"top-right\",\n              duration: 5000,\n            }\n          );\n          console.log(error);\n        });\n    },\n    getage_verification_image: function () {\n      api\n        .getage_verification_image({ id: this.$route.params.id })\n        .then((response) => {\n          console.log(response);\n          this.personalPic = \"data:image/png;base64,\" + response.data;\n        })\n        .catch(function (error) {\n          this.$toast.show(\n            \"データの取得に失敗しました。システム管理者にお問合せください。\",\n            { type: \"error\", position: \"top-right\", duration: 5000 }\n          );\n          console.log(error);\n        });\n    },\n    selectedHeader: function (e) {\n      e.preventDefault();\n      let files = e.target.files;\n      this.headerPic = files[0];\n      this.createHeader(files[0]);\n    },\n    selectedWin: function (e) {\n      e.preventDefault();\n      let files = e.target.files;\n      this.winPic = files[0];\n      this.createWin(files[0]);\n    },\n    selectedLose: function (e) {\n      e.preventDefault();\n      let files = e.target.files;\n      this.losePic = files[0];\n      this.createLose(files[0]);\n    },\n    createHeader(file) {\n      const reader = new FileReader();\n      reader.onload = (e) => {\n        this.headerPreview = e.target.result;\n      };\n      reader.readAsDataURL(file);\n    },\n    removeHeader() {\n      this.headerPreview = false;\n    },\n    createWin(file) {\n      const reader = new FileReader();\n      reader.onload = (e) => {\n        this.winPreview = e.target.result;\n      };\n      reader.readAsDataURL(file);\n    },\n    removeWin() {\n      this.winPreview = false;\n    },\n    createLose(file) {\n      const reader = new FileReader();\n      reader.onload = (e) => {\n        this.losePreview = e.target.result;\n      };\n      reader.readAsDataURL(file);\n    },\n    removeLose() {\n      this.losePreview = false;\n    },\n    postPics: async function () {\n      this.regist_loading = true;\n      let config = {\n        headers: {\n          \"content-type\": \"multipart/form-data\",\n        },\n      };\n      let header = new FormData();\n      header.append(\"file\", this.headerPic);\n      let win = new FormData();\n      win.append(\"file\", this.winPic);\n      let lose = new FormData();\n      lose.append(\"file\", this.losePic);\n      // 順次アップロード判断＋アップロード\n      if (this.serviceSiteURL) {\n        await api\n          .updateInstantWin({\n            campaign_id: this.$route.params.id,\n            landing_page_url: this.serviceSiteURL,\n          })\n          .then(function (response) {\n            console.log(response);\n          })\n          .catch(function (error) {\n            this.$toast.show(\"サービスサイトURLの登録に失敗しました\", {\n              type: \"error\",\n              position: \"top-right\",\n              duration: 5000,\n            });\n            console.log(error);\n            this.regist_loading = false;\n          });\n      }\n      if (this.headerPic) {\n        await api\n          .uploadHeader(\n            { campaign_id: this.$route.params.id, form: header },\n            config\n          )\n          .then(function (response) {\n            console.log(response);\n          })\n          .catch(function (error) {\n            this.$toast.show(\"ヘッダー画像の登録に失敗しました\", {\n              type: \"error\",\n              position: \"top-right\",\n              duration: 5000,\n            });\n            console.log(error);\n            this.regist_loading = false;\n          });\n      }\n      if (this.winPic) {\n        await api\n          .uploadWin({ campaign_id: this.$route.params.id, form: win }, config)\n          .then(function (response) {\n            console.log(response);\n          })\n          .catch(function (error) {\n            this.$toast.show(\"当選画像の登録に失敗しました\", {\n              type: \"error\",\n              position: \"top-right\",\n              duration: 5000,\n            });\n            console.log(error);\n            this.regist_loading = false;\n          });\n      }\n      if (this.losePic) {\n        await api\n          .uploadLose(\n            { campaign_id: this.$route.params.id, form: lose },\n            config\n          )\n          .then(function (response) {\n            console.log(response);\n          })\n          .catch(function (error) {\n            this.$toast.show(\"落選画像の登録に失敗しました\", {\n              type: \"error\",\n              position: \"top-right\",\n              duration: 5000,\n            });\n            console.log(error);\n            this.regist_loading = false;\n          });\n      }\n      await api\n        .updateInstantWin(\n          {\n            campaign_id: this.$route.params.id,\n            win_text: this.winText,\n            lose_text: this.loseText,\n          },\n          config\n        )\n        .then(function (response) {\n          console.log(response);\n        })\n        .catch(function (error) {\n          this.$toast.show(\"テキストの登録に失敗しました\", {\n            type: \"error\",\n            position: \"top-right\",\n            duration: 5000,\n          });\n          console.log(error);\n          this.regist_loading = true;\n        });\n      this.regist_loading = false;\n      this.$toast.show(\"画像・テキストの登録が完了しました\", {\n        type: \"success\",\n        position: \"top-right\",\n        duration: 3000,\n      });\n      this.$router.replace(\"/campaigns\");\n    },\n  },\n};\n</script>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}