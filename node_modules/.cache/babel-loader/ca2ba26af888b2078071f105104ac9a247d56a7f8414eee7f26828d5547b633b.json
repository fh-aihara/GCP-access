{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, openBlock as _openBlock, createElementBlock as _createElementBlock, createElementVNode as _createElementVNode } from \"vue\";\nvar _hoisted_1 = {\n  \"class\": \"KpiViewer\"\n};\nvar _hoisted_2 = {\n  key: 0,\n  id: \"chart\",\n  \"class\": \"bg-white\"\n};\nvar _hoisted_3 = {\n  key: 1,\n  id: \"chart\",\n  \"class\": \"bg-white w-1/2 mt-6\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_SideVar = _resolveComponent(\"SideVar\");\n  var _component_PageTitle = _resolveComponent(\"PageTitle\");\n  var _component_apexchart = _resolveComponent(\"apexchart\");\n  var _component_RightColumnOutline = _resolveComponent(\"RightColumnOutline\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", null, [_createCommentVNode(\" side var  \"), _createVNode(_component_SideVar), _createCommentVNode(\" input panel \"), _createVNode(_component_RightColumnOutline, null, {\n    \"default\": _withCtx(function () {\n      return [_createVNode(_component_PageTitle, null, {\n        \"default\": _withCtx(function () {\n          return [_createTextVNode(\"KPIビュー\")];\n        }),\n        _: 1 /* STABLE */\n      }), _ctx.accountView ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [_createVNode(_component_apexchart, {\n        type: \"line\",\n        height: \"350\",\n        options: _ctx.accountChartOptions,\n        series: _ctx.accountSeries\n      }, null, 8 /* PROPS */, [\"options\", \"series\"])])) : _createCommentVNode(\"v-if\", true), _ctx.genderView ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [_createVNode(_component_apexchart, {\n        type: \"donut\",\n        options: _ctx.genderChartOptions,\n        series: _ctx.genderSeries\n      }, null, 8 /* PROPS */, [\"options\", \"series\"])])) : _createCommentVNode(\"v-if\", true)];\n    }),\n    _: 1 /* STABLE */\n  })])]);\n}","map":{"version":3,"mappings":";;EACO,SAAM;AAAW;;;EAOXA,EAAE,EAAC,OAAO;EAAC,SAAM;;;;EAQjBA,EAAE,EAAC,OAAO;EAAC,SAAM;;;;;;;uBAf5BC,oBAwBM,OAxBNC,UAwBM,GAvBJC,oBAsBM,cArBJC,kCAAkB,EAClBC,aAAWC,qBACXF,oCAAoB,EACpBC,aAiBqBE;wBAhBnB;MAAA,OAA6B,CAA7BF,aAA6BG;4BAAlB;UAAA,OAAM,kBAAN,QAAM;;;UACsBC,gBAAW,kBAAlDR,oBAOM,OAPNS,UAOM,GANJL,aAKaM;QAJXC,IAAI,EAAC,MAAM;QACXC,MAAM,EAAC,KAAK;QACXC,OAAO,EAAEL,wBAAmB;QAC5BM,MAAM,EAAEN;6FAGqCA,eAAU,kBAA5DR,oBAMM,OANNe,UAMM,GALJX,aAIaM;QAHXC,IAAI,EAAC,OAAO;QACXE,OAAO,EAAEL,uBAAkB;QAC3BM,MAAM,EAAEN","names":["id","_createElementBlock","_hoisted_1","_createElementVNode","_createCommentVNode","_createVNode","_component_SideVar","_component_RightColumnOutline","_component_PageTitle","_ctx","_hoisted_2","_component_apexchart","type","height","options","series","_hoisted_3"],"sourceRoot":"","sources":["/Users/kazuaki.aihara/Documents/hanabi-admin/src/views/KpiViewer.vue"],"sourcesContent":["<template>\n  <div class=\"KpiViewer\">\n    <div>\n      <!-- side var  -->\n      <SideVar />\n      <!-- input panel -->\n      <RightColumnOutline>\n        <PageTitle>KPIビュー</PageTitle>\n        <div id=\"chart\" class=\"bg-white\" v-if=\"accountView\">\n          <apexchart\n            type=\"line\"\n            height=\"350\"\n            :options=\"accountChartOptions\"\n            :series=\"accountSeries\"\n          ></apexchart>\n        </div>\n        <div id=\"chart\" class=\"bg-white w-1/2 mt-6\" v-if=\"genderView\">\n          <apexchart\n            type=\"donut\"\n            :options=\"genderChartOptions\"\n            :series=\"genderSeries\"\n          ></apexchart>\n        </div>\n      </RightColumnOutline>\n    </div>\n  </div>\n</template>\n\n<script>\nimport SideVar from \"@/components/SideVar.vue\";\nimport VueApexCharts from \"vue3-apexcharts\";\nimport api from \"../api/api\";\nexport default {\n  data: function () {\n    return {\n      // accountCreation\n      accountView: false,\n      accountSeries: [\n        {\n          name: \"アカウント登録数\",\n          type: \"column\",\n          data: [],\n        },\n        {\n          name: \"累計アカウント登録数\",\n          type: \"line\",\n          data: [],\n        },\n      ],\n      accountChartOptions: {\n        chart: { height: 350, type: \"line\" },\n        stroke: { width: [0, 4] },\n        title: { text: \"アカウント登録者数推移\" },\n        dataLabels: { enabled: true, enabledOnSeries: [1] },\n        labels: [],\n        xaxis: { type: \"datetime\" },\n        yaxis: [\n          {\n            title: { text: \"アカウント登録者数\" },\n          },\n          { opposite: true, title: { text: \"累計アカウント登録者数\" } },\n        ],\n      },\n      // gender\n      genderView: true,\n      genderSeries: [],\n      genderChartOptions: {\n        chart: { type: \"donut\" },\n        labels: [],\n        responsive: [\n          {\n            breakpoint: 480,\n            options: {\n              chart: { width: 200 },\n              legend: {\n                position: \"bottom\",\n              },\n            },\n          },\n        ],\n      },\n    };\n  },\n  components: {\n    apexchart: VueApexCharts,\n    SideVar,\n  },\n  mounted() {\n    this.getAccountCreationData();\n    this.getAccountGenderData();\n  },\n  computed: {},\n  methods: {\n    getAccountCreationData: function () {\n      api\n        .getAccountCreationData()\n        .then((response) => {\n          console.log(response);\n          for (let i = 0; i < response[\"data\"].length; i++) {\n            this.accountSeries[0][\"data\"].push(\n              response[\"data\"][i][\"daily_count\"]\n            );\n            this.accountSeries[1][\"data\"].push(\n              response[\"data\"][i][\"cumulative_count\"]\n            );\n            this.accountChartOptions[\"labels\"].push(\n              response[\"data\"][i][\"formatted_date\"]\n            );\n          }\n          this.accountView = true;\n        })\n        .catch(function (error) {\n          this.$toast.show(\n            \"データの取得に失敗しました。システム管理者にお問合せください。\",\n            { type: \"error\", position: \"top-right\", duration: 5000 }\n          );\n          console.log(error);\n        });\n    },\n    getAccountGenderData: function () {\n      api\n        .getAccountGenderData()\n        .then((response) => {\n          for (let i = 0; i < response[\"data\"].length; i++) {\n            console.log(response[\"data\"][i]);\n          }\n          this.accountView = true;\n        })\n        .catch(function (error) {\n          this.$toast.show(\n            \"データの取得に失敗しました。システム管理者にお問合せください。\",\n            { type: \"error\", position: \"top-right\", duration: 5000 }\n          );\n          console.log(error);\n        });\n    },\n  },\n};\n</script>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}